!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=function(e){return e||(e={attributes:[],ips:!0,emails:!0,urls:!0,files:!0,truncate:1/0,defaultProtocol:"http://",list:!1}),"object"!=typeof e.attributes&&(e.attributes=[]),"boolean"!=typeof e.ips&&(e.ips=!0),"boolean"!=typeof e.emails&&(e.emails=!0),"boolean"!=typeof e.urls&&(e.urls=!0),"boolean"!=typeof e.files&&(e.files=!0),"boolean"!=typeof e.list&&(e.list=!1),"string"!=typeof e.defaultProtocol&&"function"!=typeof e.defaultProtocol&&(e.defaultProtocol="http://"),"number"==typeof e.truncate||"object"==typeof e.truncate&&null!==e.truncate||(e.truncate=1/0),e},t.isPort=function(e){return!(isNaN(Number(e))||Number(e)>65535)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tlds=["com","org","net","uk","gov","edu","io","cc","co","aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","active","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","aigo","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blanco","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnl","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","boots","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","cartier","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cd","ceb","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","chase","chat","cheap","chintai","chloe","christmas","chrome","chrysler","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","coach","codes","coffee","college","cologne","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dodge","dog","doha","domains","dot","download","drive","dtv","dubai","duck","dunlop","duns","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epost","epson","equipment","er","ericsson","erni","es","esq","estate","esurance","et","eu","eurovision","eus","events","everbank","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodhands","goodyear","goog","google","gop","got","gp","gq","gr","grainger","graphics","gratis","green","gripe","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","honeywell","horse","hospital","host","hosting","hot","hoteles","hotmail","house","how","hr","hsbc","ht","htc","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","industries","infiniti","info","ing","ink","institute","insurance","insure","int","intel","international","intuit","investments","ipiranga","iq","ir","irish","is","iselect","ismaili","ist","istanbul","it","itau","itv","iveco","iwc","jaguar","java","jcb","jcp","je","jeep","jetzt","jewelry","jio","jlc","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","ladbrokes","lamborghini","lamer","lancaster","lancia","lancome","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","liaison","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mcd","mcdonalds","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","meo","metlife","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","mobily","moda","moe","moi","mom","monash","money","monster","montblanc","mopar","mormon","mortgage","moscow","moto","motorcycles","mov","movie","movistar","mp","mq","mr","ms","msd","mt","mtn","mtpc","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nadex","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","organic","orientexpress","origins","osaka","otsuka","ott","ovh","pa","page","pamperedchef","panasonic","panerai","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","philips","phone","photo","photography","photos","physio","piaget","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","rightathome","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sapo","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scor","scot","sd","se","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","shriram","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","space","spiegel","spot","spreadbetting","sr","srl","srt","st","stada","staples","star","starhub","statebank","statefarm","statoil","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","symantec","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","telecity","telefonica","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","uconnect","ug","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","vista","vistaprint","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","warman","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","xn--11b4c3d","xn--1ck2e1b","xn--1qqw23a","xn--30rr7y","xn--3bst00m","xn--3ds443g","xn--3e0b707e","xn--3oq18vl8pn36a","xn--3pxu8k","xn--42c2d9a","xn--45brj9c","xn--45q11c","xn--4gbrim","xn--54b7fta0cc","xn--55qw42g","xn--55qx5d","xn--5su34j936bgsg","xn--5tzm5g","xn--6frz82g","xn--6qq986b3xl","xn--80adxhks","xn--80ao21a","xn--80aqecdr1a","xn--80asehdb","xn--80aswg","xn--8y0a063a","xn--90a3ac","xn--90ae","xn--90ais","xn--9dbq2a","xn--9et52u","xn--9krt00a","xn--b4w605ferd","xn--bck1b9a5dre4c","xn--c1avg","xn--c2br7g","xn--cck2b3b","xn--cg4bki","xn--clchc0ea0b2g2a9gcd","xn--czr694b","xn--czrs0t","xn--czru2d","xn--d1acj3b","xn--d1alf","xn--e1a4c","xn--eckvdtc9d","xn--efvy88h","xn--estv75g","xn--fct429k","xn--fhbei","xn--fiq228c5hs","xn--fiq64b","xn--fiqs8s","xn--fiqz9s","xn--fjq720a","xn--flw351e","xn--fpcrj9c3d","xn--fzc2c9e2c","xn--fzys8d69uvgm","xn--g2xx48c","xn--gckr3f0f","xn--gecrj9c","xn--gk3at1e","xn--h2brj9c","xn--hxt814e","xn--i1b6b1a6a2e","xn--imr513n","xn--io0a7i","xn--j1aef","xn--j1amh","xn--j6w193g","xn--jlq61u9w7b","xn--jvr189m","xn--kcrx77d1x4a","xn--kprw13d","xn--kpry57d","xn--kpu716f","xn--kput3i","xn--l1acc","xn--lgbbat1ad8j","xn--mgb9awbf","xn--mgba3a3ejt","xn--mgba3a4f16a","xn--mgba7c0bbn0a","xn--mgbaam7a8h","xn--mgbab2bd","xn--mgbai9azgqp6j","xn--mgbayh7gpa","xn--mgbb9fbpob","xn--mgbbh1a71e","xn--mgbc0a9azcg","xn--mgbca7dzdo","xn--mgberp4a5d4ar","xn--mgbi4ecexp","xn--mgbpl2fh","xn--mgbt3dhd","xn--mgbtx2b","xn--mgbx4cd0ab","xn--mix891f","xn--mk1bu44c","xn--mxtq1m","xn--ngbc5azd","xn--ngbe9e0a","xn--node","xn--nqv7f","xn--nqv7fs00ema","xn--nyqy26a","xn--o3cw4h","xn--ogbpf8fl","xn--p1acf","xn--p1ai","xn--pbt977c","xn--pgbs0dh","xn--pssy2u","xn--q9jyb4c","xn--qcka1pmc","xn--qxam","xn--rhqv96g","xn--rovu88b","xn--s9brj9c","xn--ses554g","xn--t60b56a","xn--tckwe","xn--tiq49xqyj","xn--unup4y","xn--vermgensberater-ctb","xn--vermgensberatung-pwb","xn--vhquv","xn--vuq861b","xn--w4r85el8fhu5dnra","xn--w4rs40l","xn--wgbh1c","xn--wgbl6a","xn--xhq521b","xn--xkc2al3hye2a","xn--xkc2dl3a5ee0h","xn--y9a3aq","xn--yfro4i67o","xn--ygbi2ammx","xn--zfr164b","xperia","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zippo","zm","zone","zuerich","zw"],t.htmlAttrs=["src=","data=","href=","cite=","formaction=","icon=","manifest=","poster=","codebase=","background=","profile=","usemap="]},function(e,t,n){"use strict";n.r(t),n.d(t,"h",function(){return s}),n.d(t,"createElement",function(){return s}),n.d(t,"cloneElement",function(){return u}),n.d(t,"Component",function(){return N}),n.d(t,"render",function(){return A}),n.d(t,"rerender",function(){return p}),n.d(t,"options",function(){return i});var o=function(){},i={},r=[],a=[];function s(e,t){var n,s,l,c,u=a;for(c=arguments.length;c-- >2;)r.push(arguments[c]);for(t&&null!=t.children&&(r.length||r.push(t.children),delete t.children);r.length;)if((s=r.pop())&&void 0!==s.pop)for(c=s.length;c--;)r.push(s[c]);else"boolean"==typeof s&&(s=null),(l="function"!=typeof e)&&(null==s?s="":"number"==typeof s?s=String(s):"string"!=typeof s&&(l=!1)),l&&n?u[u.length-1]+=s:u===a?u=[s]:u.push(s),n=l;var d=new o;return d.nodeName=e,d.children=u,d.attributes=null==t?void 0:t,d.key=null==t?void 0:t.key,void 0!==i.vnode&&i.vnode(d),d}function l(e,t){for(var n in t)e[n]=t[n];return e}var c="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function u(e,t){return s(e.nodeName,l(l({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var d=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,h=[];function f(e){!e._dirty&&(e._dirty=!0)&&1==h.push(e)&&(i.debounceRendering||c)(p)}function p(){var e,t=h;for(h=[];e=t.pop();)e._dirty&&S(e)}function m(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function v(e){var t=l({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var o in n)void 0===t[o]&&(t[o]=n[o]);return t}function g(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n,o,i){if("className"===t&&(t="class"),"key"===t)   ;else if("ref"===t)n&&n(null),o&&o(e);else if("class"!==t||i)if("style"===t){if(o&&"string"!=typeof o&&"string"!=typeof n||(e.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var r in n)r in o||(e.style[r]="");for(var r in o)e.style[r]="number"==typeof o[r]&&!1===d.test(r)?o[r]+"px":o[r]}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,x,a):e.removeEventListener(t,x,a),(e._listeners||(e._listeners={}))[t]=o}else if("list"!==t&&"type"!==t&&!i&&t in e){try{e[t]=null==o?"":o}catch(e){}null!=o&&!1!==o||"spellcheck"==t||e.removeAttribute(t)}else{var s=i&&t!==(t=t.replace(/^xlink:?/,""));null==o||!1===o?s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof o&&(s?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||""}function x(e){return this._listeners[e.type](i.event&&i.event(e)||e)}var b=[],_=0,w=!1,E=!1;function P(){for(var e;e=b.pop();)i.afterMount&&i.afterMount(e),e.componentDidMount&&e.componentDidMount()}function k(e,t,n,o,i,r){_++||(w=null!=i&&void 0!==i.ownerSVGElement,E=null!=e&&!("__preactattr_"in e));var a=function e(t,n,o,i,r){var a=t,s=w;if(null!=n&&"boolean"!=typeof n||(n=""),"string"==typeof n||"number"==typeof n)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||r)?t.nodeValue!=n&&(t.nodeValue=n):(a=document.createTextNode(n),t&&(t.parentNode&&t.parentNode.replaceChild(a,t),T(t,!0))),a.__preactattr_=!0,a;var l,c,u=n.nodeName;if("function"==typeof u)return function(e,t,n,o){for(var i=e&&e._component,r=i,a=e,s=i&&e._componentConstructor===t.nodeName,l=s,c=v(t);i&&!l&&(i=i._parentComponent);)l=i.constructor===t.nodeName;return i&&l&&(!o||i._component)?(O(i,c,3,n,o),e=i.base):(r&&!s&&(I(r),e=a=null),i=R(t.nodeName,c,n),e&&!i.nextBase&&(i.nextBase=e,a=null),O(i,c,1,n,o),e=i.base,a&&e!==a&&(a._component=null,T(a,!1))),e}(t,n,o,i);if(w="svg"===u||"foreignObject"!==u&&w,u=String(u),(!t||!m(t,u))&&(l=u,(c=w?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l)).normalizedNodeName=l,a=c,t)){for(;t.firstChild;)a.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(a,t),T(t,!0)}var d=a.firstChild,h=a.__preactattr_,f=n.children;if(null==h){h=a.__preactattr_={};for(var p=a.attributes,x=p.length;x--;)h[p[x].name]=p[x].value}return!E&&f&&1===f.length&&"string"==typeof f[0]&&null!=d&&void 0!==d.splitText&&null==d.nextSibling?d.nodeValue!=f[0]&&(d.nodeValue=f[0]):(f&&f.length||null!=d)&&function(t,n,o,i,r){var a,s,l,c,u,d,h,f,p=t.childNodes,v=[],y={},x=0,b=0,_=p.length,w=0,E=n?n.length:0;if(0!==_)for(var P=0;P<_;P++){var k=p[P],M=k.__preactattr_,L=E&&M?k._component?k._component.__key:M.key:null;null!=L?(x++,y[L]=k):(M||(void 0!==k.splitText?!r||k.nodeValue.trim():r))&&(v[w++]=k)}if(0!==E)for(var P=0;P<E;P++){c=n[P],u=null;var L=c.key;if(null!=L)x&&void 0!==y[L]&&(u=y[L],y[L]=void 0,x--);else if(b<w)for(a=b;a<w;a++)if(void 0!==v[a]&&(d=s=v[a],f=r,"string"==typeof(h=c)||"number"==typeof h?void 0!==d.splitText:"string"==typeof h.nodeName?!d._componentConstructor&&m(d,h.nodeName):f||d._componentConstructor===h.nodeName)){u=s,v[a]=void 0,a===w-1&&w--,a===b&&b++;break}u=e(u,c,o,i),l=p[P],u&&u!==t&&u!==l&&(null==l?t.appendChild(u):u===l.nextSibling?g(l):t.insertBefore(u,l))}if(x)for(var P in y)void 0!==y[P]&&T(y[P],!1);for(;b<=w;)void 0!==(u=v[w--])&&T(u,!1)}(a,f,o,i,E||null!=h.dangerouslySetInnerHTML),function(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||y(e,o,n[o],n[o]=void 0,w);for(o in t)"children"===o||"innerHTML"===o||o in n&&t[o]===("value"===o||"checked"===o?e[o]:n[o])||y(e,o,n[o],n[o]=t[o],w)}(a,n.attributes,h),w=s,a}(e,t,n,o,r);return i&&a.parentNode!==i&&i.appendChild(a),--_||(E=!1,r||P()),a}function T(e,t){var n=e._component;n?I(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||g(e),M(e))}function M(e){for(e=e.lastChild;e;){var t=e.previousSibling;T(e,!0),e=t}}var L=[];function R(e,t,n){var o,i=L.length;for(e.prototype&&e.prototype.render?(o=new e(t,n),N.call(o,t,n)):((o=new N(t,n)).constructor=e,o.render=C);i--;)if(L[i].constructor===e)return o.nextBase=L[i].nextBase,L.splice(i,1),o;return o}function C(e,t,n){return this.constructor(e,n)}function O(e,t,n,o,r){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||r?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o)),o&&o!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=o),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===i.syncComponentUpdates&&e.base?f(e):S(e,1,r)),e.__ref&&e.__ref(e))}function S(e,t,n,o){if(!e._disable){var r,a,s,c=e.props,u=e.state,d=e.context,h=e.prevProps||c,f=e.prevState||u,p=e.prevContext||d,m=e.base,g=e.nextBase,y=m||g,x=e._component,w=!1,E=p;if(e.constructor.getDerivedStateFromProps&&(u=l(l({},u),e.constructor.getDerivedStateFromProps(c,u)),e.state=u),m&&(e.props=h,e.state=f,e.context=p,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(c,u,d)?w=!0:e.componentWillUpdate&&e.componentWillUpdate(c,u,d),e.props=c,e.state=u,e.context=d),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!w){r=e.render(c,u,d),e.getChildContext&&(d=l(l({},d),e.getChildContext())),m&&e.getSnapshotBeforeUpdate&&(E=e.getSnapshotBeforeUpdate(h,f));var M,L,C=r&&r.nodeName;if("function"==typeof C){var N=v(r);(a=x)&&a.constructor===C&&N.key==a.__key?O(a,N,1,d,!1):(M=a,e._component=a=R(C,N,d),a.nextBase=a.nextBase||g,a._parentComponent=e,O(a,N,0,d,!1),S(a,1,n,!0)),L=a.base}else s=y,(M=x)&&(s=e._component=null),(y||1===t)&&(s&&(s._component=null),L=k(s,r,d,n||!m,y&&y.parentNode,!0));if(y&&L!==y&&a!==x){var A=y.parentNode;A&&L!==A&&(A.replaceChild(L,y),M||(y._component=null,T(y,!1)))}if(M&&I(M),e.base=L,L&&!o){for(var D=e,z=e;z=z._parentComponent;)(D=z).base=L;L._component=D,L._componentConstructor=D.constructor}}for(!m||n?b.unshift(e):w||(e.componentDidUpdate&&e.componentDidUpdate(h,f,E),i.afterUpdate&&i.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);_||o||P()}}function I(e){i.beforeUnmount&&i.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?I(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,g(t),L.push(e),M(t)),e.__ref&&e.__ref(null)}function N(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function A(e,t,n){return k(n,e,{},!1,t,!1)}l(N.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=l(l({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),f(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),S(this,2)},render:function(){}});var D={h:s,createElement:s,cloneElement:u,Component:N,render:A,rerender:p,options:i};t.default=D},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=/^[a-z0-9!#$%&'*+\-\/=?^_`{|}~.]+@([a-z0-9%\-]+\.){1,}([a-z0-9\-]+)?$/i,r=[/^[!#$%&'*+\-\/=?^_`{|}~.]/,/[.]{2,}[a-z0-9!#$%&'*+\-\/=?^_`{|}~.]+@/i,/\.@/];t.default=function(e){var t=e.match(i);if(null===t)return!1;for(var n=r.length-1;n>=0;n--)if(r[n].test(e))return!1;var a=t[2];return!!a&&-1!==o.tlds.indexOf(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=/^(\d{1,3}\.){3}\d{1,3}(:\d{1,5})?(\/([a-z0-9\-._~:\/\?#\[\]@!$&'\(\)\*\+,;=%]+)?)?$/i;t.default=function(e){if(!i.test(e))return!1;var t=e.split("."),n=Number(t[0]);if(isNaN(n)||n>255||n<0)return!1;var r=Number(t[1]);if(isNaN(r)||r>255||r<0)return!1;var a=Number(t[2]);if(isNaN(a)||a>255||a<0)return!1;var s=Number((t[3].match(/^\d+/)||[])[0]);if(isNaN(s)||s>255||s<0)return!1;var l=(t[3].match(/(^\d+)(:)(\d+)/)||[])[3];return!(l&&!o.isPort(l))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(1),r=/^(https?:\/\/|ftps?:\/\/)?([a-z0-9%\-]+\.){1,}([a-z0-9\-]+)?(:(\d{1,5}))?(\/([a-z0-9\-._~:\/\?#\[\]@!$&'\(\)\*\+,;=%]+)?)?$/i;t.default=function(e){var t=e.match(r);return null!==t&&"string"==typeof t[3]&&-1!==i.tlds.indexOf(t[3].toLowerCase())&&!(t[5]&&!o.isPort(t[5]))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(16);t.separate=function(e){var t=e.replace(/([\s\(\)\[\]<>"'])/g,"\0$1\0").replace(/([?;:,.!]+)(?=(\0|$|\s))/g,"\0$1\0").split("\0");return o.default(t)},t.deSeparate=function(e){return e.join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return 0===(e=e.toLowerCase()).indexOf("http://")?"http://":0===e.indexOf("https://")?"https://":0===e.indexOf("ftp://")?"ftp://":0===e.indexOf("ftps://")?"ftps://":0===e.indexOf("file:///")?"file:///":0===e.indexOf("mailto:")&&"mailto:"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(20),n(9);var o=n(2),i=n(10),r=n(11),a=n(12),s=n(19),l=function(){function e(t,n,o){void 0===o&&(o={}),this._classPrefix="tr",this._tour=t,this._options=Object.assign({},e.DEFAULTS,o),"string"==typeof n&&(n=document.querySelector(n)),this._validateTour(),this._dom=n,this._onLoad=o.onLoad,this._init()}return Object.defineProperty(e.prototype,"panos",{get:function(){return this._panos},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewer.destroy()},e.prototype.selectPOVInViewer=function(){var e=this;return this._isLoaded?(this._isSelectingPOV=!0,this._selectPOVDeferred=new r.default,this.toggleControls(!1),this._dom.classList.add(this._createClass("selecting-pov")),this._selectPOVDeferred.promise.then(function(){e.toggleControls(!0),e._dom.classList.remove(e._createClass("selecting-pov"))}),this._selectPOVDeferred.promise):Promise.reject(new Error("viewer not loaded"))},e.prototype.toggleControls=function(e){this._dom.querySelector(".pnlm-controls-container").classList.toggle(this._createClass("hide"),!e),this._dom.querySelector(".pnlm-panorama-info").classList.toggle(this._createClass("hide"),!e)},e.prototype.addDOM=function(t){t.classList.add(e.CLASSES.DOM_ELEMENT),this._dom.appendChild(t)},e.prototype.deleteDOM=function(e){this._dom.removeChild(e)},e.prototype.addOverlay=function(e,t){var n={id:i.generateId(),pitch:t.pitch,yaw:t.yaw,type:"info",createTooltipFunc:function(t){t.appendChild(e)}};return this._viewer.addHotSpot(n),n},e.prototype.deleteOverlay=function(e){var t;t="object"==typeof e?e.id:e,this._viewer.removeHotSpot(t)},e.prototype.forceToRender=function(){this._viewer.setYaw(this._viewer.getYaw())},e.prototype.addInfoElement=function(e){var t=e.id,n=e.title,r=e.description,s=e.POV,l=e.isEdit;t=t||i.generateId(),r=r||"Description",n=n||"Title",l="boolean"==typeof l&&l;var c=this.getPano(),u={id:t,POV:s,title:n,description:r,infoElement:o.h(a.default,{isEdit:l,classPrefix:this._classPrefix,title:n,description:r,id:t})};c.infos.add(u),this._addInfo(u)},e.prototype.deleteInfoElement=function(e){var t=this.getPano();"string"==typeof e&&(e=t.infos.get(e)),t.infos.delete(e),this.deleteOverlay(e)},e.prototype.getPano=function(e){return void 0===e&&(e=this._viewer.getScene()),this._panos.get(e)},e.prototype.setPano=function(e){var t="object"==typeof e?e.id:e;return this._viewer.loadScene(t)},e.prototype.getCurrentPano=function(){return this.getPano()},e.prototype.getPOV=function(){var e={pitch:0,yaw:0};return this._viewer&&(e.yaw=this._viewer.getYaw(),e.pitch=this._viewer.getPitch()),e},e.prototype.deleteLink=function(e){var t=this.getPano();"string"==typeof e&&(e=t.links.get(e)),t.links.delete(e.id),this._viewer.removeHotSpot(e.id),this.forceToRender()},e.prototype.getLink=function(e){return this.getPano().links.get(e)},e.prototype.createLinkTo=function(e,t,n,o){if(void 0===t&&(t=this.getPOV()),void 0===n&&(n={pitch:0,yaw:0}),!this._isLoaded)return console.info("Viewer not loaded");if("object"!=typeof e&&(e=this.getPano(e)),!e)throw new Error("parameter missing: pano");var r={POV:t,id:o||i.generateId(),targetPOV:n,to:e};this.getCurrentPano().links.add(r),this._addLink(r);var a=new CustomEvent("newLink",{detail:r});return this._dom.dispatchEvent(a),r},e.prototype.isFirstPano=function(){return this.getCurrentPano()===this._first},e.prototype.setFirstPano=function(e){this._first=e},e.prototype._init=function(){this._processTour(),this._initViewer(),this._setListeners()},e.prototype._initViewer=function(){var e={autoLoad:this._options.autoLoad,autoRotate:this._options.autoRotate,showControls:this._options.showControls,keyboardZoom:this._options.keyboardZoom,mouseZoom:this._options.mouseZoom,default:{firstScene:this._first.id,pitch:this._first.POV.pitch,sceneFadeDuration:1e3,yaw:this._first.POV.yaw},hfov:120,scenes:this._pannellumPanos.table};this._preview&&(e.preview=this._preview.url),this._viewer=pannellum.viewer(this._dom,e)},e.prototype._createClass=function(e){return this._classPrefix+"-"+e},e.prototype._processPanos=function(){var e=this,t=this._tour.panos||this._tour.photoSpheres;this._panos=new s.default(t.map(function(e){return{id:e.id,infoElements:new s.default(e.infoElements),name:e.name,POV:e.POV,url:e.link}})),t.forEach(function(t){var n=e._panos.get(t.id);t.links=t.links||[],t.infoElements=t.infoElements||[],n.links=new s.default(t.links.map(e._transformToLink.bind(e))),n.infos=new s.default(t.infoElements.map(e._transformToInfo.bind(e)))}),this._pannellumPanos=new s.default(this._panos.array.map(this._transformToPannellumPano.bind(this)))},e.prototype._validateTour=function(){var t=this._tour&&(this._tour.panos||this._tour.photoSpheres);if(!t||!t.length)throw new Error(e.ERRORS.INVALID_TOUR);var n=this._tour.images&&this._tour.images[0];n&&(this._preview={url:n.link,name:n.name,id:n.id}),this._tour.POV||(this._tour.POV={yaw:0,pitch:0})},e.prototype._processTour=function(){this._name=this._tour.name,this._description=this._tour.description,this._processPanos(),this._tour.firstPhotoSphereId?this._first=this._panos.get(this._tour.firstPhotoSphereId):this._first=this._panos.get(),this._first.POV=this._tour.POV},e.prototype._setListeners=function(){this._viewer.on("load",this._onLoadPano.bind(this)),this._viewer.on("mousedown",this._onClick.bind(this)),this._viewer.on("touchstart",this._onClick.bind(this)),this._dom.addEventListener(a.default.EVENTS.TOGGLE_INFO_ELEMENT,this.forceToRender.bind(this)),this._dom.addEventListener(a.default.EVENTS.UPDATE_INFO_ELEMENT,this._updateInfoListener.bind(this)),this._dom.addEventListener(a.default.EVENTS.DELETE_INFO_ELEMENT,this._deleteInfoListener.bind(this))},e.prototype._deleteInfoListener=function(e){var t=e.detail;this.deleteInfoElement(t.id)},e.prototype._updateInfoListener=function(e){var t=e.detail,n=this.getPano().infos.get(t.id);n.title=t.title,n.description=t.title},e.prototype._onClick=function(e){if(this._isSelectingPOV){var t=e.targetTouches&&e.targetTouches[0]||e,n=this._viewer.mouseEventToCoords(t),o={pitch:n[0],yaw:n[1]};this._isSelectingPOV=!1,this._selectPOVDeferred.resolve(o),this._selectPOVDeferred=null}},e.prototype._onLoadPano=function(e){this._isLoaded=!0,this._options.noLinks||this._setLinks(),this._setInfos();var t=new Event("load");this._dom.dispatchEvent(t),"function"==typeof this._onLoad&&this._onLoad()},e.prototype._setLinks=function(){var e=this;this.getCurrentPano().links.array.forEach(function(t){e._addLink(t)})},e.prototype._setInfos=function(){var e=this;this.getCurrentPano().infos.array.forEach(function(t){e._addInfo(t)})},e.prototype._addInfo=function(e){this._viewer.addHotSpot(this._transformToPannellumOverlay(e))},e.prototype._addLink=function(e){this._viewer.removeHotSpot(e.id),this._viewer.addHotSpot(this._transformToPannellumLink(e))},e.prototype._transformToLink=function(e){var t=this._panos.get(e.toPhotoSphereId||e.toId);return{POV:e.POV,id:e.id,targetPOV:e.targetPOV,to:t}},e.prototype._transformToInfo=function(e){var t=e.POV,n=e.id,i=e.name,r=e.description;return{title:i,description:r,POV:t,id:n,infoElement:o.h(a.default,{classPrefix:this._classPrefix,id:n,title:i,description:r})}},e.prototype._transformToPannellumOverlay=function(e){return{id:e.id,pitch:e.POV.pitch,yaw:e.POV.yaw,type:"info",cssClass:"n",createTooltipFunc:function(t){return o.render(e.infoElement,t)}}},e.prototype._transformToPannellumLink=function(e){return{id:e.id,pitch:e.POV.pitch,sceneId:e.to&&e.to.id,targetPitch:e.targetPOV.pitch,targetYaw:e.targetPOV.yaw,text:e.to&&e.to.name,type:"scene",yaw:e.POV.yaw}},e.prototype._transformToPannellumPano=function(e){var t={id:e.id,panorama:e.url,type:"equirectangular"};return this._options.noTitle||(t.title=e.name),e.POV&&(t.pitch=e.POV.pitch,t.yaw=e.POV.yaw),e.links&&e.links.length,t},e.EVENTS=Object.assign({},a.default.EVENTS,{CREATE_INFO_ELEMENT:"CREATE_INFO_ELEMENT",CREATE_LINK:"CREATE_LINK",DELETE_LINK:"DELETE_LINK"}),e.CLASSES={DOM_ELEMENT:"dom-element"},e.ERRORS={INVALID_TOUR:"The properties of the tour are not valid"},e.DEFAULTS={autoLoad:!1,autoRotate:void 0,showControls:!0},e}();t.default=l,window.TourRenderer=l},function(e,t){window.libpannellum=function(e,t,n){function o(o){function c(e,t){return 1==e.level&&1!=t.level?-1:1==t.level&&1!=e.level?1:t.timestamp-e.timestamp}function u(e,t){return e.level!=t.level?e.level-t.level:e.diff-t.diff}function d(e,t,n,o,i,r){this.vertices=e,this.side=t,this.level=n,this.x=o,this.y=i,this.path=r.replace("%s",t).replace("%l",n).replace("%x",o).replace("%y",i)}function h(e,t,n,o,i){var r;r=v(e,(l=t.vertices).slice(0,3));var a=v(e,l.slice(3,6)),s=v(e,l.slice(6,9)),l=v(e,l.slice(9,12)),c=r[0]+a[0]+s[0]+l[0];if(r=-4!=c&&4!=c&&(-4!=(c=r[1]+a[1]+s[1]+l[1])&&4!=c&&4!=r[2]+a[2]+s[2]+l[2])){for(a=(r=t.vertices)[0]+r[3]+r[6]+r[9],s=r[1]+r[4]+r[7]+r[10],l=r[2]+r[5]+r[8]+r[11],c=Math.sqrt(a*a+s*s+l*l),l=Math.asin(l/c),a=Math.atan2(s,a)-o,a+=a>Math.PI?-2*Math.PI:a<-Math.PI?2*Math.PI:0,a=Math.abs(a),t.diff=Math.acos(Math.sin(n)*Math.sin(l)+Math.cos(n)*Math.cos(l)*Math.cos(a)),a=!1,s=0;s<y.nodeCache.length;s++)if(y.nodeCache[s].path==t.path){a=!0,y.nodeCache[s].timestamp=y.nodeCacheTimestamp++,y.nodeCache[s].diff=t.diff,y.currentNodes.push(y.nodeCache[s]);break}if(a||(t.timestamp=y.nodeCacheTimestamp++,y.currentNodes.push(t),y.nodeCache.push(t)),t.level<y.level){l=T.cubeResolution*Math.pow(2,t.level-T.maxLevel),a=Math.ceil(l*T.invTileResolution)-1,s=l%T.tileResolution*2;var u=2*l%T.tileResolution;0===u&&(u=T.tileResolution),0===s&&(s=2*T.tileResolution),c=.5,t.x!=a&&t.y!=a||(c=1-T.tileResolution/(T.tileResolution+u));var f=1-c,p=(l=[],c),m=c,g=c,x=f,b=f,_=f;for(u<T.tileResolution&&(t.x==a&&t.y!=a?(b=m=.5,("d"==t.side||"u"==t.side)&&(_=g=.5)):t.x!=a&&t.y==a&&(x=p=.5,"l"==t.side||"r"==t.side)&&(_=g=.5)),s<=T.tileResolution&&(t.x==a&&(p=0,x=1,"l"==t.side||"r"==t.side)&&(g=0,_=1),t.y==a&&(m=0,b=1,"d"==t.side||"u"==t.side)&&(g=0,_=1)),u=new d(u=[r[0],r[1],r[2],r[0]*p+r[3]*x,r[1]*c+r[4]*f,r[2]*g+r[5]*_,r[0]*p+r[6]*x,r[1]*m+r[7]*b,r[2]*g+r[8]*_,r[0]*c+r[9]*f,r[1]*m+r[10]*b,r[2]*g+r[11]*_],t.side,t.level+1,2*t.x,2*t.y,T.fullpath),l.push(u),t.x==a&&s<=T.tileResolution||(u=new d(u=[r[0]*p+r[3]*x,r[1]*c+r[4]*f,r[2]*g+r[5]*_,r[3],r[4],r[5],r[3]*c+r[6]*f,r[4]*m+r[7]*b,r[5]*g+r[8]*_,r[0]*p+r[6]*x,r[1]*m+r[7]*b,r[2]*g+r[8]*_],t.side,t.level+1,2*t.x+1,2*t.y,T.fullpath),l.push(u)),t.x==a&&s<=T.tileResolution||t.y==a&&s<=T.tileResolution||(u=new d(u=[r[0]*p+r[6]*x,r[1]*m+r[7]*b,r[2]*g+r[8]*_,r[3]*c+r[6]*f,r[4]*m+r[7]*b,r[5]*g+r[8]*_,r[6],r[7],r[8],r[9]*p+r[6]*x,r[10]*c+r[7]*f,r[11]*g+r[8]*_],t.side,t.level+1,2*t.x+1,2*t.y+1,T.fullpath),l.push(u)),t.y==a&&s<=T.tileResolution||(u=new d(u=[r[0]*c+r[9]*f,r[1]*m+r[10]*b,r[2]*g+r[11]*_,r[0]*p+r[6]*x,r[1]*m+r[7]*b,r[2]*g+r[8]*_,r[9]*p+r[6]*x,r[10]*c+r[7]*f,r[11]*g+r[8]*_,r[9],r[10],r[11]],t.side,t.level+1,2*t.x,2*t.y+1,T.fullpath),l.push(u)),t=0;t<l.length;t++)h(e,l[t],n,o,i)}}}function f(e,t,n){var o=Math.sin(t);return t=Math.cos(t),"x"==n?[e[0],t*e[1]+o*e[2],t*e[2]-o*e[1],e[3],t*e[4]+o*e[5],t*e[5]-o*e[4],e[6],t*e[7]+o*e[8],t*e[8]-o*e[7]]:"y"==n?[t*e[0]-o*e[2],e[1],t*e[2]+o*e[0],t*e[3]-o*e[5],e[4],t*e[5]+o*e[3],t*e[6]-o*e[8],e[7],t*e[8]+o*e[6]]:"z"==n?[t*e[0]+o*e[1],t*e[1]-o*e[0],e[2],t*e[3]+o*e[4],t*e[4]-o*e[3],e[5],t*e[6]+o*e[7],t*e[7]-o*e[6],e[8]]:void 0}function p(e){return[e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]]}function m(e){e.textureLoad||(e.textureLoad=!0,A(encodeURI(e.path+"."+T.extension),function(t){e.texture=t,e.textureLoaded=!0},I.crossOrigin))}function v(e,t){var n=(i=[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[4]*t[0]+e[5]*t[1]+e[6]*t[2],e[11]+e[8]*t[0]+e[9]*t[1]+e[10]*t[2],1/(e[12]*t[0]+e[13]*t[1]+e[14]*t[2])])[0]*i[3],o=i[1]*i[3],i=i[2]*i[3],r=[0,0,0];return-1>n&&(r[0]=-1),1<n&&(r[0]=1),-1>o&&(r[1]=-1),1<o&&(r[1]=1),(-1>i||1<i)&&(r[2]=1),r}function g(){console.log("Reducing canvas size due to error 1286!"),N.width=Math.round(N.width/2),N.height=Math.round(N.height/2)}var y,x,b,_,w,E,P,k,T,M,L,R,C,O,S,I,N=t.createElement("canvas");N.style.width=N.style.height="100%",o.appendChild(N),this.init=function(e,c,u,d,h,f,p,m){if(c===n&&(c="equirectangular"),"equirectangular"!=c&&"cubemap"!=c&&"multires"!=c)throw console.log("Error: invalid image type specified!"),{type:"config error"};if(M=c,T=e,L=u,I=m||{},y){if(b&&(x.detachShader(y,b),x.deleteShader(b)),_&&(x.detachShader(y,_),x.deleteShader(_)),x.bindBuffer(x.ARRAY_BUFFER,null),x.bindBuffer(x.ELEMENT_ARRAY_BUFFER,null),y.texture&&x.deleteTexture(y.texture),y.nodeCache)for(e=0;e<y.nodeCache.length;e++)x.deleteTexture(y.nodeCache[e].texture);x.deleteProgram(y),y=n}if(k=n,"cubemap"==M&&0!=(T[0].width&T[0].width-1)&&(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 10_/)||navigator.userAgent.match(/Trident.*rv[ :]*11\./))||(x||(x=N.getContext("experimental-webgl",{alpha:!1,depth:!1})),x&&1286==x.getError()&&g()),!x&&("multires"==M&&T.hasOwnProperty("fallbackPath")||"cubemap"==M)&&("WebkitAppearance"in t.documentElement.style||navigator.userAgent.match(/Trident.*rv[ :]*11\./)||-1!==navigator.appVersion.indexOf("MSIE 10"))){E&&o.removeChild(E),(E=t.createElement("div")).className="pnlm-world",d=T.basePath?T.basePath+T.fallbackPath:T.fallbackPath;var v="frblud".split(""),A=0;for(h=function(){var e=t.createElement("canvas");e.className="pnlm-face pnlm-"+v[this.side]+"face",E.appendChild(e);var n=e.getContext("2d");e.style.width=this.width+4+"px",e.style.height=this.height+4+"px",e.width=this.width+4,e.height=this.height+4,n.drawImage(this,2,2);var i,r,a=n.getImageData(0,0,e.width,e.height),s=a.data;for(i=2;i<e.width-2;i++)for(r=0;4>r;r++)s[4*(i+e.width)+r]=s[4*(i+2*e.width)+r],s[4*(i+e.width*(e.height-2))+r]=s[4*(i+e.width*(e.height-3))+r];for(i=2;i<e.height-2;i++)for(r=0;4>r;r++)s[4*(i*e.width+1)+r]=s[4*(i*e.width+2)+r],s[4*((i+1)*e.width-2)+r]=s[4*((i+1)*e.width-3)+r];for(r=0;4>r;r++)s[4*(e.width+1)+r]=s[4*(2*e.width+2)+r],s[4*(2*e.width-2)+r]=s[4*(3*e.width-3)+r],s[4*(e.width*(e.height-2)+1)+r]=s[4*(e.width*(e.height-3)+2)+r],s[4*(e.width*(e.height-1)-2)+r]=s[4*(e.width*(e.height-2)-3)+r];for(i=1;i<e.width-1;i++)for(r=0;4>r;r++)s[4*i+r]=s[4*(i+e.width)+r],s[4*(i+e.width*(e.height-1))+r]=s[4*(i+e.width*(e.height-2))+r];for(i=1;i<e.height-1;i++)for(r=0;4>r;r++)s[i*e.width*4+r]=s[4*(i*e.width+1)+r],s[4*((i+1)*e.width-1)+r]=s[4*((i+1)*e.width-2)+r];for(r=0;4>r;r++)s[r]=s[4*(e.width+1)+r],s[4*(e.width-1)+r]=s[4*(2*e.width-2)+r],s[e.width*(e.height-1)*4+r]=s[4*(e.width*(e.height-2)+1)+r],s[4*(e.width*e.height-1)+r]=s[4*(e.width*(e.height-1)-2)+r];n.putImageData(a,0,0),6==++A&&(w=this.width,o.appendChild(E),p())},e=0;6>e;e++)(f=new Image).crossOrigin=I.crossOrigin?I.crossOrigin:"anonymous",f.side=e,f.onload=h,f.src="multires"==M?encodeURI(d.replace("%s",v[e])+"."+T.extension):encodeURI(T[e].src)}else{if(!x)throw console.log("Error: no WebGL support detected!"),{type:"no webgl"};for(T.fullpath=T.basePath?T.basePath+T.path:T.path,T.invTileResolution=1/T.tileResolution,c=[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1],P=[],e=0;6>e;e++)P[e]=c.slice(12*e,12*e+12),c=[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1];if("equirectangular"==M){if((e=Math.max(T.width,T.height))>(c=x.getParameter(x.MAX_TEXTURE_SIZE)))throw console.log("Error: The image is too big; it's "+e+"px wide, but this device's maximum supported width is "+c+"px."),{type:"webgl size error",width:e,maxWidth:c}}else if("cubemap"==M&&(e=T[0].width)>(c=x.getParameter(x.MAX_CUBE_MAP_TEXTURE_SIZE)))throw console.log("Error: The cube face image is too big; it's "+e+"px wide, but this device's maximum supported width is "+c+"px."),{type:"webgl size error",width:e,maxWidth:c};if(m===n||m.horizonPitch===n&&m.horizonRoll===n||(k=[m.horizonPitch==n?0:m.horizonPitch,m.horizonRoll==n?0:m.horizonRoll]),e=x.TEXTURE_2D,x.viewport(0,0,x.drawingBufferWidth,x.drawingBufferHeight),b=x.createShader(x.VERTEX_SHADER),c=i,"multires"==M&&(c=r),x.shaderSource(b,c),x.compileShader(b),_=x.createShader(x.FRAGMENT_SHADER),c=s,"cubemap"==M?(e=x.TEXTURE_CUBE_MAP,c=a):"multires"==M&&(c=l),x.shaderSource(_,c),x.compileShader(_),y=x.createProgram(),x.attachShader(y,b),x.attachShader(y,_),x.linkProgram(y),x.getShaderParameter(b,x.COMPILE_STATUS)||console.log(x.getShaderInfoLog(b)),x.getShaderParameter(_,x.COMPILE_STATUS)||console.log(x.getShaderInfoLog(_)),x.getProgramParameter(y,x.LINK_STATUS)||console.log(x.getProgramInfoLog(y)),x.useProgram(y),y.drawInProgress=!1,y.texCoordLocation=x.getAttribLocation(y,"a_texCoord"),x.enableVertexAttribArray(y.texCoordLocation),"multires"!=M?(R||(R=x.createBuffer()),x.bindBuffer(x.ARRAY_BUFFER,R),x.bufferData(x.ARRAY_BUFFER,new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),x.STATIC_DRAW),x.vertexAttribPointer(y.texCoordLocation,2,x.FLOAT,!1,0,0),y.aspectRatio=x.getUniformLocation(y,"u_aspectRatio"),x.uniform1f(y.aspectRatio,x.drawingBufferWidth/x.drawingBufferHeight),y.psi=x.getUniformLocation(y,"u_psi"),y.theta=x.getUniformLocation(y,"u_theta"),y.f=x.getUniformLocation(y,"u_f"),y.h=x.getUniformLocation(y,"u_h"),y.v=x.getUniformLocation(y,"u_v"),y.vo=x.getUniformLocation(y,"u_vo"),y.rot=x.getUniformLocation(y,"u_rot"),x.uniform1f(y.h,d/(2*Math.PI)),x.uniform1f(y.v,h/Math.PI),x.uniform1f(y.vo,f/Math.PI*2),"equirectangular"==M&&(y.backgroundColor=x.getUniformLocation(y,"u_backgroundColor"),x.uniform4fv(y.backgroundColor,(m.backgroundColor?m.backgroundColor:[0,0,0]).concat([1]))),y.texture=x.createTexture(),x.bindTexture(e,y.texture),"cubemap"==M?(x.texImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X,0,x.RGB,x.RGB,x.UNSIGNED_BYTE,T[1]),x.texImage2D(x.TEXTURE_CUBE_MAP_NEGATIVE_X,0,x.RGB,x.RGB,x.UNSIGNED_BYTE,T[3]),x.texImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_Y,0,x.RGB,x.RGB,x.UNSIGNED_BYTE,T[4]),x.texImage2D(x.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,x.RGB,x.RGB,x.UNSIGNED_BYTE,T[5]),x.texImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_Z,0,x.RGB,x.RGB,x.UNSIGNED_BYTE,T[0]),x.texImage2D(x.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,x.RGB,x.RGB,x.UNSIGNED_BYTE,T[2])):x.texImage2D(e,0,x.RGB,x.RGB,x.UNSIGNED_BYTE,T),x.texParameteri(e,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(e,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),x.texParameteri(e,x.TEXTURE_MIN_FILTER,x.LINEAR),x.texParameteri(e,x.TEXTURE_MAG_FILTER,x.LINEAR)):(y.vertPosLocation=x.getAttribLocation(y,"a_vertCoord"),x.enableVertexAttribArray(y.vertPosLocation),C||(C=x.createBuffer()),O||(O=x.createBuffer()),S||(S=x.createBuffer()),x.bindBuffer(x.ARRAY_BUFFER,O),x.bufferData(x.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),x.STATIC_DRAW),x.bindBuffer(x.ELEMENT_ARRAY_BUFFER,S),x.bufferData(x.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),x.STATIC_DRAW),y.perspUniform=x.getUniformLocation(y,"u_perspMatrix"),y.cubeUniform=x.getUniformLocation(y,"u_cubeMatrix"),y.level=-1,y.currentNodes=[],y.nodeCache=[],y.nodeCacheTimestamp=0),0!==(d=x.getError()))throw console.log("Error: Something went wrong with WebGL!",d),{type:"webgl error"};p()}},this.destroy=function(){if(o!==n&&(N!==n&&o.contains(N)&&o.removeChild(N),E!==n&&o.contains(E)&&o.removeChild(E)),x){var e=x.getExtension("WEBGL_lose_context");e&&e.loseContext()}},this.resize=function(){var t=e.devicePixelRatio||1;N.width=N.clientWidth*t,N.height=N.clientHeight*t,x&&(1286==x.getError()&&g(),x.viewport(0,0,x.drawingBufferWidth,x.drawingBufferHeight),"multires"!=M&&x.uniform1f(y.aspectRatio,N.clientWidth/N.clientHeight))},this.resize(),this.setPose=function(e,t){k=[e,t]},this.render=function(e,t,o,i){var r;if(r=0,i===n&&(i={}),i.roll&&(r=i.roll),k!==n){var a=k[0],s=k[1],l=e,v=t,g=Math.cos(s)*Math.sin(e)*Math.sin(a)+Math.cos(e)*(Math.cos(a)*Math.cos(t)+Math.sin(s)*Math.sin(a)*Math.sin(t)),b=-Math.sin(e)*Math.sin(s)+Math.cos(e)*Math.cos(s)*Math.sin(t);e=Math.cos(s)*Math.cos(a)*Math.sin(e)+Math.cos(e)*(-Math.cos(t)*Math.sin(a)+Math.cos(a)*Math.sin(s)*Math.sin(t)),e=Math.asin(Math.max(Math.min(e,1),-1)),t=Math.atan2(b,g),a=[Math.cos(l)*(Math.sin(s)*Math.sin(a)*Math.cos(v)-Math.cos(a)*Math.sin(v)),Math.cos(l)*Math.cos(s)*Math.cos(v),Math.cos(l)*(Math.cos(a)*Math.sin(s)*Math.cos(v)+Math.sin(v)*Math.sin(a))],s=[-Math.cos(e)*Math.sin(t),Math.cos(e)*Math.cos(t)],s=Math.acos(Math.max(Math.min((a[0]*s[0]+a[1]*s[1])/(Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2])*Math.sqrt(s[0]*s[0]+s[1]*s[1])),1),-1)),0>a[2]&&(s=2*Math.PI-s),r+=s}if(x||"multires"!=M&&"cubemap"!=M){if("multires"!=M)o=2*Math.atan(Math.tan(.5*o)/(x.drawingBufferWidth/x.drawingBufferHeight)),o=1/Math.tan(.5*o),x.uniform1f(y.psi,t),x.uniform1f(y.theta,e),x.uniform1f(y.rot,r),x.uniform1f(y.f,o),!0===L&&"equirectangular"==M&&(x.bindTexture(x.TEXTURE_2D,y.texture),x.texImage2D(x.TEXTURE_2D,0,x.RGB,x.RGB,x.UNSIGNED_BYTE,T)),x.drawArrays(x.TRIANGLES,0,6);else{for(a=x.drawingBufferWidth/x.drawingBufferHeight,s=2*Math.atan(Math.tan(o/2)*x.drawingBufferHeight/x.drawingBufferWidth),a=[(s=1/Math.tan(s/2))/a,0,0,0,0,s,0,0,0,0,100.1/-99.9,20/-99.9,0,0,-1,0],s=1;s<T.maxLevel&&x.drawingBufferWidth>T.tileResolution*Math.pow(2,s-1)*Math.tan(o/2)*.707;)s++;if(y.level=s,s=[(s=f(s=f(s=f(s=[1,0,0,0,1,0,0,0,1],-r,"z"),-e,"x"),t,"y"))[0],s[1],s[2],0,s[3],s[4],s[5],0,s[6],s[7],s[8],0,0,0,0,1],x.uniformMatrix4fv(y.perspUniform,!1,new Float32Array(p(a))),x.uniformMatrix4fv(y.cubeUniform,!1,new Float32Array(p(s))),a=[a[0]*s[0],a[0]*s[1],a[0]*s[2],0,a[5]*s[4],a[5]*s[5],a[5]*s[6],0,a[10]*s[8],a[10]*s[9],a[10]*s[10],a[11],-s[8],-s[9],-s[10],0],y.nodeCache.sort(c),200<y.nodeCache.length&&y.nodeCache.length>y.currentNodes.length+50)for(s=y.nodeCache.splice(200,y.nodeCache.length-200),r=0;r<s.length;r++)x.deleteTexture(s[r].texture);for(y.currentNodes=[],s="fbudlr".split(""),r=0;6>r;r++)h(a,l=new d(P[r],s[r],1,0,0,T.fullpath),e,t,o);for(y.currentNodes.sort(u),r=0;r<y.currentNodes.length;r++)if(!y.currentNodes[r].texture){setTimeout(m,0,y.currentNodes[r]);break}if(!y.drawInProgress){for(y.drawInProgress=!0,e=0;e<y.currentNodes.length;e++)y.currentNodes[e].textureLoaded&&(x.bindBuffer(x.ARRAY_BUFFER,C),x.bufferData(x.ARRAY_BUFFER,new Float32Array(y.currentNodes[e].vertices),x.STATIC_DRAW),x.vertexAttribPointer(y.vertPosLocation,3,x.FLOAT,!1,0,0),x.bindBuffer(x.ARRAY_BUFFER,O),x.vertexAttribPointer(y.texCoordLocation,2,x.FLOAT,!1,0,0),x.bindTexture(x.TEXTURE_2D,y.currentNodes[e].texture),x.drawElements(x.TRIANGLES,6,x.UNSIGNED_SHORT,0));y.drawInProgress=!1}}if(i.returnImage!==n)return N.toDataURL("image/png")}else for(i={f:"translate3d(-"+(2+(r=w/2))+"px, -"+(r+2)+"px, -"+r+"px)",b:"translate3d("+(r+2)+"px, -"+(r+2)+"px, "+r+"px) rotateX(180deg) rotateZ(180deg)",u:"translate3d(-"+(r+2)+"px, -"+r+"px, "+(r+2)+"px) rotateX(270deg)",d:"translate3d(-"+(r+2)+"px, "+r+"px, -"+(r+2)+"px) rotateX(90deg)",l:"translate3d(-"+r+"px, -"+(r+2)+"px, "+(r+2)+"px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)",r:"translate3d("+r+"px, -"+(r+2)+"px, -"+(r+2)+"px) rotateY(270deg)"},e="perspective("+(o=(o=1/Math.tan(o/2))*x.drawingBufferWidth/2+"px")+") translateZ("+o+") rotateX("+e+"rad) rotateY("+t+"rad) ",t=Object.keys(i),r=0;6>r;r++)(o=E.querySelector(".pnlm-"+t[r]+"face").style).webkitTransform=e+i[t[r]],o.transform=e+i[t[r]]},this.isLoading=function(){if(x&&"multires"==M)for(var e=0;e<y.currentNodes.length;e++)if(!y.currentNodes[e].textureLoaded)return!0;return!1},this.getCanvas=function(){return N};var A=function(){function e(){var e=this;this.texture=this.callback=null,this.image=new Image,this.image.crossOrigin=t||"anonymous",this.image.addEventListener("load",function(){var t=e.image;x.bindTexture(x.TEXTURE_2D,e.texture),x.texImage2D(x.TEXTURE_2D,0,x.RGB,x.RGB,x.UNSIGNED_BYTE,t),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.LINEAR),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.LINEAR),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),x.bindTexture(x.TEXTURE_2D,null),e.callback(e.texture),i.length?(t=i.shift(),e.loadTexture(t.src,t.texture,t.callback)):o[n++]=e})}var t,n=4,o={},i=[];e.prototype.loadTexture=function(e,t,n){this.texture=t,this.callback=n,this.image.src=e};for(var r=0;r<n;r++)o[r]=new e;return function(e,r,a){return t=a,a=x.createTexture(),n?o[--n].loadTexture(e,a,r):i.push(new function(e,t,n){this.src=e,this.texture=t,this.callback=n}(e,a,r)),a}}()}var i="attribute vec2 a_texCoord;varying vec2 v_texCoord;void main() {gl_Position = vec4(a_texCoord, 0.0, 1.0);v_texCoord = a_texCoord;}",r="attribute vec3 a_vertCoord;attribute vec2 a_texCoord;uniform mat4 u_cubeMatrix;uniform mat4 u_perspMatrix;varying mediump vec2 v_texCoord;void main(void) {gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);v_texCoord = a_texCoord;}",a="precision mediump float;\nuniform float u_aspectRatio;\nuniform float u_psi;\nuniform float u_theta;\nuniform float u_f;\nuniform float u_h;\nuniform float u_v;\nuniform float u_vo;\nuniform float u_rot;\nconst float PI = 3.14159265358979323846264;\nuniform sampler2D u_image;\nuniform samplerCube u_imageCube;\nvarying vec2 v_texCoord;\nuniform vec4 u_backgroundColor;\nvoid main() {\nfloat x = v_texCoord.x * u_aspectRatio;\nfloat y = v_texCoord.y;\nfloat sinrot = sin(u_rot);\nfloat cosrot = cos(u_rot);\nfloat rot_x = x * cosrot - y * sinrot;\nfloat rot_y = x * sinrot + y * cosrot;\nfloat sintheta = sin(u_theta);\nfloat costheta = cos(u_theta);\nfloat a = u_f * costheta - rot_y * sintheta;\nfloat root = sqrt(rot_x * rot_x + a * a);\nfloat lambda = atan(rot_x / root, a / root) + u_psi;\nfloat phi = atan((rot_y * costheta + u_f * sintheta) / root);float cosphi = cos(phi);\ngl_FragColor = textureCube(u_imageCube, vec3(cosphi*sin(lambda), sin(phi), cosphi*cos(lambda)));\n}",s="precision mediump float;\nuniform float u_aspectRatio;\nuniform float u_psi;\nuniform float u_theta;\nuniform float u_f;\nuniform float u_h;\nuniform float u_v;\nuniform float u_vo;\nuniform float u_rot;\nconst float PI = 3.14159265358979323846264;\nuniform sampler2D u_image;\nuniform samplerCube u_imageCube;\nvarying vec2 v_texCoord;\nuniform vec4 u_backgroundColor;\nvoid main() {\nfloat x = v_texCoord.x * u_aspectRatio;\nfloat y = v_texCoord.y;\nfloat sinrot = sin(u_rot);\nfloat cosrot = cos(u_rot);\nfloat rot_x = x * cosrot - y * sinrot;\nfloat rot_y = x * sinrot + y * cosrot;\nfloat sintheta = sin(u_theta);\nfloat costheta = cos(u_theta);\nfloat a = u_f * costheta - rot_y * sintheta;\nfloat root = sqrt(rot_x * rot_x + a * a);\nfloat lambda = atan(rot_x / root, a / root) + u_psi;\nfloat phi = atan((rot_y * costheta + u_f * sintheta) / root);lambda = mod(lambda + PI, PI * 2.0) - PI;\nvec2 coord = vec2(lambda / PI, phi / (PI / 2.0));\nif(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)\ngl_FragColor = u_backgroundColor;\nelse\ngl_FragColor = texture2D(u_image, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));\n}",l="varying mediump vec2 v_texCoord;uniform sampler2D u_sampler;void main(void) {gl_FragColor = texture2D(u_sampler, v_texCoord);}";return{renderer:function(e,t,n,i){return new o(e,t,n,i)}}}(window,document),window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}),window.pannellum=function(e,t,n){function o(o,i){function r(){if((u=t.createElement("div")).innerHTML="\x3c!--[if lte IE 9]><i></i><![endif]--\x3e",1==u.getElementsByTagName("i").length)l();else{var o;if(te=Z.hfov,ne=Z.pitch,"cubemap"==Z.type){for(J=[],u=0;6>u;u++)J.push(new Image),J[u].crossOrigin=Z.crossOrigin;Oe.load.lbox.style.display="block",Oe.load.lbar.style.display="none"}else if("multires"==Z.type)u=JSON.parse(JSON.stringify(Z.multiRes)),Z.basePath&&Z.multiRes.basePath&&!/^(?:[a-z]+:)?\/\//i.test(Z.multiRes.basePath)?u.basePath=Z.basePath+Z.multiRes.basePath:Z.multiRes.basePath?u.basePath=Z.multiRes.basePath:Z.basePath&&(u.basePath=Z.basePath),J=u;else if(!0===Z.dynamic)J=Z.panorama;else{if(Z.panorama===n)return void l(Z.strings.noPanoramaError);J=new Image}if("cubemap"==Z.type)for(var i=6,r=function(){0==--i&&s()},c=function(e){var n=t.createElement("a");n.href=e.target.src,n.innerHTML=n.href,l(Z.strings.fileAccessError.replace("%s",n.outerHTML))},u=0;u<J.length;u++)J[u].onload=r,J[u].onerror=c,o=Z.cubeMap[u],Z.basePath&&!a(o)&&(o=Z.basePath+o),J[u].src=encodeURI(o);else if("multires"==Z.type)s();else if(o="",Z.basePath&&(o=Z.basePath),!0!==Z.dynamic){o=a(Z.panorama)?Z.panorama:o+Z.panorama,J.onload=function(){e.URL.revokeObjectURL(this.src),s()};var d=new XMLHttpRequest;d.onloadend=function(){if(200!=d.status){var i=t.createElement("a");i.href=encodeURI(o),i.innerHTML=i.href,l(Z.strings.fileAccessError.replace("%s",i.outerHTML))}!function(t){var o=new FileReader;o.addEventListener("loadend",function(){var i=o.result;navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)&&((0>(a=i.indexOf(""))||65536<a)&&l(Z.strings.iOS8WebGLError));if(-1<(a=i.indexOf("<x:xmpmeta"))&&!0!==Z.ignoreGPanoXMP){var r=i.substring(a,i.indexOf("</x:xmpmeta>")+12),a=(i=(f=function(e){var t;return 0<=r.indexOf(e+'="')?t=(t=r.substring(r.indexOf(e+'="')+e.length+2)).substring(0,t.indexOf('"')):0<=r.indexOf(e+">")&&(t=(t=r.substring(r.indexOf(e+">")+e.length+1)).substring(0,t.indexOf("<"))),t!==n?Number(t):null})("GPano:FullPanoWidthPixels"),f("GPano:CroppedAreaImageWidthPixels")),s=f("GPano:FullPanoHeightPixels"),c=f("GPano:CroppedAreaImageHeightPixels"),u=f("GPano:CroppedAreaTopPixels"),d=f("GPano:PoseHeadingDegrees"),h=f("GPano:PosePitchDegrees"),f=f("GPano:PoseRollDegrees");null!==i&&null!==a&&null!==s&&null!==c&&null!==u&&(0>we.indexOf("haov")&&(Z.haov=a/i*360),0>we.indexOf("vaov")&&(Z.vaov=c/s*180),0>we.indexOf("vOffset")&&(Z.vOffset=-180*((u+c/2)/s-.5)),null!==d&&0>we.indexOf("northOffset")&&(Z.northOffset=d,!1!==Z.compass&&(Z.compass=!0)),null!==h&&null!==f&&(0>we.indexOf("horizonPitch")&&(Z.horizonPitch=h),0>we.indexOf("horizonRoll")&&(Z.horizonRoll=f)))}J.src=e.URL.createObjectURL(t)}),o.readAsBinaryString!==n?o.readAsBinaryString(t):o.readAsText(t)}(this.response),Oe.load.msg.innerHTML=""},d.onprogress=function(e){var t,n;e.lengthComputable?(Oe.load.lbarFill.style.width=e.loaded/e.total*100+"%",1e6<e.total?(t="MB",n=(e.loaded/1e6).toFixed(2),e=(e.total/1e6).toFixed(2)):1e3<e.total?(t="kB",n=(e.loaded/1e3).toFixed(1),e=(e.total/1e3).toFixed(1)):(t="B",n=e.loaded,e=e.total),Oe.load.msg.innerHTML=n+" / "+e+" "+t):(Oe.load.lbox.style.display="block",Oe.load.lbar.style.display="none")};try{d.open("GET",o,!0)}catch(e){l(Z.strings.malformedURLError)}d.responseType="blob",d.setRequestHeader("Accept","image/*,*/*;q=0.9"),d.withCredentials="use-credentials"===Z.crossOrigin,d.send()}Z.draggable&&Me.classList.add("pnlm-grab"),Me.classList.remove("pnlm-grabbing")}}function a(e){return/^(?:[a-z]+:)?\/\//i.test(e)||"/"==e[0]||"blob:"==e.slice(0,5)}function s(){$||($=new libpannellum.renderer(Le)),pe||(pe=!0,Re.addEventListener("mousedown",u,!1),t.addEventListener("mousemove",f,!1),t.addEventListener("mouseup",p,!1),Z.mouseZoom&&(Me.addEventListener("mousewheel",_,!1),Me.addEventListener("DOMMouseScroll",_,!1)),Z.doubleClickZoom&&Re.addEventListener("dblclick",d,!1),Me.addEventListener("mozfullscreenchange",F,!1),Me.addEventListener("webkitfullscreenchange",F,!1),Me.addEventListener("msfullscreenchange",F,!1),Me.addEventListener("fullscreenchange",F,!1),e.addEventListener("resize",M,!1),e.addEventListener("orientationchange",M,!1),Z.disableKeyboardCtrl||(o.addEventListener("keydown",w,!1),o.addEventListener("keyup",P,!1),o.addEventListener("blur",E,!1)),t.addEventListener("mouseleave",p,!1),""===t.documentElement.style.pointerAction&&""===t.documentElement.style.touchAction?(Re.addEventListener("pointerdown",y,!1),Re.addEventListener("pointermove",x,!1),Re.addEventListener("pointerup",b,!1),Re.addEventListener("pointerleave",b,!1)):(Re.addEventListener("touchstart",m,!1),Re.addEventListener("touchmove",v,!1),Re.addEventListener("touchend",g,!1)),e.navigator.pointerEnabled&&(o.style.touchAction="none")),function(){try{var e={};Z.horizonPitch!==n&&(e.horizonPitch=Z.horizonPitch*Math.PI/180),Z.horizonRoll!==n&&(e.horizonRoll=Z.horizonRoll*Math.PI/180),Z.backgroundColor!==n&&(e.backgroundColor=Z.backgroundColor),$.init(J,Z.type,Z.dynamic,Z.haov*Math.PI/180,Z.vaov*Math.PI/180,Z.vOffset*Math.PI/180,S,e),!0!==Z.dynamic&&(J=n)}catch(e){if("webgl error"==e.type||"no webgl"==e.type)l();else{if("webgl size error"!=e.type)throw l(Z.strings.unknownError),e;l(Z.strings.textureSizeError.replace("%s",e.width).replace("%s",e.maxWidth))}}}(),setTimeout(function(){},500)}function l(e){e===n&&(e=Z.strings.genericWebGLError),Oe.errorMsg.innerHTML="<p>"+e+"</p>",Ie.load.style.display="none",Oe.load.box.style.display="none",Oe.errorMsg.style.display="table",fe=!0,Le.style.display="none",W("error",e)}function c(e){var t=o.getBoundingClientRect(),n={};return n.x=e.clientX-t.left,n.y=e.clientY-t.top,n}function u(e){if(e.preventDefault(),o.focus(),Q&&Z.draggable){var t=c(e);if(Z.hotSpotDebug){var n=h(e);console.log("Pitch: "+n[0]+", Yaw: "+n[1]+", Center Pitch: "+Z.pitch+", Center Yaw: "+Z.yaw+", HFOV: "+Z.hfov)}B(),G(),Z.roll=0,me.hfov=0,ie=!0,re=Date.now(),ae=t.x,se=t.y,ce=Z.yaw,ue=Z.pitch,Me.classList.add("pnlm-grabbing"),Me.classList.remove("pnlm-grab"),W("mousedown",e),L()}}function d(e){Z.minHfov===Z.hfov?oe.setHfov(te,1e3):(e=h(e),oe.lookAt(e[0],e[1],Z.minHfov,1e3))}function h(e){var t=c(e),n=(e=$.getCanvas()).clientWidth,o=e.clientHeight;e=t.x/n*2-1,o=(1-t.y/o*2)*o/n;var i=1/Math.tan(Z.hfov*Math.PI/360),r=Math.sin(Z.pitch*Math.PI/180),a=Math.cos(Z.pitch*Math.PI/180);return t=i*a-o*r,n=Math.sqrt(e*e+t*t),o=180*Math.atan((o*a+i*r)/n)/Math.PI,-180>(e=180*Math.atan2(e/n,t/n)/Math.PI+Z.yaw)&&(e+=360),180<e&&(e-=360),[o,e]}function f(e){if(ie&&Q){re=Date.now();var t=(n=$.getCanvas()).clientWidth,n=n.clientHeight;e=c(e);var o=180*(Math.atan(ae/t*2-1)-Math.atan(e.x/t*2-1))/Math.PI*Z.hfov/90+ce;me.yaw=(o-Z.yaw)%360*.2,Z.yaw=o,t=360*Math.atan(Math.tan(Z.hfov/360*Math.PI)*n/t)/Math.PI,t=180*(Math.atan(e.y/n*2-1)-Math.atan(se/n*2-1))/Math.PI*t/90+ue,me.pitch=.2*(t-Z.pitch),Z.pitch=t}}function p(e){ie&&(ie=!1,15<Date.now()-re&&(me.pitch=me.yaw=0),Me.classList.add("pnlm-grab"),Me.classList.remove("pnlm-grabbing"),re=Date.now(),W("mouseup",e))}function m(e){if(Q&&Z.draggable){B(),G(),Z.roll=0,me.hfov=0;var t=c(e.targetTouches[0]);if(ae=t.x,se=t.y,2==e.targetTouches.length){var n=c(e.targetTouches[1]);ae+=.5*(n.x-t.x),se+=.5*(n.y-t.y),le=Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y))}ie=!0,re=Date.now(),ce=Z.yaw,ue=Z.pitch,W("touchstart",e),L()}}function v(e){if(Z.draggable&&(e.preventDefault(),Q&&(re=Date.now()),ie&&Q)){var t=c(e.targetTouches[0]),n=t.x,o=t.y;2==e.targetTouches.length&&-1!=le&&(n+=.5*((e=c(e.targetTouches[1])).x-t.x),o+=.5*(e.y-t.y),t=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),j(Z.hfov+.1*(le-t)),le=t),t=Z.hfov/360,n=(ae-n)*t+ce,me.yaw=(n-Z.yaw)%360*.2,Z.yaw=n,o=(o-se)*t+ue,me.pitch=.2*(o-Z.pitch),Z.pitch=o}}function g(){ie=!1,150<Date.now()-re&&(me.pitch=me.yaw=0),le=-1,re=Date.now(),W("touchend",event)}function y(e){"touch"==e.pointerType&&(ze.push(e.pointerId),Fe.push({clientX:e.clientX,clientY:e.clientY}),e.targetTouches=Fe,m(e),e.preventDefault())}function x(e){if("touch"==e.pointerType)for(var t=0;t<ze.length;t++)if(e.pointerId==ze[t]){Fe[t].clientX=e.clientX,Fe[t].clientY=e.clientY,e.targetTouches=Fe,v(e),e.preventDefault();break}}function b(e){if("touch"==e.pointerType){for(var t=!1,o=0;o<ze.length;o++)e.pointerId==ze[o]&&(ze[o]=n),ze[o]&&(t=!0);t||(ze=[],Fe=[],g()),e.preventDefault()}}function _(e){Q&&("fullscreenonly"!=Z.mouseZoom||he)&&(e.preventDefault(),B(),re=Date.now(),e.wheelDeltaY?(j(Z.hfov-.05*e.wheelDeltaY),me.hfov=0>e.wheelDelta?1:-1):e.wheelDelta?(j(Z.hfov-.05*e.wheelDelta),me.hfov=0>e.wheelDelta?1:-1):e.detail&&(j(Z.hfov+1.5*e.detail),me.hfov=0<e.detail?1:-1),L())}function w(e){B(),re=Date.now(),G(),Z.roll=0;var t=e.which||e.keycode;0>Te.indexOf(t)||(e.preventDefault(),27==t?he&&z():k(t,!0))}function E(){for(var e=0;10>e;e++)de[e]=!1}function P(e){var t=e.which||e.keycode;0>Te.indexOf(t)||(e.preventDefault(),k(t,!1))}function k(e,t){var n=!1;switch(e){case 109:case 189:case 17:case 173:de[0]!=t&&(n=!0),de[0]=t;break;case 107:case 187:case 16:case 61:de[1]!=t&&(n=!0),de[1]=t;break;case 38:de[2]!=t&&(n=!0),de[2]=t;break;case 87:de[6]!=t&&(n=!0),de[6]=t;break;case 40:de[3]!=t&&(n=!0),de[3]=t;break;case 83:de[7]!=t&&(n=!0),de[7]=t;break;case 37:de[4]!=t&&(n=!0),de[4]=t;break;case 65:de[8]!=t&&(n=!0),de[8]=t;break;case 39:de[5]!=t&&(n=!0),de[5]=t;break;case 68:de[9]!=t&&(n=!0),de[9]=t}n&&t&&(X="undefined"!=typeof performance&&performance.now()?performance.now():Date.now(),L())}function T(e){var t=be[e],n=Math.min(1,Math.max((Date.now()-t.startTime)/1e3/(t.duration/1e3),0));if(n=t.startPosition+Z.animationTimingFunction(n)*(t.endPosition-t.startPosition),t.endPosition>t.startPosition&&n>=t.endPosition||t.endPosition<t.startPosition&&n<=t.endPosition||t.endPosition===t.startPosition){n=t.endPosition,me[e]=0,t=be[e].callback;var o=be[e].callbackArgs;delete be[e],"function"==typeof t&&t(o)}Z[e]=n}function M(){F()}function L(){ve||(ve=!0,R())}function R(){if(function(){var e;if(Q){180<Z.yaw?Z.yaw-=360:-180>Z.yaw&&(Z.yaw+=360),e=Z.yaw;var t=Z.maxYaw-Z.minYaw,n=-180,o=180;360>t&&(n=Z.minYaw+Z.hfov/2,o=Z.maxYaw-Z.hfov/2,t<Z.hfov&&(n=o=(n+o)/2)),Z.yaw=Math.max(n,Math.min(o,Z.yaw)),!1!==Z.autoRotate&&e!=Z.yaw&&(Z.autoRotate*=-1),e=$.getCanvas(),e=2*Math.atan(Math.tan(Z.hfov/180*Math.PI*.5)/(e.width/e.height))/Math.PI*180,t=Z.minPitch+e/2,n=Z.maxPitch-e/2,Z.maxPitch-Z.minPitch<e&&(t=n=(t+n)/2),isNaN(t)&&(t=-90),isNaN(n)&&(n=90),Z.pitch=Math.max(t,Math.min(n,Z.pitch)),$.render(Z.pitch*Math.PI/180,Z.yaw*Math.PI/180,Z.hfov*Math.PI/180,{roll:Z.roll*Math.PI/180}),Z.hotSpots.forEach(N),Z.compass&&(De.style.transform="rotate("+(-Z.yaw-Z.northOffset)+"deg)",De.style.webkitTransform="rotate("+(-Z.yaw-Z.northOffset)+"deg)")}}(),ee&&clearTimeout(ee),ie||!0===ge)requestAnimationFrame(R);else if(de[0]||de[1]||de[2]||de[3]||de[4]||de[5]||de[6]||de[7]||de[8]||de[9]||Z.autoRotate||be.pitch||be.yaw||be.hfov||.01<Math.abs(me.yaw)||.01<Math.abs(me.pitch)||.01<Math.abs(me.hfov))(function(){if(Q){var e,t=!1,o=Z.pitch,i=Z.yaw,r=Z.hfov;e="undefined"!=typeof performance&&performance.now()?performance.now():Date.now(),X===n&&(X=e);var a=(e-X)*Z.hfov/1700;if(a=Math.min(a,1),de[0]&&!0===Z.keyboardZoom&&(j(Z.hfov+(.8*me.hfov+.5)*a),t=!0),de[1]&&!0===Z.keyboardZoom&&(j(Z.hfov+(.8*me.hfov-.2)*a),t=!0),(de[2]||de[6])&&(Z.pitch+=(.8*me.pitch+.2)*a,t=!0),(de[3]||de[7])&&(Z.pitch+=(.8*me.pitch-.2)*a,t=!0),(de[4]||de[8])&&(Z.yaw+=(.8*me.yaw-.2)*a,t=!0),(de[5]||de[9])&&(Z.yaw+=(.8*me.yaw+.2)*a,t=!0),t&&(re=Date.now()),Date.now(),Z.autoRotate){if(.001<e-X){t=(e-X)/1e3;var s=(me.yaw/t*a-.2*Z.autoRotate)*t;s=(0<-Z.autoRotate?1:-1)*Math.min(Math.abs(Z.autoRotate*t),Math.abs(s)),Z.yaw+=s}Z.autoRotateStopDelay&&(Z.autoRotateStopDelay-=e-X,0>=Z.autoRotateStopDelay&&(Z.autoRotateStopDelay=!1,xe=Z.autoRotate,Z.autoRotate=0))}be.pitch&&(T("pitch"),o=Z.pitch),be.yaw&&(T("yaw"),i=Z.yaw),be.hfov&&(T("hfov"),r=Z.hfov),0<a&&!Z.autoRotate&&(de[4]||de[5]||de[8]||de[9]||be.yaw||(Z.yaw+=me.yaw*a*.85),de[2]||de[3]||de[6]||de[7]||be.pitch||(Z.pitch+=me.pitch*a*.85),de[0]||de[1]||be.hfov||j(Z.hfov+me.hfov*a*.85)),X=e,0<a&&(me.yaw=.8*me.yaw+(Z.yaw-i)/a*.2,me.pitch=.8*me.pitch+(Z.pitch-o)/a*.2,me.hfov=.8*me.hfov+(Z.hfov-r)/a*.2,o=Z.autoRotate?Math.abs(Z.autoRotate):5,me.yaw=Math.min(o,Math.max(me.yaw,-o)),me.pitch=Math.min(o,Math.max(me.pitch,-o)),me.hfov=Math.min(o,Math.max(me.hfov,-o))),de[0]&&de[0]&&(me.hfov=0),(de[2]||de[6])&&(de[3]||de[7])&&(me.pitch=0),(de[4]||de[8])&&(de[5]||de[9])&&(me.yaw=0)}})(),0<=Z.autoRotateInactivityDelay&&xe&&Date.now()-re>Z.autoRotateInactivityDelay&&!Z.autoRotate&&(Z.autoRotate=xe,oe.lookAt(ne,n,te,3e3)),requestAnimationFrame(R);else if($&&($.isLoading()||!0===Z.dynamic&&Ee))requestAnimationFrame(R);else{ve=!1,X=n;var e=Z.autoRotateInactivityDelay-(Date.now()-re);0<e?ee=setTimeout(function(){Z.autoRotate=xe,oe.lookAt(ne,n,te,3e3),L()},e):0<=Z.autoRotateInactivityDelay&&xe&&(Z.autoRotate=xe,oe.lookAt(ne,n,te,3e3),L())}}function C(e,t,n,o){this.w=e,this.x=t,this.y=n,this.z=o}function O(t){var n;n=t.alpha;var o=t.beta;t=t.gamma,o=[o?o*Math.PI/180/2:0,t?t*Math.PI/180/2:0,n?n*Math.PI/180/2:0],n=[Math.cos(o[0]),Math.cos(o[1]),Math.cos(o[2])],o=[Math.sin(o[0]),Math.sin(o[1]),Math.sin(o[2])],n=(n=new C(n[0]*n[1]*n[2]-o[0]*o[1]*o[2],o[0]*n[1]*n[2]-n[0]*o[1]*o[2],n[0]*o[1]*n[2]+o[0]*n[1]*o[2],n[0]*n[1]*o[2]+o[0]*o[1]*n[2])).multiply(new C(Math.sqrt(.5),-Math.sqrt(.5),0,0)),o=e.orientation?-e.orientation*Math.PI/180/2:0,n=n.multiply(new C(Math.cos(o),0,-Math.sin(o),0)).toEulerAngles(),"number"==typeof ge&&10>ge?ge+=1:10===ge?(ye=n[2]/Math.PI*180+Z.yaw,ge=!0,requestAnimationFrame(R)):(Z.pitch=n[0]/Math.PI*180,Z.roll=-n[1]/Math.PI*180,Z.yaw=-n[2]/Math.PI*180+ye)}function S(){if(Z.sceneFadeDuration&&$.fadeImg!==n){$.fadeImg.style.opacity=0;var e=$.fadeImg;delete $.fadeImg,setTimeout(function(){Le.removeChild(e),W("scenechangefadedone")},Z.sceneFadeDuration)}De.style.display=Z.compass?"inline":"none",Pe||(Z.hotSpots?(Z.hotSpots=Z.hotSpots.sort(function(e,t){return e.pitch<t.pitch}),Z.hotSpots.forEach(I)):Z.hotSpots=[],Pe=!0,Z.hotSpots.forEach(N)),Oe.load.box.style.display="none",K!==n&&(Le.removeChild(K),K=n),Q=!0,W("load"),L()}function I(e){e.pitch=Number(e.pitch)||0,e.yaw=Number(e.yaw)||0;var n=t.createElement("div");n.className="pnlm-hotspot-base",n.className=e.cssClass?n.className+" "+e.cssClass:n.className+" pnlm-hotspot pnlm-sprite pnlm-"+Y(e.type);var o,i=t.createElement("span");if(e.text&&(i.innerHTML=Y(e.text)),e.video){o=t.createElement("video");var r=e.video;Z.basePath&&!a(r)&&(r=Z.basePath+r),o.src=encodeURI(r),o.controls=!0,o.style.width=e.width+"px",Le.appendChild(n),i.appendChild(o)}else if(e.image){r=e.image,Z.basePath&&!a(r)&&(r=Z.basePath+r),(o=t.createElement("a")).href=encodeURI(e.URL?e.URL:r),o.target="_blank",i.appendChild(o);var s=t.createElement("img");s.src=encodeURI(r),s.style.width=e.width+"px",s.style.paddingTop="5px",Le.appendChild(n),o.appendChild(s),i.style.maxWidth="initial"}else e.URL?((o=t.createElement("a")).href=encodeURI(e.URL),o.target="_blank",Le.appendChild(o),n.style.cursor="pointer",i.style.cursor="pointer",o.appendChild(n)):(e.sceneId&&(n.onclick=n.ontouchend=function(){return n.clicked||(n.clicked=!0,q(e.sceneId,e.targetPitch,e.targetYaw,e.targetHfov)),!1},n.style.cursor="pointer",i.style.cursor="pointer"),Le.appendChild(n));e.createTooltipFunc?e.createTooltipFunc(n,e.createTooltipArgs):(e.text||e.video||e.image)&&(n.classList.add("pnlm-tooltip"),n.appendChild(i),i.style.width=i.scrollWidth-20+"px",i.style.marginLeft=-(i.scrollWidth-n.offsetWidth)/2+"px",i.style.marginTop=-i.scrollHeight-12+"px"),e.clickHandlerFunc&&(n.addEventListener("click",function(t){e.clickHandlerFunc(t,e.clickHandlerArgs)},"false"),n.style.cursor="pointer",i.style.cursor="pointer"),e.div=n}function N(e){var t=Math.sin(e.pitch*Math.PI/180),n=Math.cos(e.pitch*Math.PI/180),o=Math.sin(Z.pitch*Math.PI/180),i=Math.cos(Z.pitch*Math.PI/180),r=Math.cos((-e.yaw+Z.yaw)*Math.PI/180),a=t*o+n*r*i;if(90>=e.yaw&&-90<e.yaw&&0>=a||(90<e.yaw||-90>=e.yaw)&&0>=a)e.div.style.visibility="hidden";else{var s=Math.sin((-e.yaw+Z.yaw)*Math.PI/180),l=Math.tan(Z.hfov*Math.PI/360);e.div.style.visibility="visible";var c=(u=$.getCanvas()).clientWidth,u=u.clientHeight;t=[-c/l*s*n/a/2,-c/l*(t*i-n*r*o)/a/2],n=Math.sin(Z.roll*Math.PI/180),o=Math.cos(Z.roll*Math.PI/180),(t=[t[0]*o-t[1]*n,t[0]*n+t[1]*o])[0]+=(c-e.div.offsetWidth)/2,t[1]+=(u-e.div.offsetHeight)/2,c="translate("+t[0]+"px, "+t[1]+"px) translateZ(9999px) rotate("+Z.roll+"deg)",e.div.style.webkitTransform=c,e.div.style.MozTransform=c,e.div.style.transform=c}}function A(e){Z={};var t,n,o="haov vaov vOffset northOffset horizonPitch horizonRoll".split(" ");for(t in we=[],ke)ke.hasOwnProperty(t)&&(Z[t]=ke[t]);for(t in i.default)if(i.default.hasOwnProperty(t))if("strings"==t)for(n in i.default.strings)i.default.strings.hasOwnProperty(n)&&(Z.strings[n]=Y(i.default.strings[n]));else Z[t]=i.default[t],0<=o.indexOf(t)&&we.push(t);if(null!==e&&""!==e&&i.scenes&&i.scenes[e]){var r=i.scenes[e];for(t in r)if(r.hasOwnProperty(t))if("strings"==t)for(n in r.strings)r.strings.hasOwnProperty(n)&&(Z.strings[n]=Y(r.strings[n]));else Z[t]=r[t],0<=o.indexOf(t)&&we.push(t);Z.scene=e}for(t in i)if(i.hasOwnProperty(t))if("strings"==t)for(n in i.strings)i.strings.hasOwnProperty(n)&&(Z.strings[n]=Y(i.strings[n]));else Z[t]=i[t],0<=o.indexOf(t)&&we.push(t)}function D(e){if((e=e||!1)&&"preview"in Z){var o=Z.preview;Z.basePath&&!a(o)&&(o=Z.basePath+o),(K=t.createElement("div")).className="pnlm-preview-img",K.style.backgroundImage="url('"+encodeURI(o)+"')",Le.appendChild(K)}o=Z.title;var i=Z.author;for(var s in e&&("previewTitle"in Z&&(Z.title=Z.previewTitle),"previewAuthor"in Z&&(Z.author=Z.previewAuthor)),Z.hasOwnProperty("title")||(Oe.title.innerHTML=""),Z.hasOwnProperty("author")||(Oe.author.innerHTML=""),Z.hasOwnProperty("title")||Z.hasOwnProperty("author")||(Oe.container.style.display="none"),Ie.load.innerHTML="<p>"+Z.strings.loadButtonLabel+"</p>",Oe.load.boxp.innerHTML=Z.strings.loadingLabel,Z)if(Z.hasOwnProperty(s))switch(s){case"title":Oe.title.innerHTML=Y(Z[s]),Oe.container.style.display="inline";break;case"author":Oe.author.innerHTML=Z.strings.bylineLabel.replace("%s",Y(Z[s])),Oe.container.style.display="inline";break;case"fallback":Oe.errorMsg.innerHTML='<p>Your browser does not support WebGL.<br><a href="'+encodeURI(Z[s])+'" target="_blank">Click here to view this panorama in an alternative viewer.</a></p>';break;case"hfov":j(Number(Z[s]));break;case"autoLoad":!0===Z[s]&&$===n&&(Oe.load.box.style.display="inline",Ie.load.style.display="none",r());break;case"showZoomCtrl":Ie.zoom.style.display=Z[s]&&0!=Z.showControls?"block":"none";break;case"showFullscreenCtrl":Ie.fullscreen.style.display=Z[s]&&0!=Z.showControls&&("fullscreen"in t||"mozFullScreen"in t||"webkitIsFullScreen"in t||"msFullscreenElement"in t)?"block":"none";break;case"hotSpotDebug":Se.style.display=Z[s]?"block":"none";break;case"showControls":Z[s]||(Ie.orientation.style.display="none",Ie.zoom.style.display="none",Ie.fullscreen.style.display="none");break;case"orientationOnByDefault":Z[s]&&(Ne===n?Ae=!0:!0===Ne&&V())}e&&(o?Z.title=o:delete Z.title,i?Z.author=i:delete Z.author)}function z(){if(Q&&!fe)if(he)t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen();else try{o.requestFullscreen?o.requestFullscreen():o.mozRequestFullScreen?o.mozRequestFullScreen():o.msRequestFullscreen?o.msRequestFullscreen():o.webkitRequestFullScreen()}catch(e){}}function F(){t.fullscreen||t.mozFullScreen||t.webkitIsFullScreen||t.msFullscreenElement?(Ie.fullscreen.classList.add("pnlm-fullscreen-toggle-button-active"),he=!0):(Ie.fullscreen.classList.remove("pnlm-fullscreen-toggle-button-active"),he=!1),$.resize(),j(Z.hfov),L()}function U(e){var t=Z.minHfov;return"multires"==Z.type&&$&&(t=Math.min(t,$.getCanvas().width/(Z.multiRes.cubeResolution/90*.9))),t>Z.maxHfov?(console.log("HFOV bounds do not make sense (minHfov > maxHfov)."),Z.hfov):e<t?t:e>Z.maxHfov?Z.maxHfov:e}function j(e){Z.hfov=U(e)}function B(){be={},xe=Z.autoRotate?Z.autoRotate:xe,Z.autoRotate=!1}function H(){fe&&(Oe.load.box.style.display="none",Oe.errorMsg.style.display="none",fe=!1,W("errorcleared")),Q=!1,Ie.load.style.display="none",Oe.load.box.style.display="inline",r()}function q(e,t,o,r,a){var s,l;if(Q=!1,be={},Z.sceneFadeDuration&&!a&&(s=$.render(Z.pitch*Math.PI/180,Z.yaw*Math.PI/180,Z.hfov*Math.PI/180,{returnImage:!0}))!==n)return(a=new Image).className="pnlm-fade-img",a.style.transition="opacity "+Z.sceneFadeDuration/1e3+"s",a.style.width="100%",a.style.height="100%",a.onload=function(){q(e,t,o,r,!0)},a.src=s,Le.appendChild(a),void($.fadeImg=a);a="same"===t?Z.pitch:t,s="same"===o?Z.yaw:"sameAzimuth"===o?Z.yaw+(Z.northOffset||0)-(i.scenes[e].northOffset||0):o,l="same"===r?Z.hfov:r,function(){var e=Z.hotSpots;if(Pe=!1,delete Z.hotSpots,e)for(var t=0;t<e.length;t++){for(var n=e[t].div;n.parentNode!=Le;)n=n.parentNode;Le.removeChild(n),delete e[t].div}}(),A(e),me.yaw=me.pitch=me.hfov=0,D(),a!==n&&(Z.pitch=a),s!==n&&(Z.yaw=s),l!==n&&(Z.hfov=l),W("scenechange",e),H()}function G(){e.removeEventListener("deviceorientation",O),Ie.orientation.classList.remove("pnlm-orientation-button-active"),ge=!1}function V(){ge=1,e.addEventListener("deviceorientation",O),Ie.orientation.classList.add("pnlm-orientation-button-active")}function Y(e){return i.escapeHTML?String(e).split(/&/g).join("&amp;").split('"').join("&quot;").split("'").join("&#39;").split("<").join("&lt;").split(">").join("&gt;").split("/").join("&#x2f;").split("\n").join("<br>"):String(e).split("\n").join("<br>")}function W(e){if(e in _e)for(var t=_e[e].length;0<t;t--)_e[e][_e[e].length-t].apply(null,[].slice.call(arguments,1))}var Z,$,K,Q,J,X,ee,te,ne,oe=this,ie=!1,re=Date.now(),ae=0,se=0,le=-1,ce=0,ue=0,de=Array(10),he=!1,fe=!1,pe=!1,me={yaw:0,pitch:0,hfov:0},ve=!1,ge=!1,ye=0,xe=0,be={},_e={},we=[],Ee=!1,Pe=!1,ke={hfov:100,minHfov:50,maxHfov:120,pitch:0,minPitch:n,maxPitch:n,yaw:0,minYaw:-180,maxYaw:180,roll:0,haov:360,vaov:180,vOffset:0,autoRotate:!1,autoRotateInactivityDelay:-1,autoRotateStopDelay:n,type:"equirectangular",northOffset:0,showFullscreenCtrl:!0,dynamic:!1,doubleClickZoom:!0,keyboardZoom:!0,mouseZoom:!0,showZoomCtrl:!0,autoLoad:!1,showControls:!0,orientationOnByDefault:!1,hotSpotDebug:!1,backgroundColor:[0,0,0],animationTimingFunction:function(e){return.5>e?2*e*e:(4-2*e)*e-1},draggable:!0,disableKeyboardCtrl:!1,crossOrigin:"anonymous",strings:{loadButtonLabel:"Click to<br>Load<br>Panorama",loadingLabel:"Loading...",bylineLabel:"by %s",noPanoramaError:"No panorama image was specified.",fileAccessError:"The file %s could not be accessed.",malformedURLError:"There is something wrong with the panorama URL.",iOS8WebGLError:"Due to iOS 8's broken WebGL implementation, only progressive encoded JPEGs work for your device (this panorama uses standard encoding).",genericWebGLError:"Your browser does not have the necessary WebGL support to display this panorama.",textureSizeError:"This panorama is too big for your device! It's %spx wide, but your device only supports images up to %spx wide. Try another device. (If you're the author, try scaling down the image.)",unknownError:"Unknown error. Check developer console."}},Te=[16,17,27,37,38,39,40,61,65,68,83,87,107,109,173,187,189];(o="string"==typeof o?t.getElementById(o):o).classList.add("pnlm-container"),o.tabIndex=0;var Me=t.createElement("div");Me.className="pnlm-ui",o.appendChild(Me);var Le=t.createElement("div");Le.className="pnlm-render-container",o.appendChild(Le);var Re=t.createElement("div");Re.className="pnlm-dragfix",Me.appendChild(Re);var Ce=t.createElement("span");Ce.className="pnlm-about-msg",Ce.innerHTML='<a href="https://pannellum.org/" target="_blank">Pannellum</a> 2.4.1',Me.appendChild(Ce),Re.addEventListener("contextmenu",function e(t){var n=c(t);Ce.style.left=n.x+"px",Ce.style.top=n.y+"px",clearTimeout(e.t1),clearTimeout(e.t2),Ce.style.display="block",Ce.style.opacity=1,e.t1=setTimeout(function(){Ce.style.opacity=0},2e3),e.t2=setTimeout(function(){Ce.style.display="none"},2500),t.preventDefault()});var Oe={},Se=t.createElement("div");Se.className="pnlm-sprite pnlm-hot-spot-debug-indicator",Me.appendChild(Se),Oe.container=t.createElement("div"),Oe.container.className="pnlm-panorama-info",Oe.title=t.createElement("div"),Oe.title.className="pnlm-title-box",Oe.container.appendChild(Oe.title),Oe.author=t.createElement("div"),Oe.author.className="pnlm-author-box",Oe.container.appendChild(Oe.author),Me.appendChild(Oe.container),Oe.load={},Oe.load.box=t.createElement("div"),Oe.load.box.className="pnlm-load-box",Oe.load.boxp=t.createElement("p"),Oe.load.box.appendChild(Oe.load.boxp),Oe.load.lbox=t.createElement("div"),Oe.load.lbox.className="pnlm-lbox",Oe.load.lbox.innerHTML='<div class="pnlm-loading"></div>',Oe.load.box.appendChild(Oe.load.lbox),Oe.load.lbar=t.createElement("div"),Oe.load.lbar.className="pnlm-lbar",Oe.load.lbarFill=t.createElement("div"),Oe.load.lbarFill.className="pnlm-lbar-fill",Oe.load.lbar.appendChild(Oe.load.lbarFill),Oe.load.box.appendChild(Oe.load.lbar),Oe.load.msg=t.createElement("p"),Oe.load.msg.className="pnlm-lmsg",Oe.load.box.appendChild(Oe.load.msg),Me.appendChild(Oe.load.box),Oe.errorMsg=t.createElement("div"),Oe.errorMsg.className="pnlm-error-msg pnlm-info-box",Me.appendChild(Oe.errorMsg);var Ie={};Ie.container=t.createElement("div"),Ie.container.className="pnlm-controls-container",Me.appendChild(Ie.container),Ie.load=t.createElement("div"),Ie.load.className="pnlm-load-button",Ie.load.addEventListener("click",function(){D(),H()}),Me.appendChild(Ie.load),Ie.zoom=t.createElement("div"),Ie.zoom.className="pnlm-zoom-controls pnlm-controls",Ie.zoomIn=t.createElement("div"),Ie.zoomIn.className="pnlm-zoom-in pnlm-sprite pnlm-control",Ie.zoomIn.addEventListener("click",function(){Q&&(j(Z.hfov-5),L())}),Ie.zoom.appendChild(Ie.zoomIn),Ie.zoomOut=t.createElement("div"),Ie.zoomOut.className="pnlm-zoom-out pnlm-sprite pnlm-control",Ie.zoomOut.addEventListener("click",function(){Q&&(j(Z.hfov+5),L())}),Ie.zoom.appendChild(Ie.zoomOut),Ie.container.appendChild(Ie.zoom),Ie.fullscreen=t.createElement("div"),Ie.fullscreen.addEventListener("click",z),Ie.fullscreen.className="pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control",(t.fullscreenEnabled||t.mozFullScreenEnabled||t.webkitFullscreenEnabled||t.msFullscreenEnabled)&&Ie.container.appendChild(Ie.fullscreen),Ie.orientation=t.createElement("div"),Ie.orientation.addEventListener("click",function(e){ge?G():V()}),Ie.orientation.addEventListener("mousedown",function(e){e.stopPropagation()}),Ie.orientation.addEventListener("touchstart",function(e){e.stopPropagation()}),Ie.orientation.addEventListener("pointerdown",function(e){e.stopPropagation()}),Ie.orientation.className="pnlm-orientation-button pnlm-orientation-button-inactive pnlm-sprite pnlm-controls pnlm-control";var Ne,Ae=!1;e.DeviceOrientationEvent?e.addEventListener("deviceorientation",function t(n){e.removeEventListener("deviceorientation",t),n&&null!==n.alpha&&null!==n.beta&&null!==n.gamma?(Ie.container.appendChild(Ie.orientation),Ne=!0,Ae&&V()):Ne=!1}):Ne=!1;var De=t.createElement("div");De.className="pnlm-compass pnlm-controls pnlm-control",Me.appendChild(De),i.firstScene?A(i.firstScene):i.default&&i.default.firstScene?A(i.default.firstScene):A(null),D(!0);var ze=[],Fe=[];C.prototype.multiply=function(e){return new C(this.w*e.w-this.x*e.x-this.y*e.y-this.z*e.z,this.x*e.w+this.w*e.x+this.y*e.z-this.z*e.y,this.y*e.w+this.w*e.y+this.z*e.x-this.x*e.z,this.z*e.w+this.w*e.z+this.x*e.y-this.y*e.x)},C.prototype.toEulerAngles=function(){return[Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y)),Math.asin(2*(this.w*this.y-this.z*this.x)),Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z))]},this.isLoaded=function(){return Boolean(Q)},this.getPitch=function(){return Z.pitch},this.setPitch=function(e,t,o,i){return(t=t==n?1e3:Number(t))?be.pitch={startTime:Date.now(),startPosition:Z.pitch,endPosition:e,duration:t,callback:o,callbackArgs:i}:Z.pitch=e,L(),this},this.getPitchBounds=function(){return[Z.minPitch,Z.maxPitch]},this.setPitchBounds=function(e){return Z.minPitch=Math.max(-90,Math.min(e[0],90)),Z.maxPitch=Math.max(-90,Math.min(e[1],90)),this},this.getYaw=function(){return Z.yaw},this.setYaw=function(e,t,o,i){return e=(e+180)%360-180,(t=t==n?1e3:Number(t))?(180<Z.yaw-e?e+=360:180<e-Z.yaw&&(e-=360),be.yaw={startTime:Date.now(),startPosition:Z.yaw,endPosition:e,duration:t,callback:o,callbackArgs:i}):Z.yaw=e,L(),this},this.getYawBounds=function(){return[Z.minYaw,Z.maxYaw]},this.setYawBounds=function(e){return Z.minYaw=Math.max(-180,Math.min(e[0],180)),Z.maxYaw=Math.max(-180,Math.min(e[1],180)),this},this.getHfov=function(){return Z.hfov},this.setHfov=function(e,t,o,i){return(t=t==n?1e3:Number(t))?be.hfov={startTime:Date.now(),startPosition:Z.hfov,endPosition:U(e),duration:t,callback:o,callbackArgs:i}:j(e),L(),this},this.getHfovBounds=function(){return[Z.minHfov,Z.maxHfov]},this.setHfovBounds=function(e){return Z.minHfov=Math.max(0,e[0]),Z.maxHfov=Math.max(0,e[1]),this},this.lookAt=function(e,t,o,i,r,a){return i=i==n?1e3:Number(i),e!==n&&(this.setPitch(e,i,r,a),r=n),t!==n&&(this.setYaw(t,i,r,a),r=n),o!==n&&this.setHfov(o,i,r,a),this},this.getNorthOffset=function(){return Z.northOffset},this.setNorthOffset=function(e){return Z.northOffset=Math.min(360,Math.max(0,e)),L(),this},this.getHorizonRoll=function(){return Z.horizonRoll},this.setHorizonRoll=function(e){return Z.horizonRoll=Math.min(90,Math.max(-90,e)),$.setPose(Z.horizonPitch*Math.PI/180,Z.horizonRoll*Math.PI/180),L(),this},this.getHorizonPitch=function(){return Z.horizonPitch},this.setHorizonPitch=function(e){return Z.horizonPitch=Math.min(90,Math.max(-90,e)),$.setPose(Z.horizonPitch*Math.PI/180,Z.horizonRoll*Math.PI/180),L(),this},this.startAutoRotate=function(e){return e=e||xe||1,Z.autoRotate=e,oe.lookAt(ne,n,te,3e3),L(),this},this.stopAutoRotate=function(){return xe=Z.autoRotate?Z.autoRotate:xe,Z.autoRotate=!1,Z.autoRotateInactivityDelay=-1,this},this.getRenderer=function(){return $},this.setUpdate=function(e){return Ee=!0===e,$===n?s():L(),this},this.mouseEventToCoords=function(e){return h(e)},this.loadScene=function(e,t,n,o){return!1!==Q&&q(e,t,n,o),this},this.getScene=function(){return Z.scene},this.addScene=function(e,t){return i.scenes[e]=t,this},this.removeScene=function(e){return!(Z.scene===e||!i.scenes.hasOwnProperty(e)||(delete i.scenes[e],0))},this.toggleFullscreen=function(){return z(),this},this.getConfig=function(){return Z},this.getContainer=function(){return o},this.addHotSpot=function(e,t){if(t===n&&Z.scene===n)Z.hotSpots.push(e);else{var o=t!==n?t:Z.scene;if(!i.scenes.hasOwnProperty(o))throw"Invalid scene ID!";i.scenes[o].hasOwnProperty("hotSpots")||(i.scenes[o].hotSpots=[],o==Z.scene&&(Z.hotSpots=i.scenes[o].hotSpots)),i.scenes[o].hotSpots.push(e)}return t!==n&&Z.scene!=t||(I(e),Q&&N(e)),this},this.removeHotSpot=function(e){if(!Z.hotSpots)return!1;for(var t=0;t<Z.hotSpots.length;t++)if(Z.hotSpots[t].hasOwnProperty("id")&&Z.hotSpots[t].id===e){for(e=Z.hotSpots[t].div;e.parentNode!=Le;)e=e.parentNode;return Le.removeChild(e),delete Z.hotSpots[t].div,Z.hotSpots.splice(t,1),!0}return!1},this.resize=function(){F()},this.isLoaded=function(){return Q},this.isOrientationSupported=function(){return Ne||!1},this.stopOrientation=function(){G()},this.startOrientation=function(){Ne&&V()},this.isOrientationActive=function(){return Boolean(ge)},this.on=function(e,t){return _e[e]=_e[e]||[],_e[e].push(t),this},this.off=function(e,t){if(!e)return _e={},this;if(t){var n=_e[e].indexOf(t);0<=n&&_e[e].splice(n,1),0==_e[e].length&&delete _e[e]}else delete _e[e];return this},this.destroy=function(){$&&$.destroy(),pe&&(Re.removeEventListener("mousedown",u,!1),Re.removeEventListener("dblclick",d,!1),t.removeEventListener("mousemove",f,!1),t.removeEventListener("mouseup",p,!1),o.removeEventListener("mousewheel",_,!1),o.removeEventListener("DOMMouseScroll",_,!1),o.removeEventListener("mozfullscreenchange",F,!1),o.removeEventListener("webkitfullscreenchange",F,!1),o.removeEventListener("msfullscreenchange",F,!1),o.removeEventListener("fullscreenchange",F,!1),e.removeEventListener("resize",M,!1),e.removeEventListener("orientationchange",M,!1),o.removeEventListener("keydown",w,!1),o.removeEventListener("keyup",P,!1),o.removeEventListener("blur",E,!1),t.removeEventListener("mouseleave",p,!1),Re.removeEventListener("touchstart",m,!1),Re.removeEventListener("touchmove",v,!1),Re.removeEventListener("touchend",g,!1),Re.removeEventListener("pointerdown",y,!1),Re.removeEventListener("pointermove",x,!1),Re.removeEventListener("pointerup",b,!1),Re.removeEventListener("pointerleave",b,!1)),o.innerHTML="",o.classList.remove("pnlm-container"),Me.classList.remove("pnlm-grab"),Me.classList.remove("pnlm-grabbing")}}return{viewer:function(e,t){return new o(e,t)}}}(window,document)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateId=function(){return(new Date).valueOf().toString()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){var e=this,t=new Promise(function(t,n){e.resolve=t,e.reject=n});this.promise=t};t.default=o},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),a=n(14),s=n(18),l=n(2),c=s(),u=function(e){function t(t){var n=e.call(this)||this;return t.classPrefix=t.classPrefix?t.classPrefix+"-info-element":"info-element",n.state={isOpen:!1,title:t.title,description:t.description,_title:t.title,_description:t.description},n}return i(t,e),t.prototype.render=function(e,t){var n=this,o=e.isEdit&&t.isOpen?t._description:this.addAnyLink(t._description),i=e.classPrefix+"-header "+(t.isOpen?"":e.classPrefix+"-clickable");i+=t.isOpen&&e.isEdit?e.classPrefix+"-editable":"";var a=e.classPrefix+"-close "+e.classPrefix+"-clickable",s=e.classPrefix+"-body ";return s+=t.isOpen&&e.isEdit?e.classPrefix+"-editable":"",l.h("div",{ref:function(e){n.dom=e},class:""+e.classPrefix,id:e.id},t.isOpen&&l.h("button",{class:a,onClick:this._onClose.bind(this)},"x"),l.h("h4",{contentEditable:e.isEdit,class:i,onInput:r.default(this,"_title","target.textContent"),onClick:function(e){!t.isOpen&&n._toggleView()}},t._title),t.isOpen&&l.h("p",{contentEditable:e.isEdit,class:s,onInput:r.default(this,"_description","target.textContent"),dangerouslySetInnerHTML:!e.isEdit&&{__html:this.sanitize(o)}},e.isEdit&&o),t.isOpen&&e.isEdit&&l.h("div",{class:e.classPrefix+"-footer "},l.h("button",{onClick:this._updateContent.bind(this)},l.h("i",{class:"fa fa-disk"}),"Save"),"",l.h("button",{onClick:this._onDelete.bind(this)},l.h("i",{class:"fa fa-trash"}),"Delete")))},t.prototype.sanitize=function(e){return c.sanitize(e,{ALLOWED_ATTR:["href","target"],ALLOWED_TAGS:["a"]})},t.prototype.addAnyLink=function(e){return a.default(e,{attributes:[{name:"target",value:"_blank"}]})},t.prototype._updateContent=function(e){this.setState({title:this.state._title,description:this.state._description}),this._toggleView(!1),this._dispatchEvent(t.EVENTS.UPDATE_INFO_ELEMENT)},t.prototype._toggleView=function(e){var n;n="boolean"!=typeof e?!this.state.isOpen:e,this.setState({isOpen:n}),this._dispatchEvent(t.EVENTS.TOGGLE_INFO_ELEMENT)},t.prototype._onClose=function(e){this.setState({_description:this.state.description,_title:this.state.title}),this._toggleView(!1)},t.prototype._onDelete=function(e){this._dispatchEvent(t.EVENTS.DELETE_INFO_ELEMENT)},t.prototype._dispatchEvent=function(e,t){void 0===t&&(t=this._getSimpleState());var n=new CustomEvent(e,{bubbles:!0,detail:t});this.dom.dispatchEvent(n)},t.prototype._getSimpleState=function(){return{title:this.state.title,description:this.state.description,id:this.props.id}},t.EVENTS={UPDATE_INFO_ELEMENT:"UPDATE_INFO_ELEMENT",TOGGLE_INFO_ELEMENT:"TOGGLE_INFO_ELEMENT",DELETE_INFO_ELEMENT:"DELETE_INFO_ELEMENT"},t}(l.Component);t.default=u,window.anchorme=a.default,window.DOMPurify=c},function(e,t,n){"use strict";n.r(t),t.default=function(e,t,n){var o=t.split("."),i=e.__lsc||(e.__lsc={});return i[t+n]||(i[t+n]=function(t){for(var i=t&&t.target||this,r={},a=r,s="string"==typeof n?function(e,t,n,o){for(o=0,t=t.split?t.split("."):t;e&&o<t.length;)e=e[t[o++]];return void 0===e?void 0:e}(t,n):i.nodeName?i.type.match(/^che|rad/)?i.checked:i.value:t,l=0;l<o.length-1;l++)a=a[o[l]]||(a[o[l]]=!l&&e.state[o[l]]||{});a[o[l]]=s,e.setState(r)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(3),r=n(4),a=n(5),s=n(15),l=n(7),c=function(e,t){return t=o.defaultOptions(t),s.default(e,t)};c.validate={ip:r.default,url:function(e){var t=l.default(e)||"";return e=e.substr(t.length),e=encodeURI(e),a.default(e)},email:i.default},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(17),r=n(6);t.default=function(e,t){var n=r.separate(e),a=i.default(n,t);if(t.exclude)for(var s=0;s<a.length;s++){var l=a[s];"object"==typeof l&&t.exclude(l)&&(a[s]=l.raw)}if(t.list){for(var c=[],u=0;u<a.length;u++){var d=a[u];"string"!=typeof d&&c.push(d)}return c}return a=a.map(function(e){return"string"==typeof e?e:function(e,t){var n=e.protocol+e.encoded,o=e.raw;return"number"==typeof t.truncate&&o.length>t.truncate&&(o=o.substring(0,t.truncate)+"..."),"object"==typeof t.truncate&&o.length>t.truncate[0]+t.truncate[1]&&(o=o.substr(0,t.truncate[0])+"..."+o.substr(o.length-t.truncate[1])),void 0===t.attributes&&(t.attributes=[]),'<a href="'+n+'" '+t.attributes.map(function(t){if("function"!=typeof t)return" "+t.name+'="'+t.value+'" ';var n=(t(e)||{}).name,o=(t(e)||{}).value;return n&&!o?" name ":n&&o?" "+n+'="'+o+'" ':void 0}).join("")+">"+o+"</a>"}(e,t)}),o.deSeparate(a)}},function(e,t,n){"use strict";function o(e,t,n){return e.forEach(function(i,r){!(i.indexOf(".")>-1)||e[r-1]===t&&e[r+1]===n||e[r+1]!==t&&e[r+1]!==n||(e[r]=e[r]+e[r+1],"string"==typeof e[r+2]&&(e[r]=e[r]+e[r+2]),"string"==typeof e[r+3]&&(e[r]=e[r]+e[r+3]),"string"==typeof e[r+4]&&(e[r]=e[r]+e[r+4]),e.splice(r+1,4),o(e,t,n))}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.fixSeparators=o,t.default=function(e){return o(e=o(e=o(e=o(e,"(",")"),"[","]"),'"','"'),"'","'")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(7),r=n(1),a=n(4),s=n(5);t.default=function(e,t){return e.map(function(n,l){var c=encodeURI(n);if(c.indexOf(".")<1&&!i.default(c))return n;var u=null,d=i.default(c)||"";return d&&(c=c.substr(d.length)),t.files&&"file:///"===d&&c.split(/\/|\\/).length-1&&(u={reason:"file",protocol:d,raw:n,encoded:c}),!u&&t.urls&&s.default(c)&&(u={reason:"url",protocol:d||("function"==typeof t.defaultProtocol?t.defaultProtocol(n):t.defaultProtocol),raw:n,encoded:c}),!u&&t.emails&&o.default(c)&&(u={reason:"email",protocol:"mailto:",raw:n,encoded:c}),!u&&t.ips&&a.default(c)&&(u={reason:"ip",protocol:d||("function"==typeof t.defaultProtocol?t.defaultProtocol(n):t.defaultProtocol),raw:n,encoded:c}),u&&("'"!==e[l-1]&&'"'!==e[l-1]||!~r.htmlAttrs.indexOf(e[l-2]))?u:n})}},function(e,t,n){e.exports=function(){"use strict";var e=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],t=["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"],n=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence"],o=["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"],i=["#text"],r=["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"],a=["accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"],s=["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"],l=["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"];function c(e,t){for(var n=t.length;n--;)"string"==typeof t[n]&&(t[n]=t[n].toLowerCase()),e[t[n]]=!0;return e}function u(e){var t={},n=void 0;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var d=/\{\{[\s\S]*|[\s\S]*\}\}/gm,h=/<%[\s\S]*|[\s\S]*%>/gm,f=/^data-[\-\w.\u00B7-\uFFFF]/,p=/^aria-[\-\w]+$/,m=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,v=/^(?:\w+script|data):/i,g=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function x(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}return function b(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,w=function(e){return b(e)};if(w.version="1.0.3",w.removed=[],!_||!_.document||9!==_.document.nodeType)return w.isSupported=!1,w;var E=_.document,P=!1,k=!1,T=_.document,M=_.DocumentFragment,L=_.HTMLTemplateElement,R=_.Node,C=_.NodeFilter,O=_.NamedNodeMap,S=void 0===O?_.NamedNodeMap||_.MozNamedAttrMap:O,I=_.Text,N=_.Comment,A=_.DOMParser,D=_.XMLHttpRequest,z=void 0===D?_.XMLHttpRequest:D,F=_.encodeURI,U=void 0===F?_.encodeURI:F;if("function"==typeof L){var j=T.createElement("template");j.content&&j.content.ownerDocument&&(T=j.content.ownerDocument)}var B=T,H=B.implementation,q=B.createNodeIterator,G=B.getElementsByTagName,V=B.createDocumentFragment,Y=E.importNode,W={};w.isSupported=H&&void 0!==H.createHTMLDocument&&9!==T.documentMode;var Z=d,$=h,K=f,Q=p,J=v,X=g,ee=m,te=null,ne=c({},[].concat(x(e),x(t),x(n),x(o),x(i))),oe=null,ie=c({},[].concat(x(r),x(a),x(s),x(l))),re=null,ae=null,se=!0,le=!0,ce=!1,ue=!1,de=!1,he=!1,fe=!1,pe=!1,me=!1,ve=!1,ge=!1,ye=!0,xe=!0,be={},_e=c({},["audio","head","math","script","style","template","svg","video"]),we=c({},["audio","video","img","source","image"]),Ee=c({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Pe=null,ke=T.createElement("form"),Te=function(d){"object"!==(void 0===d?"undefined":y(d))&&(d={}),te="ALLOWED_TAGS"in d?c({},d.ALLOWED_TAGS):ne,oe="ALLOWED_ATTR"in d?c({},d.ALLOWED_ATTR):ie,re="FORBID_TAGS"in d?c({},d.FORBID_TAGS):{},ae="FORBID_ATTR"in d?c({},d.FORBID_ATTR):{},be="USE_PROFILES"in d&&d.USE_PROFILES,se=!1!==d.ALLOW_ARIA_ATTR,le=!1!==d.ALLOW_DATA_ATTR,ce=d.ALLOW_UNKNOWN_PROTOCOLS||!1,ue=d.SAFE_FOR_JQUERY||!1,de=d.SAFE_FOR_TEMPLATES||!1,he=d.WHOLE_DOCUMENT||!1,me=d.RETURN_DOM||!1,ve=d.RETURN_DOM_FRAGMENT||!1,ge=d.RETURN_DOM_IMPORT||!1,pe=d.FORCE_BODY||!1,ye=!1!==d.SANITIZE_DOM,xe=!1!==d.KEEP_CONTENT,ee=d.ALLOWED_URI_REGEXP||ee,de&&(le=!1),ve&&(me=!0),be&&(te=c({},[].concat(x(i))),oe=[],!0===be.html&&(c(te,e),c(oe,r)),!0===be.svg&&(c(te,t),c(oe,a),c(oe,l)),!0===be.svgFilters&&(c(te,n),c(oe,a),c(oe,l)),!0===be.mathMl&&(c(te,o),c(oe,s),c(oe,l))),d.ADD_TAGS&&(te===ne&&(te=u(te)),c(te,d.ADD_TAGS)),d.ADD_ATTR&&(oe===ie&&(oe=u(oe)),c(oe,d.ADD_ATTR)),d.ADD_URI_SAFE_ATTR&&c(Ee,d.ADD_URI_SAFE_ATTR),xe&&(te["#text"]=!0),Object&&"freeze"in Object&&Object.freeze(d),Pe=d},Me=function(e){w.removed.push({element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=""}},Le=function(e,t){w.removed.push({attribute:t.getAttributeNode(e),from:t}),t.removeAttribute(e)},Re=function(e){var t=void 0,n=void 0;if(pe&&(e="<remove></remove>"+e),k){try{e=U(e)}catch(e){}var o=new z;o.responseType="document",o.open("GET","data:text/html;charset=utf-8,"+e,!1),o.send(null),t=o.response}if(P)try{t=(new A).parseFromString(e,"text/html")}catch(e){}return t&&t.documentElement||((n=(t=H.createHTMLDocument("")).body).parentNode.removeChild(n.parentNode.firstElementChild),n.outerHTML=e),G.call(t,he?"html":"body")[0]};w.isSupported&&function(){var e=Re('<svg><g onload="this.parentNode.remove()"></g></svg>');e.querySelector("svg")||(k=!0);try{(e=Re('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">')).querySelector("svg img")&&(P=!0)}catch(e){}}();var Ce=function(e){return q.call(e.ownerDocument||e,e,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT,function(){return C.FILTER_ACCEPT},!1)},Oe=function(e){return"object"===(void 0===R?"undefined":y(R))?e instanceof R:e&&"object"===(void 0===e?"undefined":y(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Se=function(e,t,n){W[e]&&W[e].forEach(function(e){e.call(w,t,n,Pe)})},Ie=function(e){var t,n=void 0;if(Se("beforeSanitizeElements",e,null),!((t=e)instanceof I||t instanceof N||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof S&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute))return Me(e),!0;var o=e.nodeName.toLowerCase();if(Se("uponSanitizeElement",e,{tagName:o,allowedTags:te}),!te[o]||re[o]){if(xe&&!_e[o]&&"function"==typeof e.insertAdjacentHTML)try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(e){}return Me(e),!0}return!ue||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(w.removed.push({element:e.cloneNode()}),e.innerHTML=e.textContent.replace(/</g,"&lt;")),de&&3===e.nodeType&&(n=(n=(n=e.textContent).replace(Z," ")).replace($," "),e.textContent!==n&&(w.removed.push({element:e.cloneNode()}),e.textContent=n)),Se("afterSanitizeElements",e,null),!1},Ne=function(e){var t=void 0,n=void 0,o=void 0,i=void 0,r=void 0,a=void 0,s=void 0;if(Se("beforeSanitizeAttributes",e,null),a=e.attributes){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:oe};for(s=a.length;s--;){if(n=(t=a[s]).name,o=t.value.trim(),i=n.toLowerCase(),l.attrName=i,l.attrValue=o,l.keepAttr=!0,Se("uponSanitizeAttribute",e,l),o=l.attrValue,"name"===i&&"IMG"===e.nodeName&&a.id)r=a.id,a=Array.prototype.slice.apply(a),Le("id",e),Le(n,e),a.indexOf(r)>s&&e.setAttribute("id",r.value);else{if("INPUT"===e.nodeName&&"type"===i&&"file"===o&&(oe[i]||!ae[i]))continue;"id"===n&&e.setAttribute(n,""),Le(n,e)}if(l.keepAttr&&(!ye||"id"!==i&&"name"!==i||!(o in T||o in ke))){if(de&&(o=(o=o.replace(Z," ")).replace($," ")),le&&K.test(i))   ;else if(se&&Q.test(i))   ;else{if(!oe[i]||ae[i])continue;if(Ee[i])   ;else if(ee.test(o.replace(X,"")))   ;else if("src"!==i&&"xlink:href"!==i||0!==o.indexOf("data:")||!we[e.nodeName.toLowerCase()])if(ce&&!J.test(o.replace(X,"")))   ;else if(o)continue}try{e.setAttribute(n,o),w.removed.pop()}catch(e){}}}Se("afterSanitizeAttributes",e,null)}},Ae=function e(t){var n=void 0,o=Ce(t);for(Se("beforeSanitizeShadowDOM",t,null);n=o.nextNode();)Se("uponSanitizeShadowNode",n,null),Ie(n)||(n.content instanceof M&&e(n.content),Ne(n));Se("afterSanitizeShadowDOM",t,null)};return w.sanitize=function(e,t){var n=void 0,o=void 0,i=void 0,r=void 0,a=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Oe(e)){if("function"!=typeof e.toString)throw new TypeError("toString is not a function");if("string"!=typeof(e=e.toString()))throw new TypeError("dirty is not a string, aborting")}if(!w.isSupported){if("object"===y(_.toStaticHTML)||"function"==typeof _.toStaticHTML){if("string"==typeof e)return _.toStaticHTML(e);if(Oe(e))return _.toStaticHTML(e.outerHTML)}return e}if(fe||Te(t),w.removed=[],e instanceof R)1===(o=(n=Re("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===o.nodeName?n=o:n.appendChild(o);else{if(!me&&!he&&-1===e.indexOf("<"))return e;if(!(n=Re(e)))return me?null:""}pe&&Me(n.firstChild);for(var s=Ce(n);i=s.nextNode();)3===i.nodeType&&i===r||Ie(i)||(i.content instanceof M&&Ae(i.content),Ne(i),r=i);if(me){if(ve)for(a=V.call(n.ownerDocument);n.firstChild;)a.appendChild(n.firstChild);else a=n;return ge&&(a=Y.call(E,a,!0)),a}return he?n.outerHTML:n.innerHTML},w.setConfig=function(e){Te(e),fe=!0},w.clearConfig=function(){Pe=null,fe=!1},w.addHook=function(e,t){"function"==typeof t&&(W[e]=W[e]||[],W[e].push(t))},w.removeHook=function(e){W[e]&&W[e].pop()},w.removeHooks=function(e){W[e]&&(W[e]=[])},w.removeAllHooks=function(){W={}},w}()}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t="id"),this._prop=t,this._array=e,this.table=this._arrayToDict(this._array)}return e.prototype.add=function(e){return this._array.push(e),this.table[e[this._prop]]=e,this},e.prototype.delete=function(e){var t=this;return"string"!=typeof e&&"number"!=typeof e||(e=this.get(e)),!!e&&(this._array.forEach(function(n,o){n[t._prop]===e[t._prop]&&t._array.splice(o,1)}),delete this.table[e[this._prop]])},e.prototype.get=function(e){return void 0===e&&(e=0),e?this.table[e]:this._array[e]},Object.defineProperty(e.prototype,"length",{get:function(){return this._array.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"array",{get:function(){return this._array},enumerable:!0,configurable:!0}),e.prototype._arrayToDict=function(e){var t=this;return e.reduce(function(e,n){return e[n[t._prop]]=n,e},{})},e}();t.default=o},function(e,t){}]);
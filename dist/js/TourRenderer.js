!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=function(e){return e||(e={attributes:[],ips:!0,emails:!0,urls:!0,files:!0,truncate:1/0,defaultProtocol:"http://",list:!1}),"object"!=typeof e.attributes&&(e.attributes=[]),"boolean"!=typeof e.ips&&(e.ips=!0),"boolean"!=typeof e.emails&&(e.emails=!0),"boolean"!=typeof e.urls&&(e.urls=!0),"boolean"!=typeof e.files&&(e.files=!0),"boolean"!=typeof e.list&&(e.list=!1),"string"!=typeof e.defaultProtocol&&"function"!=typeof e.defaultProtocol&&(e.defaultProtocol="http://"),"number"==typeof e.truncate||"object"==typeof e.truncate&&null!==e.truncate||(e.truncate=1/0),e},t.isPort=function(e){return!(isNaN(Number(e))||Number(e)>65535)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tlds=["com","org","net","uk","gov","edu","io","cc","co","aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","active","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","aigo","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blanco","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnl","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","boots","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","cartier","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cd","ceb","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","chase","chat","cheap","chintai","chloe","christmas","chrome","chrysler","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","coach","codes","coffee","college","cologne","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dodge","dog","doha","domains","dot","download","drive","dtv","dubai","duck","dunlop","duns","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epost","epson","equipment","er","ericsson","erni","es","esq","estate","esurance","et","eu","eurovision","eus","events","everbank","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodhands","goodyear","goog","google","gop","got","gp","gq","gr","grainger","graphics","gratis","green","gripe","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","honeywell","horse","hospital","host","hosting","hot","hoteles","hotmail","house","how","hr","hsbc","ht","htc","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","industries","infiniti","info","ing","ink","institute","insurance","insure","int","intel","international","intuit","investments","ipiranga","iq","ir","irish","is","iselect","ismaili","ist","istanbul","it","itau","itv","iveco","iwc","jaguar","java","jcb","jcp","je","jeep","jetzt","jewelry","jio","jlc","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","ladbrokes","lamborghini","lamer","lancaster","lancia","lancome","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","liaison","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mcd","mcdonalds","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","meo","metlife","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","mobily","moda","moe","moi","mom","monash","money","monster","montblanc","mopar","mormon","mortgage","moscow","moto","motorcycles","mov","movie","movistar","mp","mq","mr","ms","msd","mt","mtn","mtpc","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nadex","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","organic","orientexpress","origins","osaka","otsuka","ott","ovh","pa","page","pamperedchef","panasonic","panerai","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","philips","phone","photo","photography","photos","physio","piaget","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","rightathome","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sapo","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scor","scot","sd","se","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","shriram","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","space","spiegel","spot","spreadbetting","sr","srl","srt","st","stada","staples","star","starhub","statebank","statefarm","statoil","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","symantec","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","telecity","telefonica","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","uconnect","ug","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","vista","vistaprint","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","warman","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","xn--11b4c3d","xn--1ck2e1b","xn--1qqw23a","xn--30rr7y","xn--3bst00m","xn--3ds443g","xn--3e0b707e","xn--3oq18vl8pn36a","xn--3pxu8k","xn--42c2d9a","xn--45brj9c","xn--45q11c","xn--4gbrim","xn--54b7fta0cc","xn--55qw42g","xn--55qx5d","xn--5su34j936bgsg","xn--5tzm5g","xn--6frz82g","xn--6qq986b3xl","xn--80adxhks","xn--80ao21a","xn--80aqecdr1a","xn--80asehdb","xn--80aswg","xn--8y0a063a","xn--90a3ac","xn--90ae","xn--90ais","xn--9dbq2a","xn--9et52u","xn--9krt00a","xn--b4w605ferd","xn--bck1b9a5dre4c","xn--c1avg","xn--c2br7g","xn--cck2b3b","xn--cg4bki","xn--clchc0ea0b2g2a9gcd","xn--czr694b","xn--czrs0t","xn--czru2d","xn--d1acj3b","xn--d1alf","xn--e1a4c","xn--eckvdtc9d","xn--efvy88h","xn--estv75g","xn--fct429k","xn--fhbei","xn--fiq228c5hs","xn--fiq64b","xn--fiqs8s","xn--fiqz9s","xn--fjq720a","xn--flw351e","xn--fpcrj9c3d","xn--fzc2c9e2c","xn--fzys8d69uvgm","xn--g2xx48c","xn--gckr3f0f","xn--gecrj9c","xn--gk3at1e","xn--h2brj9c","xn--hxt814e","xn--i1b6b1a6a2e","xn--imr513n","xn--io0a7i","xn--j1aef","xn--j1amh","xn--j6w193g","xn--jlq61u9w7b","xn--jvr189m","xn--kcrx77d1x4a","xn--kprw13d","xn--kpry57d","xn--kpu716f","xn--kput3i","xn--l1acc","xn--lgbbat1ad8j","xn--mgb9awbf","xn--mgba3a3ejt","xn--mgba3a4f16a","xn--mgba7c0bbn0a","xn--mgbaam7a8h","xn--mgbab2bd","xn--mgbai9azgqp6j","xn--mgbayh7gpa","xn--mgbb9fbpob","xn--mgbbh1a71e","xn--mgbc0a9azcg","xn--mgbca7dzdo","xn--mgberp4a5d4ar","xn--mgbi4ecexp","xn--mgbpl2fh","xn--mgbt3dhd","xn--mgbtx2b","xn--mgbx4cd0ab","xn--mix891f","xn--mk1bu44c","xn--mxtq1m","xn--ngbc5azd","xn--ngbe9e0a","xn--node","xn--nqv7f","xn--nqv7fs00ema","xn--nyqy26a","xn--o3cw4h","xn--ogbpf8fl","xn--p1acf","xn--p1ai","xn--pbt977c","xn--pgbs0dh","xn--pssy2u","xn--q9jyb4c","xn--qcka1pmc","xn--qxam","xn--rhqv96g","xn--rovu88b","xn--s9brj9c","xn--ses554g","xn--t60b56a","xn--tckwe","xn--tiq49xqyj","xn--unup4y","xn--vermgensberater-ctb","xn--vermgensberatung-pwb","xn--vhquv","xn--vuq861b","xn--w4r85el8fhu5dnra","xn--w4rs40l","xn--wgbh1c","xn--wgbl6a","xn--xhq521b","xn--xkc2al3hye2a","xn--xkc2dl3a5ee0h","xn--y9a3aq","xn--yfro4i67o","xn--ygbi2ammx","xn--zfr164b","xperia","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zippo","zm","zone","zuerich","zw"],t.htmlAttrs=["src=","data=","href=","cite=","formaction=","icon=","manifest=","poster=","codebase=","background=","profile=","usemap="]},function(e,t,n){"use strict";n.r(t),n.d(t,"h",function(){return r}),n.d(t,"createElement",function(){return r}),n.d(t,"cloneElement",function(){return c}),n.d(t,"Component",function(){return N}),n.d(t,"render",function(){return I}),n.d(t,"rerender",function(){return f}),n.d(t,"options",function(){return o});var o={},i=[],a=[];function r(e,t){var n,r,s,l,c=a;for(l=arguments.length;l-- >2;)i.push(arguments[l]);for(t&&null!=t.children&&(i.length||i.push(t.children),delete t.children);i.length;)if((r=i.pop())&&void 0!==r.pop)for(l=r.length;l--;)i.push(r[l]);else"boolean"==typeof r&&(r=null),(s="function"!=typeof e)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(s=!1)),s&&n?c[c.length-1]+=r:c===a?c=[r]:c.push(r),n=s;var u=new function(){};return u.nodeName=e,u.children=c,u.attributes=null==t?void 0:t,u.key=null==t?void 0:t.key,void 0!==o.vnode&&o.vnode(u),u}function s(e,t){for(var n in t)e[n]=t[n];return e}var l="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function c(e,t){return r(e.nodeName,s(s({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var u=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,d=[];function h(e){!e._dirty&&(e._dirty=!0)&&1==d.push(e)&&(o.debounceRendering||l)(f)}function f(){var e,t=d;for(d=[];e=t.pop();)e._dirty&&O(e)}function p(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function m(e){var t=s({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var o in n)void 0===t[o]&&(t[o]=n[o]);return t}function v(e){var t=e.parentNode;t&&t.removeChild(e)}function g(e,t,n,o,i){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),o&&o(e);else if("class"!==t||i)if("style"===t){if(o&&"string"!=typeof o&&"string"!=typeof n||(e.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var a in n)a in o||(e.style[a]="");for(var a in o)e.style[a]="number"==typeof o[a]&&!1===u.test(a)?o[a]+"px":o[a]}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1]){var r=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,b,r):e.removeEventListener(t,b,r),(e._listeners||(e._listeners={}))[t]=o}else if("list"!==t&&"type"!==t&&!i&&t in e)!function(e,t,n){try{e[t]=n}catch(e){}}(e,t,null==o?"":o),null!=o&&!1!==o||e.removeAttribute(t);else{var s=i&&t!==(t=t.replace(/^xlink\:?/,""));null==o||!1===o?s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof o&&(s?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||""}function b(e){return this._listeners[e.type](o.event&&o.event(e)||e)}var y=[],x=0,w=!1,_=!1;function E(){for(var e;e=y.pop();)o.afterMount&&o.afterMount(e),e.componentDidMount&&e.componentDidMount()}function P(e,t,n,o,i,a){x++||(w=null!=i&&void 0!==i.ownerSVGElement,_=null!=e&&!("__preactattr_"in e));var r=function e(t,n,o,i,a){var r=t,s=w;if(null!=n&&"boolean"!=typeof n||(n=""),"string"==typeof n||"number"==typeof n)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||a)?t.nodeValue!=n&&(t.nodeValue=n):(r=document.createTextNode(n),t&&(t.parentNode&&t.parentNode.replaceChild(r,t),k(t,!0))),r.__preactattr_=!0,r;var l,c,u=n.nodeName;if("function"==typeof u)return function(e,t,n,o){for(var i=e&&e._component,a=i,r=e,s=i&&e._componentConstructor===t.nodeName,l=s,c=m(t);i&&!l&&(i=i._parentComponent);)l=i.constructor===t.nodeName;return i&&l&&(!o||i._component)?(R(i,c,3,n,o),e=i.base):(a&&!s&&(S(a),e=r=null),i=L(t.nodeName,c,n),e&&!i.nextBase&&(i.nextBase=e,r=null),R(i,c,1,n,o),e=i.base,r&&e!==r&&(r._component=null,k(r,!1))),e}(t,n,o,i);if(w="svg"===u||"foreignObject"!==u&&w,u=String(u),(!t||!p(t,u))&&(l=u,(c=w?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l)).normalizedNodeName=l,r=c,t)){for(;t.firstChild;)r.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(r,t),k(t,!0)}var d=r.firstChild,h=r.__preactattr_,f=n.children;if(null==h){h=r.__preactattr_={};for(var b=r.attributes,y=b.length;y--;)h[b[y].name]=b[y].value}return!_&&f&&1===f.length&&"string"==typeof f[0]&&null!=d&&void 0!==d.splitText&&null==d.nextSibling?d.nodeValue!=f[0]&&(d.nodeValue=f[0]):(f&&f.length||null!=d)&&function(t,n,o,i,a){var r,s,l,c,u,d,h,f,m=t.childNodes,g=[],b={},y=0,x=0,w=m.length,_=0,E=n?n.length:0;if(0!==w)for(var P=0;P<w;P++){var M=m[P],T=M.__preactattr_,L=E&&T?M._component?M._component.__key:T.key:null;null!=L?(y++,b[L]=M):(T||(void 0!==M.splitText?!a||M.nodeValue.trim():a))&&(g[_++]=M)}if(0!==E)for(var P=0;P<E;P++){c=n[P],u=null;var L=c.key;if(null!=L)y&&void 0!==b[L]&&(u=b[L],b[L]=void 0,y--);else if(!u&&x<_)for(r=x;r<_;r++)if(void 0!==g[r]&&(d=s=g[r],f=a,"string"==typeof(h=c)||"number"==typeof h?void 0!==d.splitText:"string"==typeof h.nodeName?!d._componentConstructor&&p(d,h.nodeName):f||d._componentConstructor===h.nodeName)){u=s,g[r]=void 0,r===_-1&&_--,r===x&&x++;break}u=e(u,c,o,i),l=m[P],u&&u!==t&&u!==l&&(null==l?t.appendChild(u):u===l.nextSibling?v(l):t.insertBefore(u,l))}if(y)for(var P in b)void 0!==b[P]&&k(b[P],!1);for(;x<=_;)void 0!==(u=g[_--])&&k(u,!1)}(r,f,o,i,_||null!=h.dangerouslySetInnerHTML),function(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||g(e,o,n[o],n[o]=void 0,w);for(o in t)"children"===o||"innerHTML"===o||o in n&&t[o]===("value"===o||"checked"===o?e[o]:n[o])||g(e,o,n[o],n[o]=t[o],w)}(r,n.attributes,h),w=s,r}(e,t,n,o,a);return i&&r.parentNode!==i&&i.appendChild(r),--x||(_=!1,a||E()),r}function k(e,t){var n=e._component;n?S(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||v(e),M(e))}function M(e){for(e=e.lastChild;e;){var t=e.previousSibling;k(e,!0),e=t}}var T={};function L(e,t,n){var o,i=T[e.name];if(e.prototype&&e.prototype.render?(o=new e(t,n),N.call(o,t,n)):((o=new N(t,n)).constructor=e,o.render=C),i)for(var a=i.length;a--;)if(i[a].constructor===e){o.nextBase=i[a].nextBase,i.splice(a,1);break}return o}function C(e,t,n){return this.constructor(e,n)}function R(e,t,n,i,a){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||a?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,i),i&&i!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=i),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===o.syncComponentUpdates&&e.base?h(e):O(e,1,a)),e.__ref&&e.__ref(e))}function O(e,t,n,i){if(!e._disable){var a,r,l,c=e.props,u=e.state,d=e.context,h=e.prevProps||c,f=e.prevState||u,p=e.prevContext||d,v=e.base,g=e.nextBase,b=v||g,w=e._component,_=!1;if(v&&(e.props=h,e.state=f,e.context=p,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(c,u,d)?_=!0:e.componentWillUpdate&&e.componentWillUpdate(c,u,d),e.props=c,e.state=u,e.context=d),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!_){a=e.render(c,u,d),e.getChildContext&&(d=s(s({},d),e.getChildContext()));var M,T,C=a&&a.nodeName;if("function"==typeof C){var N=m(a);(r=w)&&r.constructor===C&&N.key==r.__key?R(r,N,1,d,!1):(M=r,e._component=r=L(C,N,d),r.nextBase=r.nextBase||g,r._parentComponent=e,R(r,N,0,d,!1),O(r,1,n,!0)),T=r.base}else l=b,(M=w)&&(l=e._component=null),(b||1===t)&&(l&&(l._component=null),T=P(l,a,d,n||!v,b&&b.parentNode,!0));if(b&&T!==b&&r!==w){var I=b.parentNode;I&&T!==I&&(I.replaceChild(T,b),M||(b._component=null,k(b,!1)))}if(M&&S(M),e.base=T,T&&!i){for(var A=e,D=e;D=D._parentComponent;)(A=D).base=T;T._component=A,T._componentConstructor=A.constructor}}if(!v||n?y.unshift(e):_||(e.componentDidUpdate&&e.componentDidUpdate(h,f,p),o.afterUpdate&&o.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);x||i||E()}}function S(e){o.beforeUnmount&&o.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?S(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,v(t),function(e){var t=e.constructor.name;(T[t]||(T[t]=[])).push(e)}(e),M(t)),e.__ref&&e.__ref(null)}function N(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}function I(e,t,n){return P(n,e,{},!1,t,!1)}s(N.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=s({},n)),s(n,"function"==typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),h(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),O(this,2)},render:function(){}});var A={h:r,createElement:r,cloneElement:c,Component:N,render:I,rerender:f,options:o};t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=/^[a-z0-9!#$%&'*+\-\/=?^_`{|}~.]+@([a-z0-9%\-]+\.){1,}([a-z0-9\-]+)?$/i,a=[/^[!#$%&'*+\-\/=?^_`{|}~.]/,/[.]{2,}[a-z0-9!#$%&'*+\-\/=?^_`{|}~.]+@/i,/\.@/];t.default=function(e){var t=e.match(i);if(null===t)return!1;for(var n=a.length-1;n>=0;n--)if(a[n].test(e))return!1;var r=t[2];return!!r&&-1!==o.tlds.indexOf(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=/^(\d{1,3}\.){3}\d{1,3}(:\d{1,5})?(\/([a-z0-9\-._~:\/\?#\[\]@!$&'\(\)\*\+,;=%]+)?)?$/i;t.default=function(e){if(!i.test(e))return!1;var t=e.split("."),n=Number(t[0]);if(isNaN(n)||n>255||n<0)return!1;var a=Number(t[1]);if(isNaN(a)||a>255||a<0)return!1;var r=Number(t[2]);if(isNaN(r)||r>255||r<0)return!1;var s=Number((t[3].match(/^\d+/)||[])[0]);if(isNaN(s)||s>255||s<0)return!1;var l=(t[3].match(/(^\d+)(:)(\d+)/)||[])[3];return!(l&&!o.isPort(l))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(1),a=/^(https?:\/\/|ftps?:\/\/)?([a-z0-9%\-]+\.){1,}([a-z0-9\-]+)?(:(\d{1,5}))?(\/([a-z0-9\-._~:\/\?#\[\]@!$&'\(\)\*\+,;=%]+)?)?$/i;t.default=function(e){var t=e.match(a);return null!==t&&"string"==typeof t[3]&&-1!==i.tlds.indexOf(t[3].toLowerCase())&&!(t[5]&&!o.isPort(t[5]))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(16);t.separate=function(e){var t=e.replace(/([\s\(\)\[\]<>"'])/g,"\0$1\0").replace(/([?;:,.!]+)(?=(\0|$|\s))/g,"\0$1\0").split("\0");return o.default(t)},t.deSeparate=function(e){return e.join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return 0===(e=e.toLowerCase()).indexOf("http://")?"http://":0===e.indexOf("https://")?"https://":0===e.indexOf("ftp://")?"ftp://":0===e.indexOf("ftps://")?"ftps://":0===e.indexOf("file:///")?"file:///":0===e.indexOf("mailto:")&&"mailto:"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(20),n(9);var o=n(2),i=n(10),a=n(11),r=n(12),s=n(19),l=function(){function e(t,n,o){this._classPrefix="tr",this._tour=t,this._options=Object.assign(e.DEFAULTS,o),"string"==typeof n&&(n=document.querySelector(n)),this._validateTour(),this._dom=n,this._init()}return Object.defineProperty(e.prototype,"panos",{get:function(){return this._panos},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewer.destroy()},e.prototype.selectPOVInViewer=function(){var e=this;return this._isLoaded?(this._isSelectingPOV=!0,this._selectPOVDeferred=new a.default,this.toggleControls(!1),this._dom.classList.add(this._createClass("selecting-pov")),this._selectPOVDeferred.promise.then(function(){e.toggleControls(!0),e._dom.classList.remove(e._createClass("selecting-pov"))}),this._selectPOVDeferred.promise):Promise.reject(new Error("viewer not loaded"))},e.prototype.toggleControls=function(e){this._dom.querySelector(".pnlm-controls-container").classList.toggle(this._createClass("hide"),!e),this._dom.querySelector(".pnlm-panorama-info").classList.toggle(this._createClass("hide"),!e)},e.prototype.addDOM=function(e){this._dom.appendChild(e)},e.prototype.deleteDOM=function(e){this._dom.removeChild(e)},e.prototype.addOverlay=function(e,t){var n={id:i.generateId(),pitch:t.pitch,yaw:t.yaw,type:"info",createTooltipFunc:function(t){return o.render(e,t)}};this._viewer.addHotSpot(n)},e.prototype.deleteOverlay=function(e){var t;t="object"==typeof e?e.id:e,this._viewer.removeHotSpot(t)},e.prototype.forceToRender=function(){this._viewer.setYaw(this._viewer.getYaw())},e.prototype.addInfoElement=function(e){var t=e.id,n=e.title,a=e.description,s=e.POV,l=e.isEdit;t=t||i.generateId(),a=a||"Description",n=n||"Title",l="boolean"==typeof l&&l;var c=this.getPano(),u={id:t,POV:s,title:n,description:a,infoElement:o.h(r.default,{isEdit:l,classPrefix:this._classPrefix,title:n,description:a,id:t})};c.infos.add(u),this._addInfo(u)},e.prototype.deleteInfoElement=function(e){var t=this.getPano();"string"==typeof e&&(e=t.infos.get(e)),t.infos.delete(e),this.deleteOverlay(e)},e.prototype.getPano=function(e){return void 0===e&&(e=this._viewer.getScene()),this._panos.get(e)},e.prototype.getCurrentPano=function(){return this.getPano()},e.prototype.getPOV=function(){var e={pitch:0,yaw:0};return this._viewer&&(e.yaw=this._viewer.getYaw(),e.pitch=this._viewer.getPitch()),e},e.prototype.deleteLink=function(e){var t=this.getPano();"string"==typeof e&&(e=t.links.get(e)),t.links.delete(e.id),this._viewer.removeHotSpot(e.id)},e.prototype.createLinkTo=function(e,t,n){if(void 0===t&&(t=this.getPOV()),void 0===n&&(n={pitch:0,yaw:0}),!this._isLoaded)return console.info("Viewer not loaded");if("object"!=typeof e&&(e=this.getPano(e)),!e)throw new Error("parameter missing: pano");var o={POV:t,id:i.generateId(),targetPOV:n,to:e};this.getCurrentPano().links.add(o),this._addLink(o);var a=new CustomEvent("newLink",{detail:o});this._dom.dispatchEvent(a)},e.prototype._init=function(){this._processTour(),this._initViewer(),this._setListeners()},e.prototype._initViewer=function(){var e={autoLoad:this._options.autoLoad,autoRotate:this._options.autoRotate,showControls:this._options.showControls,default:{firstScene:this._first.id,pitch:this._first.POV.pitch,sceneFadeDuration:1e3,yaw:this._first.POV.yaw},hfov:120,scenes:this._pannellumPanos.table};this._preview&&(e.preview=this._preview.url),this._viewer=pannellum.viewer(this._dom,e)},e.prototype._createClass=function(e){return this._classPrefix+"-"+e},e.prototype._processPanos=function(){var e=this;this._panos=new s.default(this._tour.photoSpheres.map(function(e){return{id:e.id,infoElements:new s.default(e.infoElements),name:e.name,POV:e.POV,url:e.link}})),this._tour.photoSpheres.forEach(function(t){var n=e._panos.get(t.id);t.links=t.links||[],t.infoElements=t.infoElements||[],n.links=new s.default(t.links.map(e._transformToLink.bind(e))),n.infos=new s.default(t.infoElements.map(e._transformToInfo.bind(e)))}),this._pannellumPanos=new s.default(this._panos.array.map(this._transformToPannellumPano.bind(this)))},e.prototype._validateTour=function(){var t=this._tour.images&&this._tour.images[0];if(t&&(this._preview={url:t.link,name:t.name,id:t.id}),this._tour.POV||(this._tour.POV={yaw:0,pitch:0}),!this._tour.photoSpheres||!this._tour.photoSpheres.length||!this._tour.name)throw new Error(e.ERRORS.INVALID_TOUR)},e.prototype._processTour=function(){this._name=this._tour.name,this._description=this._tour.description,this._processPanos(),this._tour.firstPhotoSphereId?this._first=this._panos.get(this._tour.firstPhotoSphereId):this._first=this._panos.get(),this._first.POV=this._tour.POV},e.prototype._setListeners=function(){this._viewer.on("load",this._onLoadPano.bind(this)),this._viewer.on("mousedown",this._onClick.bind(this)),this._viewer.on("touchstart",this._onClick.bind(this)),this._dom.addEventListener(r.default.EVENTS.TOGGLE_INFO_ELEMENT,this.forceToRender.bind(this)),this._dom.addEventListener(r.default.EVENTS.UPDATE_INFO_ELEMENT,this._updateInfoListener.bind(this)),this._dom.addEventListener(r.default.EVENTS.DELETE_INFO_ELEMENT,this._deleteInfoListener.bind(this))},e.prototype._deleteInfoListener=function(e){var t=e.detail;this.deleteInfoElement(t.id)},e.prototype._updateInfoListener=function(e){var t=e.detail,n=this.getPano().infos.get(t.id);n.title=t.title,n.description=t.title},e.prototype._onClick=function(e){if(this._isSelectingPOV){var t=e.targetTouches&&e.targetTouches[0]||e,n=this._viewer.mouseEventToCoords(t),o={pitch:n[0],yaw:n[1]};this._isSelectingPOV=!1,this._selectPOVDeferred.resolve(o),this._selectPOVDeferred=null}},e.prototype._onLoadPano=function(e){this._isLoaded=!0,this._setLinks(),this._setInfos();var t=new Event("load");this._dom.dispatchEvent(t)},e.prototype._setLinks=function(){var e=this;this.getCurrentPano().links.array.forEach(function(t){e._addLink(t)})},e.prototype._setInfos=function(){var e=this;this.getCurrentPano().infos.array.forEach(function(t){e._addInfo(t)})},e.prototype._addInfo=function(e){this._viewer.addHotSpot(this._transformToPannellumOverlay(e))},e.prototype._addLink=function(e){this._viewer.addHotSpot(this._transformToPannellumLink(e))},e.prototype._transformToLink=function(e){var t=this._panos.get(e.toPhotoSphereId);return{POV:e.POV,id:e.id,targetPOV:e.targetPOV,to:t}},e.prototype._transformToInfo=function(e){var t=e.POV,n=e.id,i=e.name,a=e.description;return{title:i,description:a,POV:t,id:n,infoElement:o.h(r.default,{classPrefix:this._classPrefix,id:n,title:i,description:a})}},e.prototype._transformToPannellumOverlay=function(e){return{id:e.id,pitch:e.POV.pitch,yaw:e.POV.yaw,type:"info",cssClass:"n",createTooltipFunc:function(t){return o.render(e.infoElement,t)}}},e.prototype._transformToPannellumLink=function(e){return{id:e.id,pitch:e.POV.pitch,sceneId:e.to.id,targetPitch:e.targetPOV.pitch,targetYaw:e.targetPOV.yaw,text:e.to.name,type:"scene",yaw:e.POV.yaw}},e.prototype._transformToPannellumPano=function(e){var t={id:e.id,panorama:e.url,title:e.name,type:"equirectangular"};return e.POV&&(t.pitch=e.POV.pitch,t.yaw=e.POV.yaw),e.links&&e.links.length,t},e.EVENTS=Object.assign({},r.default.EVENTS,{CREATE_INFO_ELEMENT:"CREATE_INFO_ELEMENT",CREATE_LINK:"CREATE_LINK",DELETE_LINK:"DELETE_LINK"}),e.ERRORS={INVALID_TOUR:"The properties of the tour are not valid"},e.DEFAULTS={autoLoad:!1,autoRotate:void 0,showControls:!0},e}();t.default=l,window.TourRenderer=l},function(e,t){window.libpannellum=function(e,t,n){function o(o){function c(e,t){return 1==e.level&&1!=t.level?-1:1==t.level&&1!=e.level?1:t.timestamp-e.timestamp}function u(e,t){return e.level!=t.level?e.level-t.level:e.diff-t.diff}function d(e,t,n,o,i,a){this.vertices=e,this.side=t,this.level=n,this.x=o,this.y=i,this.path=a.replace("%s",t).replace("%l",n).replace("%x",o).replace("%y",i)}function h(e,t,n,o,i){var a;a=v(e,(l=t.vertices).slice(0,3));var r=v(e,l.slice(3,6)),s=v(e,l.slice(6,9)),l=v(e,l.slice(9,12)),c=a[0]+r[0]+s[0]+l[0];if(a=-4!=c&&4!=c&&(-4!=(c=a[1]+r[1]+s[1]+l[1])&&4!=c&&4!=a[2]+r[2]+s[2]+l[2])){for(r=(a=t.vertices)[0]+a[3]+a[6]+a[9],s=a[1]+a[4]+a[7]+a[10],l=a[2]+a[5]+a[8]+a[11],c=Math.sqrt(r*r+s*s+l*l),l=Math.asin(l/c),r=Math.atan2(s,r)-o,r+=r>Math.PI?-2*Math.PI:r<-Math.PI?2*Math.PI:0,r=Math.abs(r),t.diff=Math.acos(Math.sin(n)*Math.sin(l)+Math.cos(n)*Math.cos(l)*Math.cos(r)),r=!1,s=0;s<b.nodeCache.length;s++)if(b.nodeCache[s].path==t.path){r=!0,b.nodeCache[s].timestamp=b.nodeCacheTimestamp++,b.nodeCache[s].diff=t.diff,b.currentNodes.push(b.nodeCache[s]);break}if(r||(t.timestamp=b.nodeCacheTimestamp++,b.currentNodes.push(t),b.nodeCache.push(t)),t.level<b.level){l=M.cubeResolution*Math.pow(2,t.level-M.maxLevel),r=Math.ceil(l*M.invTileResolution)-1,s=l%M.tileResolution*2;var u=2*l%M.tileResolution;0===u&&(u=M.tileResolution),0===s&&(s=2*M.tileResolution),c=.5,t.x!=r&&t.y!=r||(c=1-M.tileResolution/(M.tileResolution+u));var f=1-c,p=(l=[],c),m=c,g=c,y=f,x=f,w=f;for(u<M.tileResolution&&(t.x==r&&t.y!=r?(x=m=.5,("d"==t.side||"u"==t.side)&&(w=g=.5)):t.x!=r&&t.y==r&&(y=p=.5,"l"==t.side||"r"==t.side)&&(w=g=.5)),s<=M.tileResolution&&(t.x==r&&(p=0,y=1,"l"==t.side||"r"==t.side)&&(g=0,w=1),t.y==r&&(m=0,x=1,"d"==t.side||"u"==t.side)&&(g=0,w=1)),u=new d(u=[a[0],a[1],a[2],a[0]*p+a[3]*y,a[1]*c+a[4]*f,a[2]*g+a[5]*w,a[0]*p+a[6]*y,a[1]*m+a[7]*x,a[2]*g+a[8]*w,a[0]*c+a[9]*f,a[1]*m+a[10]*x,a[2]*g+a[11]*w],t.side,t.level+1,2*t.x,2*t.y,M.fullpath),l.push(u),t.x==r&&s<=M.tileResolution||(u=new d(u=[a[0]*p+a[3]*y,a[1]*c+a[4]*f,a[2]*g+a[5]*w,a[3],a[4],a[5],a[3]*c+a[6]*f,a[4]*m+a[7]*x,a[5]*g+a[8]*w,a[0]*p+a[6]*y,a[1]*m+a[7]*x,a[2]*g+a[8]*w],t.side,t.level+1,2*t.x+1,2*t.y,M.fullpath),l.push(u)),t.x==r&&s<=M.tileResolution||t.y==r&&s<=M.tileResolution||(u=new d(u=[a[0]*p+a[6]*y,a[1]*m+a[7]*x,a[2]*g+a[8]*w,a[3]*c+a[6]*f,a[4]*m+a[7]*x,a[5]*g+a[8]*w,a[6],a[7],a[8],a[9]*p+a[6]*y,a[10]*c+a[7]*f,a[11]*g+a[8]*w],t.side,t.level+1,2*t.x+1,2*t.y+1,M.fullpath),l.push(u)),t.y==r&&s<=M.tileResolution||(u=new d(u=[a[0]*c+a[9]*f,a[1]*m+a[10]*x,a[2]*g+a[11]*w,a[0]*p+a[6]*y,a[1]*m+a[7]*x,a[2]*g+a[8]*w,a[9]*p+a[6]*y,a[10]*c+a[7]*f,a[11]*g+a[8]*w,a[9],a[10],a[11]],t.side,t.level+1,2*t.x,2*t.y+1,M.fullpath),l.push(u)),t=0;t<l.length;t++)h(e,l[t],n,o,i)}}}function f(e,t,n){var o=Math.sin(t);return t=Math.cos(t),"x"==n?[e[0],t*e[1]+o*e[2],t*e[2]-o*e[1],e[3],t*e[4]+o*e[5],t*e[5]-o*e[4],e[6],t*e[7]+o*e[8],t*e[8]-o*e[7]]:"y"==n?[t*e[0]-o*e[2],e[1],t*e[2]+o*e[0],t*e[3]-o*e[5],e[4],t*e[5]+o*e[3],t*e[6]-o*e[8],e[7],t*e[8]+o*e[6]]:"z"==n?[t*e[0]+o*e[1],t*e[1]-o*e[0],e[2],t*e[3]+o*e[4],t*e[4]-o*e[3],e[5],t*e[6]+o*e[7],t*e[7]-o*e[6],e[8]]:void 0}function p(e){return[e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]]}function m(e){e.textureLoad||(e.textureLoad=!0,A(encodeURI(e.path+"."+M.extension),function(t){e.texture=t,e.textureLoaded=!0},N.crossOrigin))}function v(e,t){var n=(i=[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[4]*t[0]+e[5]*t[1]+e[6]*t[2],e[11]+e[8]*t[0]+e[9]*t[1]+e[10]*t[2],1/(e[12]*t[0]+e[13]*t[1]+e[14]*t[2])])[0]*i[3],o=i[1]*i[3],i=i[2]*i[3],a=[0,0,0];return-1>n&&(a[0]=-1),1<n&&(a[0]=1),-1>o&&(a[1]=-1),1<o&&(a[1]=1),(-1>i||1<i)&&(a[2]=1),a}function g(){console.log("Reducing canvas size due to error 1286!"),I.width=Math.round(I.width/2),I.height=Math.round(I.height/2)}var b,y,x,w,_,E,P,k,M,T,L,C,R,O,S,N,I=t.createElement("canvas");I.style.width=I.style.height="100%",o.appendChild(I),this.init=function(e,c,u,d,h,f,p,m){if(c===n&&(c="equirectangular"),"equirectangular"!=c&&"cubemap"!=c&&"multires"!=c)throw console.log("Error: invalid image type specified!"),{type:"config error"};if(T=c,M=e,L=u,N=m||{},b){if(x&&(y.detachShader(b,x),y.deleteShader(x)),w&&(y.detachShader(b,w),y.deleteShader(w)),y.bindBuffer(y.ARRAY_BUFFER,null),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,null),b.texture&&y.deleteTexture(b.texture),b.nodeCache)for(e=0;e<b.nodeCache.length;e++)y.deleteTexture(b.nodeCache[e].texture);y.deleteProgram(b),b=n}if(k=n,"cubemap"==T&&0!=(M[0].width&M[0].width-1)&&(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 10_/)||navigator.userAgent.match(/Trident.*rv[ :]*11\./))||(y||(y=I.getContext("experimental-webgl",{alpha:!1,depth:!1})),y&&1286==y.getError()&&g()),!y&&("multires"==T&&M.hasOwnProperty("fallbackPath")||"cubemap"==T)&&("WebkitAppearance"in t.documentElement.style||navigator.userAgent.match(/Trident.*rv[ :]*11\./)||-1!==navigator.appVersion.indexOf("MSIE 10"))){E&&o.removeChild(E),(E=t.createElement("div")).className="pnlm-world",d=M.basePath?M.basePath+M.fallbackPath:M.fallbackPath;var v="frblud".split(""),A=0;for(h=function(){var e=t.createElement("canvas");e.className="pnlm-face pnlm-"+v[this.side]+"face",E.appendChild(e);var n=e.getContext("2d");e.style.width=this.width+4+"px",e.style.height=this.height+4+"px",e.width=this.width+4,e.height=this.height+4,n.drawImage(this,2,2);var i,a,r=n.getImageData(0,0,e.width,e.height),s=r.data;for(i=2;i<e.width-2;i++)for(a=0;4>a;a++)s[4*(i+e.width)+a]=s[4*(i+2*e.width)+a],s[4*(i+e.width*(e.height-2))+a]=s[4*(i+e.width*(e.height-3))+a];for(i=2;i<e.height-2;i++)for(a=0;4>a;a++)s[4*(i*e.width+1)+a]=s[4*(i*e.width+2)+a],s[4*((i+1)*e.width-2)+a]=s[4*((i+1)*e.width-3)+a];for(a=0;4>a;a++)s[4*(e.width+1)+a]=s[4*(2*e.width+2)+a],s[4*(2*e.width-2)+a]=s[4*(3*e.width-3)+a],s[4*(e.width*(e.height-2)+1)+a]=s[4*(e.width*(e.height-3)+2)+a],s[4*(e.width*(e.height-1)-2)+a]=s[4*(e.width*(e.height-2)-3)+a];for(i=1;i<e.width-1;i++)for(a=0;4>a;a++)s[4*i+a]=s[4*(i+e.width)+a],s[4*(i+e.width*(e.height-1))+a]=s[4*(i+e.width*(e.height-2))+a];for(i=1;i<e.height-1;i++)for(a=0;4>a;a++)s[i*e.width*4+a]=s[4*(i*e.width+1)+a],s[4*((i+1)*e.width-1)+a]=s[4*((i+1)*e.width-2)+a];for(a=0;4>a;a++)s[a]=s[4*(e.width+1)+a],s[4*(e.width-1)+a]=s[4*(2*e.width-2)+a],s[e.width*(e.height-1)*4+a]=s[4*(e.width*(e.height-2)+1)+a],s[4*(e.width*e.height-1)+a]=s[4*(e.width*(e.height-1)-2)+a];n.putImageData(r,0,0),6==++A&&(_=this.width,o.appendChild(E),p())},e=0;6>e;e++)(f=new Image).crossOrigin=N.crossOrigin?N.crossOrigin:"anonymous",f.side=e,f.onload=h,f.src="multires"==T?encodeURI(d.replace("%s",v[e])+"."+M.extension):encodeURI(M[e].src)}else{if(!y)throw console.log("Error: no WebGL support detected!"),{type:"no webgl"};for(M.fullpath=M.basePath?M.basePath+M.path:M.path,M.invTileResolution=1/M.tileResolution,c=[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1],P=[],e=0;6>e;e++)P[e]=c.slice(12*e,12*e+12),c=[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1];if("equirectangular"==T){if((e=Math.max(M.width,M.height))>(c=y.getParameter(y.MAX_TEXTURE_SIZE)))throw console.log("Error: The image is too big; it's "+e+"px wide, but this device's maximum supported width is "+c+"px."),{type:"webgl size error",width:e,maxWidth:c}}else if("cubemap"==T&&(e=M[0].width)>(c=y.getParameter(y.MAX_CUBE_MAP_TEXTURE_SIZE)))throw console.log("Error: The cube face image is too big; it's "+e+"px wide, but this device's maximum supported width is "+c+"px."),{type:"webgl size error",width:e,maxWidth:c};if(m===n||m.horizonPitch===n&&m.horizonRoll===n||(k=[m.horizonPitch==n?0:m.horizonPitch,m.horizonRoll==n?0:m.horizonRoll]),e=y.TEXTURE_2D,y.viewport(0,0,y.drawingBufferWidth,y.drawingBufferHeight),x=y.createShader(y.VERTEX_SHADER),c=i,"multires"==T&&(c=a),y.shaderSource(x,c),y.compileShader(x),w=y.createShader(y.FRAGMENT_SHADER),c=s,"cubemap"==T?(e=y.TEXTURE_CUBE_MAP,c=r):"multires"==T&&(c=l),y.shaderSource(w,c),y.compileShader(w),b=y.createProgram(),y.attachShader(b,x),y.attachShader(b,w),y.linkProgram(b),y.getShaderParameter(x,y.COMPILE_STATUS)||console.log(y.getShaderInfoLog(x)),y.getShaderParameter(w,y.COMPILE_STATUS)||console.log(y.getShaderInfoLog(w)),y.getProgramParameter(b,y.LINK_STATUS)||console.log(y.getProgramInfoLog(b)),y.useProgram(b),b.drawInProgress=!1,b.texCoordLocation=y.getAttribLocation(b,"a_texCoord"),y.enableVertexAttribArray(b.texCoordLocation),"multires"!=T?(C||(C=y.createBuffer()),y.bindBuffer(y.ARRAY_BUFFER,C),y.bufferData(y.ARRAY_BUFFER,new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),y.STATIC_DRAW),y.vertexAttribPointer(b.texCoordLocation,2,y.FLOAT,!1,0,0),b.aspectRatio=y.getUniformLocation(b,"u_aspectRatio"),y.uniform1f(b.aspectRatio,y.drawingBufferWidth/y.drawingBufferHeight),b.psi=y.getUniformLocation(b,"u_psi"),b.theta=y.getUniformLocation(b,"u_theta"),b.f=y.getUniformLocation(b,"u_f"),b.h=y.getUniformLocation(b,"u_h"),b.v=y.getUniformLocation(b,"u_v"),b.vo=y.getUniformLocation(b,"u_vo"),b.rot=y.getUniformLocation(b,"u_rot"),y.uniform1f(b.h,d/(2*Math.PI)),y.uniform1f(b.v,h/Math.PI),y.uniform1f(b.vo,f/Math.PI*2),"equirectangular"==T&&(b.backgroundColor=y.getUniformLocation(b,"u_backgroundColor"),y.uniform4fv(b.backgroundColor,(m.backgroundColor?m.backgroundColor:[0,0,0]).concat([1]))),b.texture=y.createTexture(),y.bindTexture(e,b.texture),"cubemap"==T?(y.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,M[1]),y.texImage2D(y.TEXTURE_CUBE_MAP_NEGATIVE_X,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,M[3]),y.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_Y,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,M[4]),y.texImage2D(y.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,M[5]),y.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_Z,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,M[0]),y.texImage2D(y.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,M[2])):y.texImage2D(e,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,M),y.texParameteri(e,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE),y.texParameteri(e,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE),y.texParameteri(e,y.TEXTURE_MIN_FILTER,y.LINEAR),y.texParameteri(e,y.TEXTURE_MAG_FILTER,y.LINEAR)):(b.vertPosLocation=y.getAttribLocation(b,"a_vertCoord"),y.enableVertexAttribArray(b.vertPosLocation),R||(R=y.createBuffer()),O||(O=y.createBuffer()),S||(S=y.createBuffer()),y.bindBuffer(y.ARRAY_BUFFER,O),y.bufferData(y.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),y.STATIC_DRAW),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,S),y.bufferData(y.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),y.STATIC_DRAW),b.perspUniform=y.getUniformLocation(b,"u_perspMatrix"),b.cubeUniform=y.getUniformLocation(b,"u_cubeMatrix"),b.level=-1,b.currentNodes=[],b.nodeCache=[],b.nodeCacheTimestamp=0),0!==(d=y.getError()))throw console.log("Error: Something went wrong with WebGL!",d),{type:"webgl error"};p()}},this.destroy=function(){if(o!==n&&(I!==n&&o.contains(I)&&o.removeChild(I),E!==n&&o.contains(E)&&o.removeChild(E)),y){var e=y.getExtension("WEBGL_lose_context");e&&e.loseContext()}},this.resize=function(){var t=e.devicePixelRatio||1;I.width=I.clientWidth*t,I.height=I.clientHeight*t,y&&(1286==y.getError()&&g(),y.viewport(0,0,y.drawingBufferWidth,y.drawingBufferHeight),"multires"!=T&&y.uniform1f(b.aspectRatio,I.clientWidth/I.clientHeight))},this.resize(),this.setPose=function(e,t){k=[e,t]},this.render=function(e,t,o,i){var a;if(a=0,i===n&&(i={}),i.roll&&(a=i.roll),k!==n){var r=k[0],s=k[1],l=e,v=t,g=Math.cos(s)*Math.sin(e)*Math.sin(r)+Math.cos(e)*(Math.cos(r)*Math.cos(t)+Math.sin(s)*Math.sin(r)*Math.sin(t)),x=-Math.sin(e)*Math.sin(s)+Math.cos(e)*Math.cos(s)*Math.sin(t);e=Math.cos(s)*Math.cos(r)*Math.sin(e)+Math.cos(e)*(-Math.cos(t)*Math.sin(r)+Math.cos(r)*Math.sin(s)*Math.sin(t)),e=Math.asin(Math.max(Math.min(e,1),-1)),t=Math.atan2(x,g),r=[Math.cos(l)*(Math.sin(s)*Math.sin(r)*Math.cos(v)-Math.cos(r)*Math.sin(v)),Math.cos(l)*Math.cos(s)*Math.cos(v),Math.cos(l)*(Math.cos(r)*Math.sin(s)*Math.cos(v)+Math.sin(v)*Math.sin(r))],s=[-Math.cos(e)*Math.sin(t),Math.cos(e)*Math.cos(t)],s=Math.acos(Math.max(Math.min((r[0]*s[0]+r[1]*s[1])/(Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2])*Math.sqrt(s[0]*s[0]+s[1]*s[1])),1),-1)),0>r[2]&&(s=2*Math.PI-s),a+=s}if(y||"multires"!=T&&"cubemap"!=T){if("multires"!=T)o=2*Math.atan(Math.tan(.5*o)/(y.drawingBufferWidth/y.drawingBufferHeight)),o=1/Math.tan(.5*o),y.uniform1f(b.psi,t),y.uniform1f(b.theta,e),y.uniform1f(b.rot,a),y.uniform1f(b.f,o),!0===L&&"equirectangular"==T&&(y.bindTexture(y.TEXTURE_2D,b.texture),y.texImage2D(y.TEXTURE_2D,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,M)),y.drawArrays(y.TRIANGLES,0,6);else{for(r=y.drawingBufferWidth/y.drawingBufferHeight,s=2*Math.atan(Math.tan(o/2)*y.drawingBufferHeight/y.drawingBufferWidth),r=[(s=1/Math.tan(s/2))/r,0,0,0,0,s,0,0,0,0,100.1/-99.9,20/-99.9,0,0,-1,0],s=1;s<M.maxLevel&&y.drawingBufferWidth>M.tileResolution*Math.pow(2,s-1)*Math.tan(o/2)*.707;)s++;if(b.level=s,s=[(s=f(s=f(s=f(s=[1,0,0,0,1,0,0,0,1],-a,"z"),-e,"x"),t,"y"))[0],s[1],s[2],0,s[3],s[4],s[5],0,s[6],s[7],s[8],0,0,0,0,1],y.uniformMatrix4fv(b.perspUniform,!1,new Float32Array(p(r))),y.uniformMatrix4fv(b.cubeUniform,!1,new Float32Array(p(s))),r=[r[0]*s[0],r[0]*s[1],r[0]*s[2],0,r[5]*s[4],r[5]*s[5],r[5]*s[6],0,r[10]*s[8],r[10]*s[9],r[10]*s[10],r[11],-s[8],-s[9],-s[10],0],b.nodeCache.sort(c),200<b.nodeCache.length&&b.nodeCache.length>b.currentNodes.length+50)for(s=b.nodeCache.splice(200,b.nodeCache.length-200),a=0;a<s.length;a++)y.deleteTexture(s[a].texture);for(b.currentNodes=[],s="fbudlr".split(""),a=0;6>a;a++)h(r,l=new d(P[a],s[a],1,0,0,M.fullpath),e,t,o);for(b.currentNodes.sort(u),a=0;a<b.currentNodes.length;a++)if(!b.currentNodes[a].texture){setTimeout(m,0,b.currentNodes[a]);break}if(!b.drawInProgress){for(b.drawInProgress=!0,e=0;e<b.currentNodes.length;e++)b.currentNodes[e].textureLoaded&&(y.bindBuffer(y.ARRAY_BUFFER,R),y.bufferData(y.ARRAY_BUFFER,new Float32Array(b.currentNodes[e].vertices),y.STATIC_DRAW),y.vertexAttribPointer(b.vertPosLocation,3,y.FLOAT,!1,0,0),y.bindBuffer(y.ARRAY_BUFFER,O),y.vertexAttribPointer(b.texCoordLocation,2,y.FLOAT,!1,0,0),y.bindTexture(y.TEXTURE_2D,b.currentNodes[e].texture),y.drawElements(y.TRIANGLES,6,y.UNSIGNED_SHORT,0));b.drawInProgress=!1}}if(i.returnImage!==n)return I.toDataURL("image/png")}else for(i={f:"translate3d(-"+(2+(a=_/2))+"px, -"+(a+2)+"px, -"+a+"px)",b:"translate3d("+(a+2)+"px, -"+(a+2)+"px, "+a+"px) rotateX(180deg) rotateZ(180deg)",u:"translate3d(-"+(a+2)+"px, -"+a+"px, "+(a+2)+"px) rotateX(270deg)",d:"translate3d(-"+(a+2)+"px, "+a+"px, -"+(a+2)+"px) rotateX(90deg)",l:"translate3d(-"+a+"px, -"+(a+2)+"px, "+(a+2)+"px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)",r:"translate3d("+a+"px, -"+(a+2)+"px, -"+(a+2)+"px) rotateY(270deg)"},e="perspective("+(o=(o=1/Math.tan(o/2))*y.drawingBufferWidth/2+"px")+") translateZ("+o+") rotateX("+e+"rad) rotateY("+t+"rad) ",t=Object.keys(i),a=0;6>a;a++)(o=E.querySelector(".pnlm-"+t[a]+"face").style).webkitTransform=e+i[t[a]],o.transform=e+i[t[a]]},this.isLoading=function(){if(y&&"multires"==T)for(var e=0;e<b.currentNodes.length;e++)if(!b.currentNodes[e].textureLoaded)return!0;return!1},this.getCanvas=function(){return I};var A=function(){function e(){var e=this;this.texture=this.callback=null,this.image=new Image,this.image.crossOrigin=t||"anonymous",this.image.addEventListener("load",function(){var t=e.image;y.bindTexture(y.TEXTURE_2D,e.texture),y.texImage2D(y.TEXTURE_2D,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,t),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.LINEAR),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.LINEAR),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE),y.bindTexture(y.TEXTURE_2D,null),e.callback(e.texture),i.length?(t=i.shift(),e.loadTexture(t.src,t.texture,t.callback)):o[n++]=e})}var t,n=4,o={},i=[];e.prototype.loadTexture=function(e,t,n){this.texture=t,this.callback=n,this.image.src=e};for(var a=0;a<n;a++)o[a]=new e;return function(e,a,r){return t=r,r=y.createTexture(),n?o[--n].loadTexture(e,r,a):i.push(new function(e,t,n){this.src=e,this.texture=t,this.callback=n}(e,r,a)),r}}()}var i="attribute vec2 a_texCoord;varying vec2 v_texCoord;void main() {gl_Position = vec4(a_texCoord, 0.0, 1.0);v_texCoord = a_texCoord;}",a="attribute vec3 a_vertCoord;attribute vec2 a_texCoord;uniform mat4 u_cubeMatrix;uniform mat4 u_perspMatrix;varying mediump vec2 v_texCoord;void main(void) {gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);v_texCoord = a_texCoord;}",r="precision mediump float;\nuniform float u_aspectRatio;\nuniform float u_psi;\nuniform float u_theta;\nuniform float u_f;\nuniform float u_h;\nuniform float u_v;\nuniform float u_vo;\nuniform float u_rot;\nconst float PI = 3.14159265358979323846264;\nuniform sampler2D u_image;\nuniform samplerCube u_imageCube;\nvarying vec2 v_texCoord;\nuniform vec4 u_backgroundColor;\nvoid main() {\nfloat x = v_texCoord.x * u_aspectRatio;\nfloat y = v_texCoord.y;\nfloat sinrot = sin(u_rot);\nfloat cosrot = cos(u_rot);\nfloat rot_x = x * cosrot - y * sinrot;\nfloat rot_y = x * sinrot + y * cosrot;\nfloat sintheta = sin(u_theta);\nfloat costheta = cos(u_theta);\nfloat a = u_f * costheta - rot_y * sintheta;\nfloat root = sqrt(rot_x * rot_x + a * a);\nfloat lambda = atan(rot_x / root, a / root) + u_psi;\nfloat phi = atan((rot_y * costheta + u_f * sintheta) / root);float cosphi = cos(phi);\ngl_FragColor = textureCube(u_imageCube, vec3(cosphi*sin(lambda), sin(phi), cosphi*cos(lambda)));\n}",s="precision mediump float;\nuniform float u_aspectRatio;\nuniform float u_psi;\nuniform float u_theta;\nuniform float u_f;\nuniform float u_h;\nuniform float u_v;\nuniform float u_vo;\nuniform float u_rot;\nconst float PI = 3.14159265358979323846264;\nuniform sampler2D u_image;\nuniform samplerCube u_imageCube;\nvarying vec2 v_texCoord;\nuniform vec4 u_backgroundColor;\nvoid main() {\nfloat x = v_texCoord.x * u_aspectRatio;\nfloat y = v_texCoord.y;\nfloat sinrot = sin(u_rot);\nfloat cosrot = cos(u_rot);\nfloat rot_x = x * cosrot - y * sinrot;\nfloat rot_y = x * sinrot + y * cosrot;\nfloat sintheta = sin(u_theta);\nfloat costheta = cos(u_theta);\nfloat a = u_f * costheta - rot_y * sintheta;\nfloat root = sqrt(rot_x * rot_x + a * a);\nfloat lambda = atan(rot_x / root, a / root) + u_psi;\nfloat phi = atan((rot_y * costheta + u_f * sintheta) / root);lambda = mod(lambda + PI, PI * 2.0) - PI;\nvec2 coord = vec2(lambda / PI, phi / (PI / 2.0));\nif(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)\ngl_FragColor = u_backgroundColor;\nelse\ngl_FragColor = texture2D(u_image, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));\n}",l="varying mediump vec2 v_texCoord;uniform sampler2D u_sampler;void main(void) {gl_FragColor = texture2D(u_sampler, v_texCoord);}";return{renderer:function(e,t,n,i){return new o(e,t,n,i)}}}(window,document),window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}),window.pannellum=function(e,t,n){function o(o,i){function a(){if((u=t.createElement("div")).innerHTML="\x3c!--[if lte IE 9]><i></i><![endif]--\x3e",1==u.getElementsByTagName("i").length)l();else{var o;if(te=X.hfov,ne=X.pitch,"cubemap"==X.type){for(J=[],u=0;6>u;u++)J.push(new Image),J[u].crossOrigin=X.crossOrigin;Oe.load.lbox.style.display="block",Oe.load.lbar.style.display="none"}else if("multires"==X.type)u=JSON.parse(JSON.stringify(X.multiRes)),X.basePath&&X.multiRes.basePath&&!/^(?:[a-z]+:)?\/\//i.test(X.multiRes.basePath)?u.basePath=X.basePath+X.multiRes.basePath:X.multiRes.basePath?u.basePath=X.multiRes.basePath:X.basePath&&(u.basePath=X.basePath),J=u;else if(!0===X.dynamic)J=X.panorama;else{if(X.panorama===n)return void l(X.strings.noPanoramaError);J=new Image}if("cubemap"==X.type)for(var i=6,a=function(){0==--i&&s()},c=function(e){var n=t.createElement("a");n.href=e.target.src,n.innerHTML=n.href,l(X.strings.fileAccessError.replace("%s",n.outerHTML))},u=0;u<J.length;u++)J[u].onload=a,J[u].onerror=c,o=X.cubeMap[u],X.basePath&&!r(o)&&(o=X.basePath+o),J[u].src=encodeURI(o);else if("multires"==X.type)s();else if(o="",X.basePath&&(o=X.basePath),!0!==X.dynamic){o=r(X.panorama)?X.panorama:o+X.panorama,J.onload=function(){e.URL.revokeObjectURL(this.src),s()};var d=new XMLHttpRequest;d.onloadend=function(){if(200!=d.status){var i=t.createElement("a");i.href=encodeURI(o),i.innerHTML=i.href,l(X.strings.fileAccessError.replace("%s",i.outerHTML))}!function(t){var o=new FileReader;o.addEventListener("loadend",function(){var i=o.result;navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)&&((0>(r=i.indexOf(""))||65536<r)&&l(X.strings.iOS8WebGLError));if(-1<(r=i.indexOf("<x:xmpmeta"))&&!0!==X.ignoreGPanoXMP){var a=i.substring(r,i.indexOf("</x:xmpmeta>")+12),r=(i=(f=function(e){var t;return 0<=a.indexOf(e+'="')?t=(t=a.substring(a.indexOf(e+'="')+e.length+2)).substring(0,t.indexOf('"')):0<=a.indexOf(e+">")&&(t=(t=a.substring(a.indexOf(e+">")+e.length+1)).substring(0,t.indexOf("<"))),t!==n?Number(t):null})("GPano:FullPanoWidthPixels"),f("GPano:CroppedAreaImageWidthPixels")),s=f("GPano:FullPanoHeightPixels"),c=f("GPano:CroppedAreaImageHeightPixels"),u=f("GPano:CroppedAreaTopPixels"),d=f("GPano:PoseHeadingDegrees"),h=f("GPano:PosePitchDegrees"),f=f("GPano:PoseRollDegrees");null!==i&&null!==r&&null!==s&&null!==c&&null!==u&&(0>_e.indexOf("haov")&&(X.haov=r/i*360),0>_e.indexOf("vaov")&&(X.vaov=c/s*180),0>_e.indexOf("vOffset")&&(X.vOffset=-180*((u+c/2)/s-.5)),null!==d&&0>_e.indexOf("northOffset")&&(X.northOffset=d,!1!==X.compass&&(X.compass=!0)),null!==h&&null!==f&&(0>_e.indexOf("horizonPitch")&&(X.horizonPitch=h),0>_e.indexOf("horizonRoll")&&(X.horizonRoll=f)))}J.src=e.URL.createObjectURL(t)}),o.readAsBinaryString!==n?o.readAsBinaryString(t):o.readAsText(t)}(this.response),Oe.load.msg.innerHTML=""},d.onprogress=function(e){var t,n;e.lengthComputable?(Oe.load.lbarFill.style.width=e.loaded/e.total*100+"%",1e6<e.total?(t="MB",n=(e.loaded/1e6).toFixed(2),e=(e.total/1e6).toFixed(2)):1e3<e.total?(t="kB",n=(e.loaded/1e3).toFixed(1),e=(e.total/1e3).toFixed(1)):(t="B",n=e.loaded,e=e.total),Oe.load.msg.innerHTML=n+" / "+e+" "+t):(Oe.load.lbox.style.display="block",Oe.load.lbar.style.display="none")};try{d.open("GET",o,!0)}catch(e){l(X.strings.malformedURLError)}d.responseType="blob",d.setRequestHeader("Accept","image/*,*/*;q=0.9"),d.withCredentials="use-credentials"===X.crossOrigin,d.send()}X.draggable&&Te.classList.add("pnlm-grab"),Te.classList.remove("pnlm-grabbing")}}function r(e){return/^(?:[a-z]+:)?\/\//i.test(e)||"/"==e[0]||"blob:"==e.slice(0,5)}function s(){Z||(Z=new libpannellum.renderer(Le)),pe||(pe=!0,Ce.addEventListener("mousedown",u,!1),t.addEventListener("mousemove",f,!1),t.addEventListener("mouseup",p,!1),X.mouseZoom&&(Te.addEventListener("mousewheel",w,!1),Te.addEventListener("DOMMouseScroll",w,!1)),X.doubleClickZoom&&Ce.addEventListener("dblclick",d,!1),Te.addEventListener("mozfullscreenchange",F,!1),Te.addEventListener("webkitfullscreenchange",F,!1),Te.addEventListener("msfullscreenchange",F,!1),Te.addEventListener("fullscreenchange",F,!1),e.addEventListener("resize",T,!1),e.addEventListener("orientationchange",T,!1),X.disableKeyboardCtrl||(o.addEventListener("keydown",_,!1),o.addEventListener("keyup",P,!1),o.addEventListener("blur",E,!1)),t.addEventListener("mouseleave",p,!1),""===t.documentElement.style.pointerAction&&""===t.documentElement.style.touchAction?(Ce.addEventListener("pointerdown",b,!1),Ce.addEventListener("pointermove",y,!1),Ce.addEventListener("pointerup",x,!1),Ce.addEventListener("pointerleave",x,!1)):(Ce.addEventListener("touchstart",m,!1),Ce.addEventListener("touchmove",v,!1),Ce.addEventListener("touchend",g,!1)),e.navigator.pointerEnabled&&(o.style.touchAction="none")),function(){try{var e={};X.horizonPitch!==n&&(e.horizonPitch=X.horizonPitch*Math.PI/180),X.horizonRoll!==n&&(e.horizonRoll=X.horizonRoll*Math.PI/180),X.backgroundColor!==n&&(e.backgroundColor=X.backgroundColor),Z.init(J,X.type,X.dynamic,X.haov*Math.PI/180,X.vaov*Math.PI/180,X.vOffset*Math.PI/180,S,e),!0!==X.dynamic&&(J=n)}catch(e){if("webgl error"==e.type||"no webgl"==e.type)l();else{if("webgl size error"!=e.type)throw l(X.strings.unknownError),e;l(X.strings.textureSizeError.replace("%s",e.width).replace("%s",e.maxWidth))}}}(),setTimeout(function(){},500)}function l(e){e===n&&(e=X.strings.genericWebGLError),Oe.errorMsg.innerHTML="<p>"+e+"</p>",Ne.load.style.display="none",Oe.load.box.style.display="none",Oe.errorMsg.style.display="table",fe=!0,Le.style.display="none",Y("error",e)}function c(e){var t=o.getBoundingClientRect(),n={};return n.x=e.clientX-t.left,n.y=e.clientY-t.top,n}function u(e){if(e.preventDefault(),o.focus(),K&&X.draggable){var t=c(e);if(X.hotSpotDebug){var n=h(e);console.log("Pitch: "+n[0]+", Yaw: "+n[1]+", Center Pitch: "+X.pitch+", Center Yaw: "+X.yaw+", HFOV: "+X.hfov)}B(),G(),X.roll=0,me.hfov=0,ie=!0,ae=Date.now(),re=t.x,se=t.y,ce=X.yaw,ue=X.pitch,Te.classList.add("pnlm-grabbing"),Te.classList.remove("pnlm-grab"),Y("mousedown",e),L()}}function d(e){X.minHfov===X.hfov?oe.setHfov(te,1e3):(e=h(e),oe.lookAt(e[0],e[1],X.minHfov,1e3))}function h(e){var t=c(e),n=(e=Z.getCanvas()).clientWidth,o=e.clientHeight;e=t.x/n*2-1,o=(1-t.y/o*2)*o/n;var i=1/Math.tan(X.hfov*Math.PI/360),a=Math.sin(X.pitch*Math.PI/180),r=Math.cos(X.pitch*Math.PI/180);return t=i*r-o*a,n=Math.sqrt(e*e+t*t),o=180*Math.atan((o*r+i*a)/n)/Math.PI,-180>(e=180*Math.atan2(e/n,t/n)/Math.PI+X.yaw)&&(e+=360),180<e&&(e-=360),[o,e]}function f(e){if(ie&&K){ae=Date.now();var t=(n=Z.getCanvas()).clientWidth,n=n.clientHeight;e=c(e);var o=180*(Math.atan(re/t*2-1)-Math.atan(e.x/t*2-1))/Math.PI*X.hfov/90+ce;me.yaw=(o-X.yaw)%360*.2,X.yaw=o,t=360*Math.atan(Math.tan(X.hfov/360*Math.PI)*n/t)/Math.PI,t=180*(Math.atan(e.y/n*2-1)-Math.atan(se/n*2-1))/Math.PI*t/90+ue,me.pitch=.2*(t-X.pitch),X.pitch=t}}function p(e){ie&&(ie=!1,15<Date.now()-ae&&(me.pitch=me.yaw=0),Te.classList.add("pnlm-grab"),Te.classList.remove("pnlm-grabbing"),ae=Date.now(),Y("mouseup",e))}function m(e){if(K&&X.draggable){B(),G(),X.roll=0,me.hfov=0;var t=c(e.targetTouches[0]);if(re=t.x,se=t.y,2==e.targetTouches.length){var n=c(e.targetTouches[1]);re+=.5*(n.x-t.x),se+=.5*(n.y-t.y),le=Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y))}ie=!0,ae=Date.now(),ce=X.yaw,ue=X.pitch,Y("touchstart",e),L()}}function v(e){if(X.draggable&&(e.preventDefault(),K&&(ae=Date.now()),ie&&K)){var t=c(e.targetTouches[0]),n=t.x,o=t.y;2==e.targetTouches.length&&-1!=le&&(n+=.5*((e=c(e.targetTouches[1])).x-t.x),o+=.5*(e.y-t.y),t=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),j(X.hfov+.1*(le-t)),le=t),t=X.hfov/360,n=(re-n)*t+ce,me.yaw=(n-X.yaw)%360*.2,X.yaw=n,o=(o-se)*t+ue,me.pitch=.2*(o-X.pitch),X.pitch=o}}function g(){ie=!1,150<Date.now()-ae&&(me.pitch=me.yaw=0),le=-1,ae=Date.now(),Y("touchend",event)}function b(e){"touch"==e.pointerType&&(ze.push(e.pointerId),Fe.push({clientX:e.clientX,clientY:e.clientY}),e.targetTouches=Fe,m(e),e.preventDefault())}function y(e){if("touch"==e.pointerType)for(var t=0;t<ze.length;t++)if(e.pointerId==ze[t]){Fe[t].clientX=e.clientX,Fe[t].clientY=e.clientY,e.targetTouches=Fe,v(e),e.preventDefault();break}}function x(e){if("touch"==e.pointerType){for(var t=!1,o=0;o<ze.length;o++)e.pointerId==ze[o]&&(ze[o]=n),ze[o]&&(t=!0);t||(ze=[],Fe=[],g()),e.preventDefault()}}function w(e){K&&("fullscreenonly"!=X.mouseZoom||he)&&(e.preventDefault(),B(),ae=Date.now(),e.wheelDeltaY?(j(X.hfov-.05*e.wheelDeltaY),me.hfov=0>e.wheelDelta?1:-1):e.wheelDelta?(j(X.hfov-.05*e.wheelDelta),me.hfov=0>e.wheelDelta?1:-1):e.detail&&(j(X.hfov+1.5*e.detail),me.hfov=0<e.detail?1:-1),L())}function _(e){B(),ae=Date.now(),G(),X.roll=0;var t=e.which||e.keycode;0>Me.indexOf(t)||(e.preventDefault(),27==t?he&&z():k(t,!0))}function E(){for(var e=0;10>e;e++)de[e]=!1}function P(e){var t=e.which||e.keycode;0>Me.indexOf(t)||(e.preventDefault(),k(t,!1))}function k(e,t){var n=!1;switch(e){case 109:case 189:case 17:case 173:de[0]!=t&&(n=!0),de[0]=t;break;case 107:case 187:case 16:case 61:de[1]!=t&&(n=!0),de[1]=t;break;case 38:de[2]!=t&&(n=!0),de[2]=t;break;case 87:de[6]!=t&&(n=!0),de[6]=t;break;case 40:de[3]!=t&&(n=!0),de[3]=t;break;case 83:de[7]!=t&&(n=!0),de[7]=t;break;case 37:de[4]!=t&&(n=!0),de[4]=t;break;case 65:de[8]!=t&&(n=!0),de[8]=t;break;case 39:de[5]!=t&&(n=!0),de[5]=t;break;case 68:de[9]!=t&&(n=!0),de[9]=t}n&&t&&(Q="undefined"!=typeof performance&&performance.now()?performance.now():Date.now(),L())}function M(e){var t=xe[e],n=Math.min(1,Math.max((Date.now()-t.startTime)/1e3/(t.duration/1e3),0));if(n=t.startPosition+X.animationTimingFunction(n)*(t.endPosition-t.startPosition),t.endPosition>t.startPosition&&n>=t.endPosition||t.endPosition<t.startPosition&&n<=t.endPosition||t.endPosition===t.startPosition){n=t.endPosition,me[e]=0,t=xe[e].callback;var o=xe[e].callbackArgs;delete xe[e],"function"==typeof t&&t(o)}X[e]=n}function T(){F()}function L(){ve||(ve=!0,C())}function C(){if(function(){var e;if(K){180<X.yaw?X.yaw-=360:-180>X.yaw&&(X.yaw+=360),e=X.yaw;var t=X.maxYaw-X.minYaw,n=-180,o=180;360>t&&(n=X.minYaw+X.hfov/2,o=X.maxYaw-X.hfov/2,t<X.hfov&&(n=o=(n+o)/2)),X.yaw=Math.max(n,Math.min(o,X.yaw)),!1!==X.autoRotate&&e!=X.yaw&&(X.autoRotate*=-1),e=Z.getCanvas(),e=2*Math.atan(Math.tan(X.hfov/180*Math.PI*.5)/(e.width/e.height))/Math.PI*180,t=X.minPitch+e/2,n=X.maxPitch-e/2,X.maxPitch-X.minPitch<e&&(t=n=(t+n)/2),isNaN(t)&&(t=-90),isNaN(n)&&(n=90),X.pitch=Math.max(t,Math.min(n,X.pitch)),Z.render(X.pitch*Math.PI/180,X.yaw*Math.PI/180,X.hfov*Math.PI/180,{roll:X.roll*Math.PI/180}),X.hotSpots.forEach(I),X.compass&&(De.style.transform="rotate("+(-X.yaw-X.northOffset)+"deg)",De.style.webkitTransform="rotate("+(-X.yaw-X.northOffset)+"deg)")}}(),ee&&clearTimeout(ee),ie||!0===ge)requestAnimationFrame(C);else if(de[0]||de[1]||de[2]||de[3]||de[4]||de[5]||de[6]||de[7]||de[8]||de[9]||X.autoRotate||xe.pitch||xe.yaw||xe.hfov||.01<Math.abs(me.yaw)||.01<Math.abs(me.pitch)||.01<Math.abs(me.hfov))(function(){if(K){var e,t=!1,o=X.pitch,i=X.yaw,a=X.hfov;e="undefined"!=typeof performance&&performance.now()?performance.now():Date.now(),Q===n&&(Q=e);var r=(e-Q)*X.hfov/1700;if(r=Math.min(r,1),de[0]&&!0===X.keyboardZoom&&(j(X.hfov+(.8*me.hfov+.5)*r),t=!0),de[1]&&!0===X.keyboardZoom&&(j(X.hfov+(.8*me.hfov-.2)*r),t=!0),(de[2]||de[6])&&(X.pitch+=(.8*me.pitch+.2)*r,t=!0),(de[3]||de[7])&&(X.pitch+=(.8*me.pitch-.2)*r,t=!0),(de[4]||de[8])&&(X.yaw+=(.8*me.yaw-.2)*r,t=!0),(de[5]||de[9])&&(X.yaw+=(.8*me.yaw+.2)*r,t=!0),t&&(ae=Date.now()),Date.now(),X.autoRotate){if(.001<e-Q){t=(e-Q)/1e3;var s=(me.yaw/t*r-.2*X.autoRotate)*t;s=(0<-X.autoRotate?1:-1)*Math.min(Math.abs(X.autoRotate*t),Math.abs(s)),X.yaw+=s}X.autoRotateStopDelay&&(X.autoRotateStopDelay-=e-Q,0>=X.autoRotateStopDelay&&(X.autoRotateStopDelay=!1,ye=X.autoRotate,X.autoRotate=0))}xe.pitch&&(M("pitch"),o=X.pitch),xe.yaw&&(M("yaw"),i=X.yaw),xe.hfov&&(M("hfov"),a=X.hfov),0<r&&!X.autoRotate&&(de[4]||de[5]||de[8]||de[9]||xe.yaw||(X.yaw+=me.yaw*r*.85),de[2]||de[3]||de[6]||de[7]||xe.pitch||(X.pitch+=me.pitch*r*.85),de[0]||de[1]||xe.hfov||j(X.hfov+me.hfov*r*.85)),Q=e,0<r&&(me.yaw=.8*me.yaw+(X.yaw-i)/r*.2,me.pitch=.8*me.pitch+(X.pitch-o)/r*.2,me.hfov=.8*me.hfov+(X.hfov-a)/r*.2,o=X.autoRotate?Math.abs(X.autoRotate):5,me.yaw=Math.min(o,Math.max(me.yaw,-o)),me.pitch=Math.min(o,Math.max(me.pitch,-o)),me.hfov=Math.min(o,Math.max(me.hfov,-o))),de[0]&&de[0]&&(me.hfov=0),(de[2]||de[6])&&(de[3]||de[7])&&(me.pitch=0),(de[4]||de[8])&&(de[5]||de[9])&&(me.yaw=0)}})(),0<=X.autoRotateInactivityDelay&&ye&&Date.now()-ae>X.autoRotateInactivityDelay&&!X.autoRotate&&(X.autoRotate=ye,oe.lookAt(ne,n,te,3e3)),requestAnimationFrame(C);else if(Z&&(Z.isLoading()||!0===X.dynamic&&Ee))requestAnimationFrame(C);else{ve=!1,Q=n;var e=X.autoRotateInactivityDelay-(Date.now()-ae);0<e?ee=setTimeout(function(){X.autoRotate=ye,oe.lookAt(ne,n,te,3e3),L()},e):0<=X.autoRotateInactivityDelay&&ye&&(X.autoRotate=ye,oe.lookAt(ne,n,te,3e3),L())}}function R(e,t,n,o){this.w=e,this.x=t,this.y=n,this.z=o}function O(t){var n;n=t.alpha;var o=t.beta;t=t.gamma,o=[o?o*Math.PI/180/2:0,t?t*Math.PI/180/2:0,n?n*Math.PI/180/2:0],n=[Math.cos(o[0]),Math.cos(o[1]),Math.cos(o[2])],o=[Math.sin(o[0]),Math.sin(o[1]),Math.sin(o[2])],n=(n=new R(n[0]*n[1]*n[2]-o[0]*o[1]*o[2],o[0]*n[1]*n[2]-n[0]*o[1]*o[2],n[0]*o[1]*n[2]+o[0]*n[1]*o[2],n[0]*n[1]*o[2]+o[0]*o[1]*n[2])).multiply(new R(Math.sqrt(.5),-Math.sqrt(.5),0,0)),o=e.orientation?-e.orientation*Math.PI/180/2:0,n=n.multiply(new R(Math.cos(o),0,-Math.sin(o),0)).toEulerAngles(),"number"==typeof ge&&10>ge?ge+=1:10===ge?(be=n[2]/Math.PI*180+X.yaw,ge=!0,requestAnimationFrame(C)):(X.pitch=n[0]/Math.PI*180,X.roll=-n[1]/Math.PI*180,X.yaw=-n[2]/Math.PI*180+be)}function S(){if(X.sceneFadeDuration&&Z.fadeImg!==n){Z.fadeImg.style.opacity=0;var e=Z.fadeImg;delete Z.fadeImg,setTimeout(function(){Le.removeChild(e),Y("scenechangefadedone")},X.sceneFadeDuration)}De.style.display=X.compass?"inline":"none",Pe||(X.hotSpots?(X.hotSpots=X.hotSpots.sort(function(e,t){return e.pitch<t.pitch}),X.hotSpots.forEach(N)):X.hotSpots=[],Pe=!0,X.hotSpots.forEach(I)),Oe.load.box.style.display="none",$!==n&&(Le.removeChild($),$=n),K=!0,Y("load"),L()}function N(e){e.pitch=Number(e.pitch)||0,e.yaw=Number(e.yaw)||0;var n=t.createElement("div");n.className="pnlm-hotspot-base",n.className=e.cssClass?n.className+" "+e.cssClass:n.className+" pnlm-hotspot pnlm-sprite pnlm-"+W(e.type);var o,i=t.createElement("span");if(e.text&&(i.innerHTML=W(e.text)),e.video){o=t.createElement("video");var a=e.video;X.basePath&&!r(a)&&(a=X.basePath+a),o.src=encodeURI(a),o.controls=!0,o.style.width=e.width+"px",Le.appendChild(n),i.appendChild(o)}else if(e.image){a=e.image,X.basePath&&!r(a)&&(a=X.basePath+a),(o=t.createElement("a")).href=encodeURI(e.URL?e.URL:a),o.target="_blank",i.appendChild(o);var s=t.createElement("img");s.src=encodeURI(a),s.style.width=e.width+"px",s.style.paddingTop="5px",Le.appendChild(n),o.appendChild(s),i.style.maxWidth="initial"}else e.URL?((o=t.createElement("a")).href=encodeURI(e.URL),o.target="_blank",Le.appendChild(o),n.style.cursor="pointer",i.style.cursor="pointer",o.appendChild(n)):(e.sceneId&&(n.onclick=n.ontouchend=function(){return n.clicked||(n.clicked=!0,q(e.sceneId,e.targetPitch,e.targetYaw,e.targetHfov)),!1},n.style.cursor="pointer",i.style.cursor="pointer"),Le.appendChild(n));e.createTooltipFunc?e.createTooltipFunc(n,e.createTooltipArgs):(e.text||e.video||e.image)&&(n.classList.add("pnlm-tooltip"),n.appendChild(i),i.style.width=i.scrollWidth-20+"px",i.style.marginLeft=-(i.scrollWidth-n.offsetWidth)/2+"px",i.style.marginTop=-i.scrollHeight-12+"px"),e.clickHandlerFunc&&(n.addEventListener("click",function(t){e.clickHandlerFunc(t,e.clickHandlerArgs)},"false"),n.style.cursor="pointer",i.style.cursor="pointer"),e.div=n}function I(e){var t=Math.sin(e.pitch*Math.PI/180),n=Math.cos(e.pitch*Math.PI/180),o=Math.sin(X.pitch*Math.PI/180),i=Math.cos(X.pitch*Math.PI/180),a=Math.cos((-e.yaw+X.yaw)*Math.PI/180),r=t*o+n*a*i;if(90>=e.yaw&&-90<e.yaw&&0>=r||(90<e.yaw||-90>=e.yaw)&&0>=r)e.div.style.visibility="hidden";else{var s=Math.sin((-e.yaw+X.yaw)*Math.PI/180),l=Math.tan(X.hfov*Math.PI/360);e.div.style.visibility="visible";var c=(u=Z.getCanvas()).clientWidth,u=u.clientHeight;t=[-c/l*s*n/r/2,-c/l*(t*i-n*a*o)/r/2],n=Math.sin(X.roll*Math.PI/180),o=Math.cos(X.roll*Math.PI/180),(t=[t[0]*o-t[1]*n,t[0]*n+t[1]*o])[0]+=(c-e.div.offsetWidth)/2,t[1]+=(u-e.div.offsetHeight)/2,c="translate("+t[0]+"px, "+t[1]+"px) translateZ(9999px) rotate("+X.roll+"deg)",e.div.style.webkitTransform=c,e.div.style.MozTransform=c,e.div.style.transform=c}}function A(e){X={};var t,n,o="haov vaov vOffset northOffset horizonPitch horizonRoll".split(" ");for(t in _e=[],ke)ke.hasOwnProperty(t)&&(X[t]=ke[t]);for(t in i.default)if(i.default.hasOwnProperty(t))if("strings"==t)for(n in i.default.strings)i.default.strings.hasOwnProperty(n)&&(X.strings[n]=W(i.default.strings[n]));else X[t]=i.default[t],0<=o.indexOf(t)&&_e.push(t);if(null!==e&&""!==e&&i.scenes&&i.scenes[e]){var a=i.scenes[e];for(t in a)if(a.hasOwnProperty(t))if("strings"==t)for(n in a.strings)a.strings.hasOwnProperty(n)&&(X.strings[n]=W(a.strings[n]));else X[t]=a[t],0<=o.indexOf(t)&&_e.push(t);X.scene=e}for(t in i)if(i.hasOwnProperty(t))if("strings"==t)for(n in i.strings)i.strings.hasOwnProperty(n)&&(X.strings[n]=W(i.strings[n]));else X[t]=i[t],0<=o.indexOf(t)&&_e.push(t)}function D(e){if((e=e||!1)&&"preview"in X){var o=X.preview;X.basePath&&!r(o)&&(o=X.basePath+o),($=t.createElement("div")).className="pnlm-preview-img",$.style.backgroundImage="url('"+encodeURI(o)+"')",Le.appendChild($)}o=X.title;var i=X.author;for(var s in e&&("previewTitle"in X&&(X.title=X.previewTitle),"previewAuthor"in X&&(X.author=X.previewAuthor)),X.hasOwnProperty("title")||(Oe.title.innerHTML=""),X.hasOwnProperty("author")||(Oe.author.innerHTML=""),X.hasOwnProperty("title")||X.hasOwnProperty("author")||(Oe.container.style.display="none"),Ne.load.innerHTML="<p>"+X.strings.loadButtonLabel+"</p>",Oe.load.boxp.innerHTML=X.strings.loadingLabel,X)if(X.hasOwnProperty(s))switch(s){case"title":Oe.title.innerHTML=W(X[s]),Oe.container.style.display="inline";break;case"author":Oe.author.innerHTML=X.strings.bylineLabel.replace("%s",W(X[s])),Oe.container.style.display="inline";break;case"fallback":Oe.errorMsg.innerHTML='<p>Your browser does not support WebGL.<br><a href="'+encodeURI(X[s])+'" target="_blank">Click here to view this panorama in an alternative viewer.</a></p>';break;case"hfov":j(Number(X[s]));break;case"autoLoad":!0===X[s]&&Z===n&&(Oe.load.box.style.display="inline",Ne.load.style.display="none",a());break;case"showZoomCtrl":Ne.zoom.style.display=X[s]&&0!=X.showControls?"block":"none";break;case"showFullscreenCtrl":Ne.fullscreen.style.display=X[s]&&0!=X.showControls&&("fullscreen"in t||"mozFullScreen"in t||"webkitIsFullScreen"in t||"msFullscreenElement"in t)?"block":"none";break;case"hotSpotDebug":Se.style.display=X[s]?"block":"none";break;case"showControls":X[s]||(Ne.orientation.style.display="none",Ne.zoom.style.display="none",Ne.fullscreen.style.display="none");break;case"orientationOnByDefault":X[s]&&(Ie===n?Ae=!0:!0===Ie&&V())}e&&(o?X.title=o:delete X.title,i?X.author=i:delete X.author)}function z(){if(K&&!fe)if(he)t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen();else try{o.requestFullscreen?o.requestFullscreen():o.mozRequestFullScreen?o.mozRequestFullScreen():o.msRequestFullscreen?o.msRequestFullscreen():o.webkitRequestFullScreen()}catch(e){}}function F(){t.fullscreen||t.mozFullScreen||t.webkitIsFullScreen||t.msFullscreenElement?(Ne.fullscreen.classList.add("pnlm-fullscreen-toggle-button-active"),he=!0):(Ne.fullscreen.classList.remove("pnlm-fullscreen-toggle-button-active"),he=!1),Z.resize(),j(X.hfov),L()}function U(e){var t=X.minHfov;return"multires"==X.type&&Z&&(t=Math.min(t,Z.getCanvas().width/(X.multiRes.cubeResolution/90*.9))),t>X.maxHfov?(console.log("HFOV bounds do not make sense (minHfov > maxHfov)."),X.hfov):e<t?t:e>X.maxHfov?X.maxHfov:e}function j(e){X.hfov=U(e)}function B(){xe={},ye=X.autoRotate?X.autoRotate:ye,X.autoRotate=!1}function H(){fe&&(Oe.load.box.style.display="none",Oe.errorMsg.style.display="none",fe=!1,Y("errorcleared")),K=!1,Ne.load.style.display="none",Oe.load.box.style.display="inline",a()}function q(e,t,o,a,r){var s,l;if(K=!1,xe={},X.sceneFadeDuration&&!r&&(s=Z.render(X.pitch*Math.PI/180,X.yaw*Math.PI/180,X.hfov*Math.PI/180,{returnImage:!0}))!==n)return(r=new Image).className="pnlm-fade-img",r.style.transition="opacity "+X.sceneFadeDuration/1e3+"s",r.style.width="100%",r.style.height="100%",r.onload=function(){q(e,t,o,a,!0)},r.src=s,Le.appendChild(r),void(Z.fadeImg=r);r="same"===t?X.pitch:t,s="same"===o?X.yaw:"sameAzimuth"===o?X.yaw+(X.northOffset||0)-(i.scenes[e].northOffset||0):o,l="same"===a?X.hfov:a,function(){var e=X.hotSpots;if(Pe=!1,delete X.hotSpots,e)for(var t=0;t<e.length;t++){for(var n=e[t].div;n.parentNode!=Le;)n=n.parentNode;Le.removeChild(n),delete e[t].div}}(),A(e),me.yaw=me.pitch=me.hfov=0,D(),r!==n&&(X.pitch=r),s!==n&&(X.yaw=s),l!==n&&(X.hfov=l),Y("scenechange",e),H()}function G(){e.removeEventListener("deviceorientation",O),Ne.orientation.classList.remove("pnlm-orientation-button-active"),ge=!1}function V(){ge=1,e.addEventListener("deviceorientation",O),Ne.orientation.classList.add("pnlm-orientation-button-active")}function W(e){return i.escapeHTML?String(e).split(/&/g).join("&amp;").split('"').join("&quot;").split("'").join("&#39;").split("<").join("&lt;").split(">").join("&gt;").split("/").join("&#x2f;").split("\n").join("<br>"):String(e).split("\n").join("<br>")}function Y(e){if(e in we)for(var t=we[e].length;0<t;t--)we[e][we[e].length-t].apply(null,[].slice.call(arguments,1))}var X,Z,$,K,J,Q,ee,te,ne,oe=this,ie=!1,ae=Date.now(),re=0,se=0,le=-1,ce=0,ue=0,de=Array(10),he=!1,fe=!1,pe=!1,me={yaw:0,pitch:0,hfov:0},ve=!1,ge=!1,be=0,ye=0,xe={},we={},_e=[],Ee=!1,Pe=!1,ke={hfov:100,minHfov:50,maxHfov:120,pitch:0,minPitch:n,maxPitch:n,yaw:0,minYaw:-180,maxYaw:180,roll:0,haov:360,vaov:180,vOffset:0,autoRotate:!1,autoRotateInactivityDelay:-1,autoRotateStopDelay:n,type:"equirectangular",northOffset:0,showFullscreenCtrl:!0,dynamic:!1,doubleClickZoom:!0,keyboardZoom:!0,mouseZoom:!0,showZoomCtrl:!0,autoLoad:!1,showControls:!0,orientationOnByDefault:!1,hotSpotDebug:!1,backgroundColor:[0,0,0],animationTimingFunction:function(e){return.5>e?2*e*e:(4-2*e)*e-1},draggable:!0,disableKeyboardCtrl:!1,crossOrigin:"anonymous",strings:{loadButtonLabel:"Click to<br>Load<br>Panorama",loadingLabel:"Loading...",bylineLabel:"by %s",noPanoramaError:"No panorama image was specified.",fileAccessError:"The file %s could not be accessed.",malformedURLError:"There is something wrong with the panorama URL.",iOS8WebGLError:"Due to iOS 8's broken WebGL implementation, only progressive encoded JPEGs work for your device (this panorama uses standard encoding).",genericWebGLError:"Your browser does not have the necessary WebGL support to display this panorama.",textureSizeError:"This panorama is too big for your device! It's %spx wide, but your device only supports images up to %spx wide. Try another device. (If you're the author, try scaling down the image.)",unknownError:"Unknown error. Check developer console."}},Me=[16,17,27,37,38,39,40,61,65,68,83,87,107,109,173,187,189];(o="string"==typeof o?t.getElementById(o):o).classList.add("pnlm-container"),o.tabIndex=0;var Te=t.createElement("div");Te.className="pnlm-ui",o.appendChild(Te);var Le=t.createElement("div");Le.className="pnlm-render-container",o.appendChild(Le);var Ce=t.createElement("div");Ce.className="pnlm-dragfix",Te.appendChild(Ce);var Re=t.createElement("span");Re.className="pnlm-about-msg",Re.innerHTML='<a href="https://pannellum.org/" target="_blank">Pannellum</a> 2.4.1',Te.appendChild(Re),Ce.addEventListener("contextmenu",function e(t){var n=c(t);Re.style.left=n.x+"px",Re.style.top=n.y+"px",clearTimeout(e.t1),clearTimeout(e.t2),Re.style.display="block",Re.style.opacity=1,e.t1=setTimeout(function(){Re.style.opacity=0},2e3),e.t2=setTimeout(function(){Re.style.display="none"},2500),t.preventDefault()});var Oe={},Se=t.createElement("div");Se.className="pnlm-sprite pnlm-hot-spot-debug-indicator",Te.appendChild(Se),Oe.container=t.createElement("div"),Oe.container.className="pnlm-panorama-info",Oe.title=t.createElement("div"),Oe.title.className="pnlm-title-box",Oe.container.appendChild(Oe.title),Oe.author=t.createElement("div"),Oe.author.className="pnlm-author-box",Oe.container.appendChild(Oe.author),Te.appendChild(Oe.container),Oe.load={},Oe.load.box=t.createElement("div"),Oe.load.box.className="pnlm-load-box",Oe.load.boxp=t.createElement("p"),Oe.load.box.appendChild(Oe.load.boxp),Oe.load.lbox=t.createElement("div"),Oe.load.lbox.className="pnlm-lbox",Oe.load.lbox.innerHTML='<div class="pnlm-loading"></div>',Oe.load.box.appendChild(Oe.load.lbox),Oe.load.lbar=t.createElement("div"),Oe.load.lbar.className="pnlm-lbar",Oe.load.lbarFill=t.createElement("div"),Oe.load.lbarFill.className="pnlm-lbar-fill",Oe.load.lbar.appendChild(Oe.load.lbarFill),Oe.load.box.appendChild(Oe.load.lbar),Oe.load.msg=t.createElement("p"),Oe.load.msg.className="pnlm-lmsg",Oe.load.box.appendChild(Oe.load.msg),Te.appendChild(Oe.load.box),Oe.errorMsg=t.createElement("div"),Oe.errorMsg.className="pnlm-error-msg pnlm-info-box",Te.appendChild(Oe.errorMsg);var Ne={};Ne.container=t.createElement("div"),Ne.container.className="pnlm-controls-container",Te.appendChild(Ne.container),Ne.load=t.createElement("div"),Ne.load.className="pnlm-load-button",Ne.load.addEventListener("click",function(){D(),H()}),Te.appendChild(Ne.load),Ne.zoom=t.createElement("div"),Ne.zoom.className="pnlm-zoom-controls pnlm-controls",Ne.zoomIn=t.createElement("div"),Ne.zoomIn.className="pnlm-zoom-in pnlm-sprite pnlm-control",Ne.zoomIn.addEventListener("click",function(){K&&(j(X.hfov-5),L())}),Ne.zoom.appendChild(Ne.zoomIn),Ne.zoomOut=t.createElement("div"),Ne.zoomOut.className="pnlm-zoom-out pnlm-sprite pnlm-control",Ne.zoomOut.addEventListener("click",function(){K&&(j(X.hfov+5),L())}),Ne.zoom.appendChild(Ne.zoomOut),Ne.container.appendChild(Ne.zoom),Ne.fullscreen=t.createElement("div"),Ne.fullscreen.addEventListener("click",z),Ne.fullscreen.className="pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control",(t.fullscreenEnabled||t.mozFullScreenEnabled||t.webkitFullscreenEnabled||t.msFullscreenEnabled)&&Ne.container.appendChild(Ne.fullscreen),Ne.orientation=t.createElement("div"),Ne.orientation.addEventListener("click",function(e){ge?G():V()}),Ne.orientation.addEventListener("mousedown",function(e){e.stopPropagation()}),Ne.orientation.addEventListener("touchstart",function(e){e.stopPropagation()}),Ne.orientation.addEventListener("pointerdown",function(e){e.stopPropagation()}),Ne.orientation.className="pnlm-orientation-button pnlm-orientation-button-inactive pnlm-sprite pnlm-controls pnlm-control";var Ie,Ae=!1;e.DeviceOrientationEvent?e.addEventListener("deviceorientation",function t(n){e.removeEventListener("deviceorientation",t),n&&null!==n.alpha&&null!==n.beta&&null!==n.gamma?(Ne.container.appendChild(Ne.orientation),Ie=!0,Ae&&V()):Ie=!1}):Ie=!1;var De=t.createElement("div");De.className="pnlm-compass pnlm-controls pnlm-control",Te.appendChild(De),i.firstScene?A(i.firstScene):i.default&&i.default.firstScene?A(i.default.firstScene):A(null),D(!0);var ze=[],Fe=[];R.prototype.multiply=function(e){return new R(this.w*e.w-this.x*e.x-this.y*e.y-this.z*e.z,this.x*e.w+this.w*e.x+this.y*e.z-this.z*e.y,this.y*e.w+this.w*e.y+this.z*e.x-this.x*e.z,this.z*e.w+this.w*e.z+this.x*e.y-this.y*e.x)},R.prototype.toEulerAngles=function(){return[Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y)),Math.asin(2*(this.w*this.y-this.z*this.x)),Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z))]},this.isLoaded=function(){return Boolean(K)},this.getPitch=function(){return X.pitch},this.setPitch=function(e,t,o,i){return(t=t==n?1e3:Number(t))?xe.pitch={startTime:Date.now(),startPosition:X.pitch,endPosition:e,duration:t,callback:o,callbackArgs:i}:X.pitch=e,L(),this},this.getPitchBounds=function(){return[X.minPitch,X.maxPitch]},this.setPitchBounds=function(e){return X.minPitch=Math.max(-90,Math.min(e[0],90)),X.maxPitch=Math.max(-90,Math.min(e[1],90)),this},this.getYaw=function(){return X.yaw},this.setYaw=function(e,t,o,i){return e=(e+180)%360-180,(t=t==n?1e3:Number(t))?(180<X.yaw-e?e+=360:180<e-X.yaw&&(e-=360),xe.yaw={startTime:Date.now(),startPosition:X.yaw,endPosition:e,duration:t,callback:o,callbackArgs:i}):X.yaw=e,L(),this},this.getYawBounds=function(){return[X.minYaw,X.maxYaw]},this.setYawBounds=function(e){return X.minYaw=Math.max(-180,Math.min(e[0],180)),X.maxYaw=Math.max(-180,Math.min(e[1],180)),this},this.getHfov=function(){return X.hfov},this.setHfov=function(e,t,o,i){return(t=t==n?1e3:Number(t))?xe.hfov={startTime:Date.now(),startPosition:X.hfov,endPosition:U(e),duration:t,callback:o,callbackArgs:i}:j(e),L(),this},this.getHfovBounds=function(){return[X.minHfov,X.maxHfov]},this.setHfovBounds=function(e){return X.minHfov=Math.max(0,e[0]),X.maxHfov=Math.max(0,e[1]),this},this.lookAt=function(e,t,o,i,a,r){return i=i==n?1e3:Number(i),e!==n&&(this.setPitch(e,i,a,r),a=n),t!==n&&(this.setYaw(t,i,a,r),a=n),o!==n&&this.setHfov(o,i,a,r),this},this.getNorthOffset=function(){return X.northOffset},this.setNorthOffset=function(e){return X.northOffset=Math.min(360,Math.max(0,e)),L(),this},this.getHorizonRoll=function(){return X.horizonRoll},this.setHorizonRoll=function(e){return X.horizonRoll=Math.min(90,Math.max(-90,e)),Z.setPose(X.horizonPitch*Math.PI/180,X.horizonRoll*Math.PI/180),L(),this},this.getHorizonPitch=function(){return X.horizonPitch},this.setHorizonPitch=function(e){return X.horizonPitch=Math.min(90,Math.max(-90,e)),Z.setPose(X.horizonPitch*Math.PI/180,X.horizonRoll*Math.PI/180),L(),this},this.startAutoRotate=function(e){return e=e||ye||1,X.autoRotate=e,oe.lookAt(ne,n,te,3e3),L(),this},this.stopAutoRotate=function(){return ye=X.autoRotate?X.autoRotate:ye,X.autoRotate=!1,X.autoRotateInactivityDelay=-1,this},this.getRenderer=function(){return Z},this.setUpdate=function(e){return Ee=!0===e,Z===n?s():L(),this},this.mouseEventToCoords=function(e){return h(e)},this.loadScene=function(e,t,n,o){return!1!==K&&q(e,t,n,o),this},this.getScene=function(){return X.scene},this.addScene=function(e,t){return i.scenes[e]=t,this},this.removeScene=function(e){return!(X.scene===e||!i.scenes.hasOwnProperty(e)||(delete i.scenes[e],0))},this.toggleFullscreen=function(){return z(),this},this.getConfig=function(){return X},this.getContainer=function(){return o},this.addHotSpot=function(e,t){if(t===n&&X.scene===n)X.hotSpots.push(e);else{var o=t!==n?t:X.scene;if(!i.scenes.hasOwnProperty(o))throw"Invalid scene ID!";i.scenes[o].hasOwnProperty("hotSpots")||(i.scenes[o].hotSpots=[],o==X.scene&&(X.hotSpots=i.scenes[o].hotSpots)),i.scenes[o].hotSpots.push(e)}return t!==n&&X.scene!=t||(N(e),K&&I(e)),this},this.removeHotSpot=function(e){if(!X.hotSpots)return!1;for(var t=0;t<X.hotSpots.length;t++)if(X.hotSpots[t].hasOwnProperty("id")&&X.hotSpots[t].id===e){for(e=X.hotSpots[t].div;e.parentNode!=Le;)e=e.parentNode;return Le.removeChild(e),delete X.hotSpots[t].div,X.hotSpots.splice(t,1),!0}return!1},this.resize=function(){F()},this.isLoaded=function(){return K},this.isOrientationSupported=function(){return Ie||!1},this.stopOrientation=function(){G()},this.startOrientation=function(){Ie&&V()},this.isOrientationActive=function(){return Boolean(ge)},this.on=function(e,t){return we[e]=we[e]||[],we[e].push(t),this},this.off=function(e,t){if(!e)return we={},this;if(t){var n=we[e].indexOf(t);0<=n&&we[e].splice(n,1),0==we[e].length&&delete we[e]}else delete we[e];return this},this.destroy=function(){Z&&Z.destroy(),pe&&(Ce.removeEventListener("mousedown",u,!1),Ce.removeEventListener("dblclick",d,!1),t.removeEventListener("mousemove",f,!1),t.removeEventListener("mouseup",p,!1),o.removeEventListener("mousewheel",w,!1),o.removeEventListener("DOMMouseScroll",w,!1),o.removeEventListener("mozfullscreenchange",F,!1),o.removeEventListener("webkitfullscreenchange",F,!1),o.removeEventListener("msfullscreenchange",F,!1),o.removeEventListener("fullscreenchange",F,!1),e.removeEventListener("resize",T,!1),e.removeEventListener("orientationchange",T,!1),o.removeEventListener("keydown",_,!1),o.removeEventListener("keyup",P,!1),o.removeEventListener("blur",E,!1),t.removeEventListener("mouseleave",p,!1),Ce.removeEventListener("touchstart",m,!1),Ce.removeEventListener("touchmove",v,!1),Ce.removeEventListener("touchend",g,!1),Ce.removeEventListener("pointerdown",b,!1),Ce.removeEventListener("pointermove",y,!1),Ce.removeEventListener("pointerup",x,!1),Ce.removeEventListener("pointerleave",x,!1)),o.innerHTML="",o.classList.remove("pnlm-container"),Te.classList.remove("pnlm-grab"),Te.classList.remove("pnlm-grabbing")}}return{viewer:function(e,t){return new o(e,t)}}}(window,document)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateId=function(){return(new Date).valueOf().toString()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){var e=this,t=new Promise(function(t,n){e.resolve=t,e.reject=n});this.promise=t};t.default=o},function(e,t,n){"use strict";var o,i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),r=n(14),s=n(18),l=n(2),c=s(),u=function(e){function t(t){var n=e.call(this)||this;return t.classPrefix=t.classPrefix?t.classPrefix+"-info-element":"info-element",n.state={isOpen:!1,title:t.title,description:t.description,_title:t.title,_description:t.description},n}return i(t,e),t.prototype.render=function(e,t){var n=this,o=e.isEdit&&t.isOpen?t._description:this.addAnyLink(t._description),i=e.classPrefix+"-header "+(t.isOpen?"":e.classPrefix+"-clickable");i+=t.isOpen&&e.isEdit?e.classPrefix+"-editable":"";var r=e.classPrefix+"-close "+e.classPrefix+"-clickable",s=e.classPrefix+"-body ";return s+=t.isOpen&&e.isEdit?e.classPrefix+"-editable":"",l.h("div",{ref:function(e){n.dom=e},class:""+e.classPrefix,id:e.id},t.isOpen&&l.h("button",{class:r,onClick:this._onClose.bind(this)},"x"),l.h("h4",{contentEditable:e.isEdit,class:i,onInput:a.default(this,"_title","target.textContent"),onClick:function(e){!t.isOpen&&n._toggleView()}},t._title),t.isOpen&&l.h("p",{contentEditable:e.isEdit,class:s,onInput:a.default(this,"_description","target.textContent"),dangerouslySetInnerHTML:!e.isEdit&&{__html:this.sanitize(o)}},e.isEdit&&o),t.isOpen&&e.isEdit&&l.h("div",{class:e.classPrefix+"-footer "},l.h("button",{onClick:this._updateContent.bind(this)},l.h("i",{class:"fa fa-disk"}),"Save"),"",l.h("button",{onClick:this._onDelete.bind(this)},l.h("i",{class:"fa fa-trash"}),"Delete")))},t.prototype.sanitize=function(e){return c.sanitize(e,{ALLOWED_ATTR:["href","target"],ALLOWED_TAGS:["a"]})},t.prototype.addAnyLink=function(e){return r.default(e,{attributes:[{name:"target",value:"_blank"}]})},t.prototype._updateContent=function(e){this.setState({title:this.state._title,description:this.state._description}),this._toggleView(!1),this._dispatchEvent(t.EVENTS.UPDATE_INFO_ELEMENT)},t.prototype._toggleView=function(e){var n;n="boolean"!=typeof e?!this.state.isOpen:e,this.setState({isOpen:n}),this._dispatchEvent(t.EVENTS.TOGGLE_INFO_ELEMENT)},t.prototype._onClose=function(e){this.setState({_description:this.state.description,_title:this.state.title}),this._toggleView(!1)},t.prototype._onDelete=function(e){this._dispatchEvent(t.EVENTS.DELETE_INFO_ELEMENT)},t.prototype._dispatchEvent=function(e,t){void 0===t&&(t=this._getSimpleState());var n=new CustomEvent(e,{bubbles:!0,detail:t});this.dom.dispatchEvent(n)},t.prototype._getSimpleState=function(){return{title:this.state.title,description:this.state.description,id:this.props.id}},t.EVENTS={UPDATE_INFO_ELEMENT:"UPDATE_INFO_ELEMENT",TOGGLE_INFO_ELEMENT:"TOGGLE_INFO_ELEMENT",DELETE_INFO_ELEMENT:"DELETE_INFO_ELEMENT"},t}(l.Component);t.default=u,window.anchorme=r.default,window.DOMPurify=c},function(e,t,n){"use strict";n.r(t),t.default=function(e,t,n){var o=t.split("."),i=e.__lsc||(e.__lsc={});return i[t+n]||(i[t+n]=function(t){for(var i=t&&t.target||this,a={},r=a,s="string"==typeof n?function(e,t,n,o){for(o=0,t=t.split?t.split("."):t;e&&o<t.length;)e=e[t[o++]];return void 0===e?void 0:e}(t,n):i.nodeName?i.type.match(/^che|rad/)?i.checked:i.value:t,l=0;l<o.length-1;l++)r=r[o[l]]||(r[o[l]]=!l&&e.state[o[l]]||{});r[o[l]]=s,e.setState(a)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(3),a=n(4),r=n(5),s=n(15),l=n(7),c=function(e,t){return t=o.defaultOptions(t),s.default(e,t)};c.validate={ip:a.default,url:function(e){var t=l.default(e)||"";return e=e.substr(t.length),e=encodeURI(e),r.default(e)},email:i.default},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(17),a=n(6);t.default=function(e,t){var n=a.separate(e),r=i.default(n,t);if(t.exclude)for(var s=0;s<r.length;s++){var l=r[s];"object"==typeof l&&t.exclude(l)&&(r[s]=l.raw)}if(t.list){for(var c=[],u=0;u<r.length;u++){var d=r[u];"string"!=typeof d&&c.push(d)}return c}return r=r.map(function(e){return"string"==typeof e?e:function(e,t){var n=e.protocol+e.encoded,o=e.raw;return"number"==typeof t.truncate&&o.length>t.truncate&&(o=o.substring(0,t.truncate)+"..."),"object"==typeof t.truncate&&o.length>t.truncate[0]+t.truncate[1]&&(o=o.substr(0,t.truncate[0])+"..."+o.substr(o.length-t.truncate[1])),void 0===t.attributes&&(t.attributes=[]),'<a href="'+n+'" '+t.attributes.map(function(t){if("function"!=typeof t)return" "+t.name+'="'+t.value+'" ';var n=(t(e)||{}).name,o=(t(e)||{}).value;return n&&!o?" name ":n&&o?" "+n+'="'+o+'" ':void 0}).join("")+">"+o+"</a>"}(e,t)}),o.deSeparate(r)}},function(e,t,n){"use strict";function o(e,t,n){return e.forEach(function(i,a){!(i.indexOf(".")>-1)||e[a-1]===t&&e[a+1]===n||e[a+1]!==t&&e[a+1]!==n||(e[a]=e[a]+e[a+1],"string"==typeof e[a+2]&&(e[a]=e[a]+e[a+2]),"string"==typeof e[a+3]&&(e[a]=e[a]+e[a+3]),"string"==typeof e[a+4]&&(e[a]=e[a]+e[a+4]),e.splice(a+1,4),o(e,t,n))}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.fixSeparators=o,t.default=function(e){return o(e=o(e=o(e=o(e,"(",")"),"[","]"),'"','"'),"'","'")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(7),a=n(1),r=n(4),s=n(5);t.default=function(e,t){return e.map(function(n,l){var c=encodeURI(n);if(c.indexOf(".")<1&&!i.default(c))return n;var u=null,d=i.default(c)||"";return d&&(c=c.substr(d.length)),t.files&&"file:///"===d&&c.split(/\/|\\/).length-1&&(u={reason:"file",protocol:d,raw:n,encoded:c}),!u&&t.urls&&s.default(c)&&(u={reason:"url",protocol:d||("function"==typeof t.defaultProtocol?t.defaultProtocol(n):t.defaultProtocol),raw:n,encoded:c}),!u&&t.emails&&o.default(c)&&(u={reason:"email",protocol:"mailto:",raw:n,encoded:c}),!u&&t.ips&&r.default(c)&&(u={reason:"ip",protocol:d||("function"==typeof t.defaultProtocol?t.defaultProtocol(n):t.defaultProtocol),raw:n,encoded:c}),u&&("'"!==e[l-1]&&'"'!==e[l-1]||!~a.htmlAttrs.indexOf(e[l-2]))?u:n})}},function(e,t,n){e.exports=function(){"use strict";var e=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],t=["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"],n=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence"],o=["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"],i=["#text"],a=["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"],r=["accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"],s=["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"],l=["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"];function c(e,t){for(var n=t.length;n--;)"string"==typeof t[n]&&(t[n]=t[n].toLowerCase()),e[t[n]]=!0;return e}function u(e){var t={},n=void 0;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var d=/\{\{[\s\S]*|[\s\S]*\}\}/gm,h=/<%[\s\S]*|[\s\S]*%>/gm,f=/^data-[\-\w.\u00B7-\uFFFF]/,p=/^aria-[\-\w]+$/,m=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,v=/^(?:\w+script|data):/i,g=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}return function x(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,_=function(e){return x(e)};if(_.version="1.0.3",_.removed=[],!w||!w.document||9!==w.document.nodeType)return _.isSupported=!1,_;var E=w.document,P=!1,k=!1,M=w.document,T=w.DocumentFragment,L=w.HTMLTemplateElement,C=w.Node,R=w.NodeFilter,O=w.NamedNodeMap,S=void 0===O?w.NamedNodeMap||w.MozNamedAttrMap:O,N=w.Text,I=w.Comment,A=w.DOMParser,D=w.XMLHttpRequest,z=void 0===D?w.XMLHttpRequest:D,F=w.encodeURI,U=void 0===F?w.encodeURI:F;if("function"==typeof L){var j=M.createElement("template");j.content&&j.content.ownerDocument&&(M=j.content.ownerDocument)}var B=M,H=B.implementation,q=B.createNodeIterator,G=B.getElementsByTagName,V=B.createDocumentFragment,W=E.importNode,Y={};_.isSupported=H&&void 0!==H.createHTMLDocument&&9!==M.documentMode;var X=d,Z=h,$=f,K=p,J=v,Q=g,ee=m,te=null,ne=c({},[].concat(y(e),y(t),y(n),y(o),y(i))),oe=null,ie=c({},[].concat(y(a),y(r),y(s),y(l))),ae=null,re=null,se=!0,le=!0,ce=!1,ue=!1,de=!1,he=!1,fe=!1,pe=!1,me=!1,ve=!1,ge=!1,be=!0,ye=!0,xe={},we=c({},["audio","head","math","script","style","template","svg","video"]),_e=c({},["audio","video","img","source","image"]),Ee=c({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Pe=null,ke=M.createElement("form"),Me=function(d){"object"!==(void 0===d?"undefined":b(d))&&(d={}),te="ALLOWED_TAGS"in d?c({},d.ALLOWED_TAGS):ne,oe="ALLOWED_ATTR"in d?c({},d.ALLOWED_ATTR):ie,ae="FORBID_TAGS"in d?c({},d.FORBID_TAGS):{},re="FORBID_ATTR"in d?c({},d.FORBID_ATTR):{},xe="USE_PROFILES"in d&&d.USE_PROFILES,se=!1!==d.ALLOW_ARIA_ATTR,le=!1!==d.ALLOW_DATA_ATTR,ce=d.ALLOW_UNKNOWN_PROTOCOLS||!1,ue=d.SAFE_FOR_JQUERY||!1,de=d.SAFE_FOR_TEMPLATES||!1,he=d.WHOLE_DOCUMENT||!1,me=d.RETURN_DOM||!1,ve=d.RETURN_DOM_FRAGMENT||!1,ge=d.RETURN_DOM_IMPORT||!1,pe=d.FORCE_BODY||!1,be=!1!==d.SANITIZE_DOM,ye=!1!==d.KEEP_CONTENT,ee=d.ALLOWED_URI_REGEXP||ee,de&&(le=!1),ve&&(me=!0),xe&&(te=c({},[].concat(y(i))),oe=[],!0===xe.html&&(c(te,e),c(oe,a)),!0===xe.svg&&(c(te,t),c(oe,r),c(oe,l)),!0===xe.svgFilters&&(c(te,n),c(oe,r),c(oe,l)),!0===xe.mathMl&&(c(te,o),c(oe,s),c(oe,l))),d.ADD_TAGS&&(te===ne&&(te=u(te)),c(te,d.ADD_TAGS)),d.ADD_ATTR&&(oe===ie&&(oe=u(oe)),c(oe,d.ADD_ATTR)),d.ADD_URI_SAFE_ATTR&&c(Ee,d.ADD_URI_SAFE_ATTR),ye&&(te["#text"]=!0),Object&&"freeze"in Object&&Object.freeze(d),Pe=d},Te=function(e){_.removed.push({element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=""}},Le=function(e,t){_.removed.push({attribute:t.getAttributeNode(e),from:t}),t.removeAttribute(e)},Ce=function(e){var t=void 0,n=void 0;if(pe&&(e="<remove></remove>"+e),k){try{e=U(e)}catch(e){}var o=new z;o.responseType="document",o.open("GET","data:text/html;charset=utf-8,"+e,!1),o.send(null),t=o.response}if(P)try{t=(new A).parseFromString(e,"text/html")}catch(e){}return t&&t.documentElement||((n=(t=H.createHTMLDocument("")).body).parentNode.removeChild(n.parentNode.firstElementChild),n.outerHTML=e),G.call(t,he?"html":"body")[0]};_.isSupported&&function(){var e=Ce('<svg><g onload="this.parentNode.remove()"></g></svg>');e.querySelector("svg")||(k=!0);try{(e=Ce('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">')).querySelector("svg img")&&(P=!0)}catch(e){}}();var Re=function(e){return q.call(e.ownerDocument||e,e,R.SHOW_ELEMENT|R.SHOW_COMMENT|R.SHOW_TEXT,function(){return R.FILTER_ACCEPT},!1)},Oe=function(e){return"object"===(void 0===C?"undefined":b(C))?e instanceof C:e&&"object"===(void 0===e?"undefined":b(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Se=function(e,t,n){Y[e]&&Y[e].forEach(function(e){e.call(_,t,n,Pe)})},Ne=function(e){var t,n=void 0;if(Se("beforeSanitizeElements",e,null),!((t=e)instanceof N||t instanceof I||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof S&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute))return Te(e),!0;var o=e.nodeName.toLowerCase();if(Se("uponSanitizeElement",e,{tagName:o,allowedTags:te}),!te[o]||ae[o]){if(ye&&!we[o]&&"function"==typeof e.insertAdjacentHTML)try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(e){}return Te(e),!0}return!ue||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(_.removed.push({element:e.cloneNode()}),e.innerHTML=e.textContent.replace(/</g,"&lt;")),de&&3===e.nodeType&&(n=(n=(n=e.textContent).replace(X," ")).replace(Z," "),e.textContent!==n&&(_.removed.push({element:e.cloneNode()}),e.textContent=n)),Se("afterSanitizeElements",e,null),!1},Ie=function(e){var t=void 0,n=void 0,o=void 0,i=void 0,a=void 0,r=void 0,s=void 0;if(Se("beforeSanitizeAttributes",e,null),r=e.attributes){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:oe};for(s=r.length;s--;){if(n=(t=r[s]).name,o=t.value.trim(),i=n.toLowerCase(),l.attrName=i,l.attrValue=o,l.keepAttr=!0,Se("uponSanitizeAttribute",e,l),o=l.attrValue,"name"===i&&"IMG"===e.nodeName&&r.id)a=r.id,r=Array.prototype.slice.apply(r),Le("id",e),Le(n,e),r.indexOf(a)>s&&e.setAttribute("id",a.value);else{if("INPUT"===e.nodeName&&"type"===i&&"file"===o&&(oe[i]||!re[i]))continue;"id"===n&&e.setAttribute(n,""),Le(n,e)}if(l.keepAttr&&(!be||"id"!==i&&"name"!==i||!(o in M||o in ke))){if(de&&(o=(o=o.replace(X," ")).replace(Z," ")),le&&$.test(i));else if(se&&K.test(i));else{if(!oe[i]||re[i])continue;if(Ee[i]);else if(ee.test(o.replace(Q,"")));else if("src"!==i&&"xlink:href"!==i||0!==o.indexOf("data:")||!_e[e.nodeName.toLowerCase()])if(ce&&!J.test(o.replace(Q,"")));else if(o)continue}try{e.setAttribute(n,o),_.removed.pop()}catch(e){}}}Se("afterSanitizeAttributes",e,null)}},Ae=function e(t){var n=void 0,o=Re(t);for(Se("beforeSanitizeShadowDOM",t,null);n=o.nextNode();)Se("uponSanitizeShadowNode",n,null),Ne(n)||(n.content instanceof T&&e(n.content),Ie(n));Se("afterSanitizeShadowDOM",t,null)};return _.sanitize=function(e,t){var n=void 0,o=void 0,i=void 0,a=void 0,r=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Oe(e)){if("function"!=typeof e.toString)throw new TypeError("toString is not a function");if("string"!=typeof(e=e.toString()))throw new TypeError("dirty is not a string, aborting")}if(!_.isSupported){if("object"===b(w.toStaticHTML)||"function"==typeof w.toStaticHTML){if("string"==typeof e)return w.toStaticHTML(e);if(Oe(e))return w.toStaticHTML(e.outerHTML)}return e}if(fe||Me(t),_.removed=[],e instanceof C)1===(o=(n=Ce("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===o.nodeName?n=o:n.appendChild(o);else{if(!me&&!he&&-1===e.indexOf("<"))return e;if(!(n=Ce(e)))return me?null:""}pe&&Te(n.firstChild);for(var s=Re(n);i=s.nextNode();)3===i.nodeType&&i===a||Ne(i)||(i.content instanceof T&&Ae(i.content),Ie(i),a=i);if(me){if(ve)for(r=V.call(n.ownerDocument);n.firstChild;)r.appendChild(n.firstChild);else r=n;return ge&&(r=W.call(E,r,!0)),r}return he?n.outerHTML:n.innerHTML},_.setConfig=function(e){Me(e),fe=!0},_.clearConfig=function(){Pe=null,fe=!1},_.addHook=function(e,t){"function"==typeof t&&(Y[e]=Y[e]||[],Y[e].push(t))},_.removeHook=function(e){Y[e]&&Y[e].pop()},_.removeHooks=function(e){Y[e]&&(Y[e]=[])},_.removeAllHooks=function(){Y={}},_}()}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t="id"),this._prop=t,this._array=e,this.table=this._arrayToDict(this._array)}return e.prototype.add=function(e){return this._array.push(e),this.table[e[this._prop]]=e,this},e.prototype.delete=function(e){var t=this;return"string"!=typeof e&&"number"!=typeof e||(e=this.get(e)),!!e&&(this._array.forEach(function(n,o){n[t._prop]===e[t._prop]&&t._array.splice(o,1)}),delete this.table[e[this._prop]])},e.prototype.get=function(e){return void 0===e&&(e=0),e?this.table[e]:this._array[e]},Object.defineProperty(e.prototype,"length",{get:function(){return this._array.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"array",{get:function(){return this._array},enumerable:!0,configurable:!0}),e.prototype._arrayToDict=function(e){var t=this;return e.reduce(function(e,n){return e[n[t._prop]]=n,e},{})},e}();t.default=o},function(e,t){}]);
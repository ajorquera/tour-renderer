!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=function(e){return e||(e={attributes:[],ips:!0,emails:!0,urls:!0,files:!0,truncate:1/0,defaultProtocol:"http://",list:!1}),"object"!=typeof e.attributes&&(e.attributes=[]),"boolean"!=typeof e.ips&&(e.ips=!0),"boolean"!=typeof e.emails&&(e.emails=!0),"boolean"!=typeof e.urls&&(e.urls=!0),"boolean"!=typeof e.files&&(e.files=!0),"boolean"!=typeof e.list&&(e.list=!1),"string"!=typeof e.defaultProtocol&&"function"!=typeof e.defaultProtocol&&(e.defaultProtocol="http://"),"number"==typeof e.truncate||"object"==typeof e.truncate&&null!==e.truncate||(e.truncate=1/0),e},t.isPort=function(e){return!(isNaN(Number(e))||Number(e)>65535)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tlds=["com","org","net","uk","gov","edu","io","cc","co","aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","active","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","aigo","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blanco","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnl","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","boots","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","cartier","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cd","ceb","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","chase","chat","cheap","chintai","chloe","christmas","chrome","chrysler","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","coach","codes","coffee","college","cologne","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dodge","dog","doha","domains","dot","download","drive","dtv","dubai","duck","dunlop","duns","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epost","epson","equipment","er","ericsson","erni","es","esq","estate","esurance","et","eu","eurovision","eus","events","everbank","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodhands","goodyear","goog","google","gop","got","gp","gq","gr","grainger","graphics","gratis","green","gripe","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","honeywell","horse","hospital","host","hosting","hot","hoteles","hotmail","house","how","hr","hsbc","ht","htc","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","industries","infiniti","info","ing","ink","institute","insurance","insure","int","intel","international","intuit","investments","ipiranga","iq","ir","irish","is","iselect","ismaili","ist","istanbul","it","itau","itv","iveco","iwc","jaguar","java","jcb","jcp","je","jeep","jetzt","jewelry","jio","jlc","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","ladbrokes","lamborghini","lamer","lancaster","lancia","lancome","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","liaison","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mcd","mcdonalds","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","meo","metlife","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","mobily","moda","moe","moi","mom","monash","money","monster","montblanc","mopar","mormon","mortgage","moscow","moto","motorcycles","mov","movie","movistar","mp","mq","mr","ms","msd","mt","mtn","mtpc","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nadex","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","organic","orientexpress","origins","osaka","otsuka","ott","ovh","pa","page","pamperedchef","panasonic","panerai","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","philips","phone","photo","photography","photos","physio","piaget","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","rightathome","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sapo","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scor","scot","sd","se","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","shriram","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","space","spiegel","spot","spreadbetting","sr","srl","srt","st","stada","staples","star","starhub","statebank","statefarm","statoil","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","symantec","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","telecity","telefonica","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","uconnect","ug","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","vista","vistaprint","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","warman","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","xn--11b4c3d","xn--1ck2e1b","xn--1qqw23a","xn--30rr7y","xn--3bst00m","xn--3ds443g","xn--3e0b707e","xn--3oq18vl8pn36a","xn--3pxu8k","xn--42c2d9a","xn--45brj9c","xn--45q11c","xn--4gbrim","xn--54b7fta0cc","xn--55qw42g","xn--55qx5d","xn--5su34j936bgsg","xn--5tzm5g","xn--6frz82g","xn--6qq986b3xl","xn--80adxhks","xn--80ao21a","xn--80aqecdr1a","xn--80asehdb","xn--80aswg","xn--8y0a063a","xn--90a3ac","xn--90ae","xn--90ais","xn--9dbq2a","xn--9et52u","xn--9krt00a","xn--b4w605ferd","xn--bck1b9a5dre4c","xn--c1avg","xn--c2br7g","xn--cck2b3b","xn--cg4bki","xn--clchc0ea0b2g2a9gcd","xn--czr694b","xn--czrs0t","xn--czru2d","xn--d1acj3b","xn--d1alf","xn--e1a4c","xn--eckvdtc9d","xn--efvy88h","xn--estv75g","xn--fct429k","xn--fhbei","xn--fiq228c5hs","xn--fiq64b","xn--fiqs8s","xn--fiqz9s","xn--fjq720a","xn--flw351e","xn--fpcrj9c3d","xn--fzc2c9e2c","xn--fzys8d69uvgm","xn--g2xx48c","xn--gckr3f0f","xn--gecrj9c","xn--gk3at1e","xn--h2brj9c","xn--hxt814e","xn--i1b6b1a6a2e","xn--imr513n","xn--io0a7i","xn--j1aef","xn--j1amh","xn--j6w193g","xn--jlq61u9w7b","xn--jvr189m","xn--kcrx77d1x4a","xn--kprw13d","xn--kpry57d","xn--kpu716f","xn--kput3i","xn--l1acc","xn--lgbbat1ad8j","xn--mgb9awbf","xn--mgba3a3ejt","xn--mgba3a4f16a","xn--mgba7c0bbn0a","xn--mgbaam7a8h","xn--mgbab2bd","xn--mgbai9azgqp6j","xn--mgbayh7gpa","xn--mgbb9fbpob","xn--mgbbh1a71e","xn--mgbc0a9azcg","xn--mgbca7dzdo","xn--mgberp4a5d4ar","xn--mgbi4ecexp","xn--mgbpl2fh","xn--mgbt3dhd","xn--mgbtx2b","xn--mgbx4cd0ab","xn--mix891f","xn--mk1bu44c","xn--mxtq1m","xn--ngbc5azd","xn--ngbe9e0a","xn--node","xn--nqv7f","xn--nqv7fs00ema","xn--nyqy26a","xn--o3cw4h","xn--ogbpf8fl","xn--p1acf","xn--p1ai","xn--pbt977c","xn--pgbs0dh","xn--pssy2u","xn--q9jyb4c","xn--qcka1pmc","xn--qxam","xn--rhqv96g","xn--rovu88b","xn--s9brj9c","xn--ses554g","xn--t60b56a","xn--tckwe","xn--tiq49xqyj","xn--unup4y","xn--vermgensberater-ctb","xn--vermgensberatung-pwb","xn--vhquv","xn--vuq861b","xn--w4r85el8fhu5dnra","xn--w4rs40l","xn--wgbh1c","xn--wgbl6a","xn--xhq521b","xn--xkc2al3hye2a","xn--xkc2dl3a5ee0h","xn--y9a3aq","xn--yfro4i67o","xn--ygbi2ammx","xn--zfr164b","xperia","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zippo","zm","zone","zuerich","zw"],t.htmlAttrs=["src=","data=","href=","cite=","formaction=","icon=","manifest=","poster=","codebase=","background=","profile=","usemap="]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"h",function(){return r}),n.d(t,"createElement",function(){return r}),n.d(t,"cloneElement",function(){return c}),n.d(t,"Component",function(){return S}),n.d(t,"render",function(){return A}),n.d(t,"rerender",function(){return p}),n.d(t,"options",function(){return o});var o={},a=[],i=[];function r(e,t){var n,r,s,l,c=i;for(l=arguments.length;l-- >2;)a.push(arguments[l]);for(t&&null!=t.children&&(a.length||a.push(t.children),delete t.children);a.length;)if((r=a.pop())&&void 0!==r.pop)for(l=r.length;l--;)a.push(r[l]);else"boolean"==typeof r&&(r=null),(s="function"!=typeof e)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(s=!1)),s&&n?c[c.length-1]+=r:c===i?c=[r]:c.push(r),n=s;var d=new function(){};return d.nodeName=e,d.children=c,d.attributes=null==t?void 0:t,d.key=null==t?void 0:t.key,void 0!==o.vnode&&o.vnode(d),d}function s(e,t){for(var n in t)e[n]=t[n];return e}var l="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function c(e,t){return r(e.nodeName,s(s({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var d=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,u=[];function h(e){!e._dirty&&(e._dirty=!0)&&1==u.push(e)&&(o.debounceRendering||l)(p)}function p(){var e,t=u;for(u=[];e=t.pop();)e._dirty&&N(e)}function f(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function m(e){var t=s({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var o in n)void 0===t[o]&&(t[o]=n[o]);return t}function v(e){var t=e.parentNode;t&&t.removeChild(e)}function g(e,t,n,o,a){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),o&&o(e);else if("class"!==t||a)if("style"===t){if(o&&"string"!=typeof o&&"string"!=typeof n||(e.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var i in n)i in o||(e.style[i]="");for(var i in o)e.style[i]="number"==typeof o[i]&&!1===d.test(i)?o[i]+"px":o[i]}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1]){var r=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,b,r):e.removeEventListener(t,b,r),(e._listeners||(e._listeners={}))[t]=o}else if("list"!==t&&"type"!==t&&!a&&t in e)!function(e,t,n){try{e[t]=n}catch(e){}}(e,t,null==o?"":o),null!=o&&!1!==o||e.removeAttribute(t);else{var s=a&&t!==(t=t.replace(/^xlink\:?/,""));null==o||!1===o?s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof o&&(s?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||""}function b(e){return this._listeners[e.type](o.event&&o.event(e)||e)}var y=[],x=0,w=!1,_=!1;function E(){for(var e;e=y.pop();)o.afterMount&&o.afterMount(e),e.componentDidMount&&e.componentDidMount()}function P(e,t,n,o,a,i){x++||(w=null!=a&&void 0!==a.ownerSVGElement,_=null!=e&&!("__preactattr_"in e));var r=k(e,t,n,o,i);return a&&r.parentNode!==a&&a.appendChild(r),--x||(_=!1,i||E()),r}function k(e,t,n,o,a){var i=e,r=w;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||a)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),M(e,!0))),i.__preactattr_=!0,i;var s,l,c=t.nodeName;if("function"==typeof c)return function(e,t,n,o){var a=e&&e._component,i=a,r=e,s=a&&e._componentConstructor===t.nodeName,l=s,c=m(t);for(;a&&!l&&(a=a._parentComponent);)l=a.constructor===t.nodeName;a&&l&&(!o||a._component)?(O(a,c,3,n,o),e=a.base):(i&&!s&&(I(i),e=r=null),a=R(t.nodeName,c,n),e&&!a.nextBase&&(a.nextBase=e,r=null),O(a,c,1,n,o),e=a.base,r&&e!==r&&(r._component=null,M(r,!1)));return e}(e,t,n,o);if(w="svg"===c||"foreignObject"!==c&&w,c=String(c),(!e||!f(e,c))&&(s=c,(l=w?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s)).normalizedNodeName=s,i=l,e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),M(e,!0)}var d=i.firstChild,u=i.__preactattr_,h=t.children;if(null==u){u=i.__preactattr_={};for(var p=i.attributes,b=p.length;b--;)u[p[b].name]=p[b].value}return!_&&h&&1===h.length&&"string"==typeof h[0]&&null!=d&&void 0!==d.splitText&&null==d.nextSibling?d.nodeValue!=h[0]&&(d.nodeValue=h[0]):(h&&h.length||null!=d)&&function(e,t,n,o,a){var i,r,s,l,c,d=e.childNodes,u=[],h={},p=0,m=0,g=d.length,b=0,y=t?t.length:0;if(0!==g)for(var x=0;x<g;x++){var w=d[x],_=w.__preactattr_,E=y&&_?w._component?w._component.__key:_.key:null;null!=E?(p++,h[E]=w):(_||(void 0!==w.splitText?!a||w.nodeValue.trim():a))&&(u[b++]=w)}if(0!==y)for(var x=0;x<y;x++){l=t[x],c=null;var E=l.key;if(null!=E)p&&void 0!==h[E]&&(c=h[E],h[E]=void 0,p--);else if(!c&&m<b)for(i=m;i<b;i++)if(void 0!==u[i]&&(P=r=u[i],L=a,"string"==typeof(T=l)||"number"==typeof T?void 0!==P.splitText:"string"==typeof T.nodeName?!P._componentConstructor&&f(P,T.nodeName):L||P._componentConstructor===T.nodeName)){c=r,u[i]=void 0,i===b-1&&b--,i===m&&m++;break}c=k(c,l,n,o),s=d[x],c&&c!==e&&c!==s&&(null==s?e.appendChild(c):c===s.nextSibling?v(s):e.insertBefore(c,s))}var P,T,L;if(p)for(var x in h)void 0!==h[x]&&M(h[x],!1);for(;m<=b;)void 0!==(c=u[b--])&&M(c,!1)}(i,h,n,o,_||null!=u.dangerouslySetInnerHTML),function(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||g(e,o,n[o],n[o]=void 0,w);for(o in t)"children"===o||"innerHTML"===o||o in n&&t[o]===("value"===o||"checked"===o?e[o]:n[o])||g(e,o,n[o],n[o]=t[o],w)}(i,t.attributes,u),w=r,i}function M(e,t){var n=e._component;n?I(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||v(e),T(e))}function T(e){for(e=e.lastChild;e;){var t=e.previousSibling;M(e,!0),e=t}}var L={};function R(e,t,n){var o,a=L[e.name];if(e.prototype&&e.prototype.render?(o=new e(t,n),S.call(o,t,n)):((o=new S(t,n)).constructor=e,o.render=C),a)for(var i=a.length;i--;)if(a[i].constructor===e){o.nextBase=a[i].nextBase,a.splice(i,1);break}return o}function C(e,t,n){return this.constructor(e,n)}function O(e,t,n,a,i){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,a),a&&a!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=a),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===o.syncComponentUpdates&&e.base?h(e):N(e,1,i)),e.__ref&&e.__ref(e))}function N(e,t,n,a){if(!e._disable){var i,r,l,c=e.props,d=e.state,u=e.context,h=e.prevProps||c,p=e.prevState||d,f=e.prevContext||u,v=e.base,g=e.nextBase,b=v||g,w=e._component,_=!1;if(v&&(e.props=h,e.state=p,e.context=f,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(c,d,u)?_=!0:e.componentWillUpdate&&e.componentWillUpdate(c,d,u),e.props=c,e.state=d,e.context=u),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!_){i=e.render(c,d,u),e.getChildContext&&(u=s(s({},u),e.getChildContext()));var k,T,L=i&&i.nodeName;if("function"==typeof L){var C=m(i);(r=w)&&r.constructor===L&&C.key==r.__key?O(r,C,1,u,!1):(k=r,e._component=r=R(L,C,u),r.nextBase=r.nextBase||g,r._parentComponent=e,O(r,C,0,u,!1),N(r,1,n,!0)),T=r.base}else l=b,(k=w)&&(l=e._component=null),(b||1===t)&&(l&&(l._component=null),T=P(l,i,u,n||!v,b&&b.parentNode,!0));if(b&&T!==b&&r!==w){var S=b.parentNode;S&&T!==S&&(S.replaceChild(T,b),k||(b._component=null,M(b,!1)))}if(k&&I(k),e.base=T,T&&!a){for(var A=e,z=e;z=z._parentComponent;)(A=z).base=T;T._component=A,T._componentConstructor=A.constructor}}if(!v||n?y.unshift(e):_||(e.componentDidUpdate&&e.componentDidUpdate(h,p,f),o.afterUpdate&&o.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);x||a||E()}}function I(e){o.beforeUnmount&&o.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n,a,i=e._component;i?I(i):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,v(t),a=(n=e).constructor.name,(L[a]||(L[a]=[])).push(n),T(t)),e.__ref&&e.__ref(null)}function S(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}function A(e,t,n){return P(n,e,{},!1,t,!1)}s(S.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=s({},n)),s(n,"function"==typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),h(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),N(this,2)},render:function(){}});var z={h:r,createElement:r,cloneElement:c,Component:S,render:A,rerender:p,options:o};t.default=z},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=/^[a-z0-9!#$%&'*+\-/=?^_`{|}~.]+@([a-z0-9%\-]+\.){1,}([a-z0-9\-]+)?$/i,i=[/^[!#$%&'*+\-/=?^_`{|}~.]/,/[.]{2,}[a-z0-9!#$%&'*+\-/=?^_`{|}~.]+@/i,/\.@/];t.default=function(e){var t=e.match(a);if(null===t)return!1;for(var n=i.length-1;n>=0;n--)if(i[n].test(e))return!1;var r=t[2];return!!r&&-1!==o.tlds.indexOf(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=/^(\d{1,3}\.){3}\d{1,3}(:\d{1,5})?(\/([a-z0-9\-._~:\/\?#\[\]@!$&'\(\)\*\+,;=%]+)?)?$/i;t.default=function(e){if(!a.test(e))return!1;var t=e.split("."),n=Number(t[0]);if(isNaN(n)||n>255||n<0)return!1;var i=Number(t[1]);if(isNaN(i)||i>255||i<0)return!1;var r=Number(t[2]);if(isNaN(r)||r>255||r<0)return!1;var s=Number((t[3].match(/^\d+/)||[])[0]);if(isNaN(s)||s>255||s<0)return!1;var l=(t[3].match(/(^\d+)(:)(\d+)/)||[])[3];return!(l&&!o.isPort(l))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),i=/^(https?:\/\/|ftps?:\/\/)?([a-z0-9%\-]+\.){1,}([a-z0-9\-]+)?(:(\d{1,5}))?(\/([a-z0-9\-._~:\/\?#\[\]@!$&'\(\)\*\+,;=%]+)?)?$/i;t.default=function(e){var t=e.match(i);return null!==t&&"string"==typeof t[3]&&-1!==a.tlds.indexOf(t[3].toLowerCase())&&!(t[5]&&!o.isPort(t[5]))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);t.separate=function(e){var t=e.replace(/([\s\(\)\[\]<>"'])/g,"\0$1\0").replace(/([?;:,.!]+)(?=(\0|$|\s))/g,"\0$1\0").split("\0");return o.default(t)},t.deSeparate=function(e){return e.join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return 0===(e=e.toLowerCase()).indexOf("http://")?"http://":0===e.indexOf("https://")?"https://":0===e.indexOf("ftp://")?"ftp://":0===e.indexOf("ftps://")?"ftps://":0===e.indexOf("file:///")?"file:///":0===e.indexOf("mailto:")&&"mailto:"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(9),n(10);const o=n(2),a=n(11),i=n(12),r=n(13),s=n(20);class l{constructor(e,t){this._classPrefix="tr",this._tour=e,"string"==typeof t&&(t=document.querySelector(t)),this._dom=t,this._init()}get panos(){return this._panos}destroy(){this._viewer.destroy()}selectPOVInViewer(){if(!this._isLoaded)return Promise.reject(new Error("viewer not loaded"));return this._isSelectingPOV=!0,this._selectPOVDeferred=new i.default,this.toggleControls(!1),this._dom.classList.add(this._createClass("selecting-pov")),this._selectPOVDeferred.promise.then(()=>{this.toggleControls(!0),this._dom.classList.remove(this._createClass("selecting-pov"))}),this._selectPOVDeferred.promise}toggleControls(e){this._dom.querySelector(".pnlm-controls-container").classList.toggle(this._createClass("hide"),!e),this._dom.querySelector(".pnlm-panorama-info").classList.toggle(this._createClass("hide"),!e)}addDOM(e){this._dom.appendChild(e)}deleteDOM(e){this._dom.removeChild(e)}addOverlay(e,t){const n={id:a.generateId(),pitch:t.pitch,yaw:t.yaw,type:"info",createTooltipFunc:t=>o.render(e,t)};this._viewer.addHotSpot(n)}deleteOverlay(e){let t;t="object"==typeof e?e.id:e,this._viewer.removeHotSpot(t)}forceToRender(){this._viewer.setYaw(this._viewer.getYaw())}addInfoElement(e){let{id:t,title:n,description:i,POV:s,isEdit:l}=e;t=t||a.generateId(),i=i||"Description",n=n||"Title",l="boolean"==typeof l&&l;const c=this.getPano(),d={id:t,POV:s,title:n,description:i,infoElement:o.h(r.default,{isEdit:l,classPrefix:this._classPrefix,title:n,description:i,id:t})};c.infos.add(d),this._addInfo(d)}deleteInfoElement(e){const t=this.getPano();"string"==typeof e&&(e=t.infos.get(e)),t.infos.delete(e),this.deleteOverlay(e)}getPano(e=this._viewer.getScene()){return this._panos.get(e)}getCurrentPano(){return this.getPano()}getPOV(){const e={pitch:0,yaw:0};return this._viewer&&(e.yaw=this._viewer.getYaw(),e.pitch=this._viewer.getPitch()),e}deleteLink(e){const t=this.getPano();"string"==typeof e&&(e=t.links.get(e)),t.links.delete(e.id),this._viewer.removeHotSpot(e.id)}createLinkTo(e,t=this.getPOV(),n={pitch:0,yaw:0}){if(!this._isLoaded)return console.info("Viewer not loaded");if("object"!=typeof e&&(e=this.getPano(e)),!e)throw new Error("parameter missing: pano");const o={POV:t,id:a.generateId(),targetPOV:n,to:e},i=this.getCurrentPano();i.links.add(o),this._addLink(o);const r=new CustomEvent("newLink",{detail:o});this._dom.dispatchEvent(r)}_init(){this._processTour(),this._initViewer(),this._setListeners()}_initViewer(){const e={autoLoad:!1,default:{firstScene:this._first.id,pitch:0,sceneFadeDuration:1e3,yaw:0},hfov:120,scenes:this._pannellumPanos.table,showControls:!0};this._preview&&(e.preview=this._preview.url),this._viewer=pannellum.viewer(this._dom,e)}_createClass(e){return`${this._classPrefix}-${e}`}_processPanos(){this._panos=new s.default(this._tour.photoSpheres.map(e=>({id:e.id,infoElements:new s.default(e.infoElements),name:e.name,POV:e.POV,url:e.link}))),this._tour.photoSpheres.forEach(e=>{const t=this._panos.get(e.id);t.links=new s.default(e.links.map(this._transformToLink.bind(this))),t.infos=new s.default(e.infoElements.map(this._transformToInfo.bind(this)))}),this._pannellumPanos=new s.default(this._panos.array.map(this._transformToPannellumPano.bind(this)))}_processTour(){const e=this._tour.images&&this._tour.images[0];e&&(this._preview={url:e.link,name:e.name,id:e.id}),this._name=this._tour.name,this._description=this._tour.description,this._processPanos(),this._tour.firstPhotoSphereId?(this._first=this._panos.get(this._tour.firstPhotoSphereId),this._first.POV=this._tour.POV):(this._first=this._panos.get(),this._first.POV={pitch:0,yaw:0})}_setListeners(){this._viewer.on("load",this._onLoadPano.bind(this)),this._viewer.on("mousedown",this._onClick.bind(this)),this._viewer.on("touchstart",this._onClick.bind(this)),this._dom.addEventListener(r.default.EVENTS.TOGGLE_INFO_ELEMENT,this.forceToRender.bind(this)),this._dom.addEventListener(r.default.EVENTS.UPDATE_INFO_ELEMENT,this._updateInfoListener.bind(this)),this._dom.addEventListener(r.default.EVENTS.DELETE_INFO_ELEMENT,this._deleteInfoListener.bind(this))}_deleteInfoListener(e){const t=e.detail;this.deleteInfoElement(t.id)}_updateInfoListener(e){const t=e.detail,n=this.getPano().infos.get(t.id);n.title=t.title,n.description=t.title}_onClick(e){if(!this._isSelectingPOV)return;const t=e.targetTouches&&e.targetTouches[0]||e,n=this._viewer.mouseEventToCoords(t),o={pitch:n[0],yaw:n[1]};this._isSelectingPOV=!1,this._selectPOVDeferred.resolve(o),this._selectPOVDeferred=null}_onLoadPano(e){this._isLoaded=!0,this._setLinks(),this._setInfos();const t=new Event("load");this._dom.dispatchEvent(t)}_setLinks(){const e=this.getCurrentPano().links;e.array.forEach(e=>{this._addLink(e)})}_setInfos(){const e=this.getCurrentPano().infos;e.array.forEach(e=>{this._addInfo(e)})}_addInfo(e){this._viewer.addHotSpot(this._transformToPannellumOverlay(e))}_addLink(e){this._viewer.addHotSpot(this._transformToPannellumLink(e))}_transformToLink(e){const t=this._panos.get(e.toPhotoSphereId);return{POV:e.POV,id:e.id,targetPOV:e.targetPOV,to:t}}_transformToInfo(e){const{POV:t,id:n,name:a,description:i}=e;return{title:a,description:i,POV:t,id:n,infoElement:o.h(r.default,{classPrefix:this._classPrefix,id:n,title:a,description:i})}}_transformToPannellumOverlay(e){return{id:e.id,pitch:e.POV.pitch,yaw:e.POV.yaw,type:"info",cssClass:"n",createTooltipFunc:t=>o.render(e.infoElement,t)}}_transformToPannellumLink(e){return{id:e.id,pitch:e.POV.pitch,sceneId:e.to.id,targetPitch:e.targetPOV.pitch,targetYaw:e.targetPOV.yaw,text:e.to.name,type:"scene",yaw:e.POV.yaw}}_transformToPannellumPano(e){const t={id:e.id,panorama:e.url,title:e.name,type:"equirectangular"};return e.POV&&(t.pitch=e.POV.pitch,t.yaw=e.POV.yaw),e.links&&e.links.length,t}}l.EVENTS=Object.assign({},r.default.EVENTS,{CREATE_INFO_ELEMENT:"CREATE_INFO_ELEMENT",CREATE_LINK:"CREATE_LINK",DELETE_LINK:"DELETE_LINK"}),t.default=l},function(e,t){},function(e,t){window.libpannellum=function(e,t,n){"use strict";function o(o){var r,d,u,h,p,f,m,v,g,b,y,x,w,_,E,P=t.createElement("canvas");function k(e,t){return 1==e.level&&1!=t.level?-1:1==t.level&&1!=e.level?1:t.timestamp-e.timestamp}function M(e,t){return e.level!=t.level?e.level-t.level:e.diff-t.diff}function T(e,t,n,o,a,i){this.vertices=e,this.side=t,this.level=n,this.x=o,this.y=a,this.path=i.replace("%s",t).replace("%l",n).replace("%x",o).replace("%y",a)}function L(e,t,n,o,a){if(function(e,t){var n=I(e,t.slice(0,3)),o=I(e,t.slice(3,6)),a=I(e,t.slice(6,9)),i=I(e,t.slice(9,12)),r=n[0]+o[0]+a[0]+i[0];if(-4==r||4==r)return!1;var s=n[1]+o[1]+a[1]+i[1];return-4!=s&&4!=s&&n[2]+o[2]+a[2]+i[2]!=4}(e,t.vertices)){var i=t.vertices,s=i[0]+i[3]+i[6]+i[9],l=i[1]+i[4]+i[7]+i[10],c=i[2]+i[5]+i[8]+i[11],d=Math.sqrt(s*s+l*l+c*c),u=Math.asin(c/d),h=Math.atan2(l,s)-o;h+=h>Math.PI?-2*Math.PI:h<-Math.PI?2*Math.PI:0,h=Math.abs(h),t.diff=Math.acos(Math.sin(n)*Math.sin(u)+Math.cos(n)*Math.cos(u)*Math.cos(h));for(var p=!1,f=0;f<r.nodeCache.length;f++)if(r.nodeCache[f].path==t.path){p=!0,r.nodeCache[f].timestamp=r.nodeCacheTimestamp++,r.nodeCache[f].diff=t.diff,r.currentNodes.push(r.nodeCache[f]);break}if(p||(t.timestamp=r.nodeCacheTimestamp++,r.currentNodes.push(t),r.nodeCache.push(t)),t.level<r.level){var m=g.cubeResolution*Math.pow(2,t.level-g.maxLevel),v=Math.ceil(m*g.invTileResolution)-1,b=m%g.tileResolution*2,y=2*m%g.tileResolution;0===y&&(y=g.tileResolution),0===b&&(b=2*g.tileResolution);var x=.5;t.x!=v&&t.y!=v||(x=1-g.tileResolution/(g.tileResolution+y));var w,_=1-x,E=[],P=x,k=x,M=x,R=_,C=_,O=_;y<g.tileResolution&&(t.x==v&&t.y!=v?(k=.5,C=.5,"d"!=t.side&&"u"!=t.side||(M=.5,O=.5)):t.x!=v&&t.y==v&&(P=.5,R=.5,"l"!=t.side&&"r"!=t.side||(M=.5,O=.5))),b<=g.tileResolution&&(t.x==v&&(P=0,R=1,"l"!=t.side&&"r"!=t.side||(M=0,O=1)),t.y==v&&(k=0,C=1,"d"!=t.side&&"u"!=t.side||(M=0,O=1))),w=new T([i[0],i[1],i[2],i[0]*P+i[3]*R,i[1]*x+i[4]*_,i[2]*M+i[5]*O,i[0]*P+i[6]*R,i[1]*k+i[7]*C,i[2]*M+i[8]*O,i[0]*x+i[9]*_,i[1]*k+i[10]*C,i[2]*M+i[11]*O],t.side,t.level+1,2*t.x,2*t.y,g.fullpath),E.push(w),t.x==v&&b<=g.tileResolution||(w=new T([i[0]*P+i[3]*R,i[1]*x+i[4]*_,i[2]*M+i[5]*O,i[3],i[4],i[5],i[3]*x+i[6]*_,i[4]*k+i[7]*C,i[5]*M+i[8]*O,i[0]*P+i[6]*R,i[1]*k+i[7]*C,i[2]*M+i[8]*O],t.side,t.level+1,2*t.x+1,2*t.y,g.fullpath),E.push(w)),t.x==v&&b<=g.tileResolution||t.y==v&&b<=g.tileResolution||(w=new T([i[0]*P+i[6]*R,i[1]*k+i[7]*C,i[2]*M+i[8]*O,i[3]*x+i[6]*_,i[4]*k+i[7]*C,i[5]*M+i[8]*O,i[6],i[7],i[8],i[9]*P+i[6]*R,i[10]*x+i[7]*_,i[11]*M+i[8]*O],t.side,t.level+1,2*t.x+1,2*t.y+1,g.fullpath),E.push(w)),t.y==v&&b<=g.tileResolution||(w=new T([i[0]*x+i[9]*_,i[1]*k+i[10]*C,i[2]*M+i[11]*O,i[0]*P+i[6]*R,i[1]*k+i[7]*C,i[2]*M+i[8]*O,i[9]*P+i[6]*R,i[10]*x+i[7]*_,i[11]*M+i[8]*O,i[9],i[10],i[11]],t.side,t.level+1,2*t.x,2*t.y+1,g.fullpath),E.push(w));for(var N=0;N<E.length;N++)L(e,E[N],n,o,a)}}}function R(e,t,n){var o=Math.sin(t),a=Math.cos(t);return"x"==n?[e[0],a*e[1]+o*e[2],a*e[2]-o*e[1],e[3],a*e[4]+o*e[5],a*e[5]-o*e[4],e[6],a*e[7]+o*e[8],a*e[8]-o*e[7]]:"y"==n?[a*e[0]-o*e[2],e[1],a*e[2]+o*e[0],a*e[3]-o*e[5],e[4],a*e[5]+o*e[3],a*e[6]-o*e[8],e[7],a*e[8]+o*e[6]]:"z"==n?[a*e[0]+o*e[1],a*e[1]-o*e[0],e[2],a*e[3]+o*e[4],a*e[4]-o*e[3],e[5],a*e[6]+o*e[7],a*e[7]-o*e[6],e[8]]:void 0}function C(e){return[e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]]}P.style.width=P.style.height="100%",o.appendChild(P),this.init=function(e,k,M,T,L,R,C,O){if(typeof k===n&&(k="equirectangular"),"equirectangular"!=k&&"cubemap"!=k&&"multires"!=k)throw console.log("Error: invalid image type specified!"),{type:"config error"};if(b=k,g=e,y=M,r){if(u&&(d.detachShader(r,u),d.deleteShader(u)),h&&(d.detachShader(r,h),d.deleteShader(h)),d.bindBuffer(d.ARRAY_BUFFER,null),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,null),r.texture&&d.deleteTexture(r.texture),r.nodeCache)for(var N=0;N<r.nodeCache.length;N++)d.deleteTexture(r.nodeCache[N].texture);d.deleteProgram(r),r=n}var I;if(v=n,"cubemap"==b&&0!=(g[0].width&g[0].width-1)&&(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 10_/)||navigator.userAgent.match(/Trident.*rv[ :]*11\./))||(d||(d=P.getContext("experimental-webgl",{alpha:!1,depth:!1})),d&&1286==d.getError()&&S()),!d&&("multires"==b&&g.hasOwnProperty("fallbackPath")||"cubemap"==b)&&("WebkitAppearance"in t.documentElement.style||navigator.userAgent.match(/Trident.*rv[ :]*11\./)||-1!==navigator.appVersion.indexOf("MSIE 10"))){var A;f&&o.removeChild(f),(f=t.createElement("div")).className="pnlm-world",A=g.basePath?g.basePath+g.fallbackPath:g.fallbackPath;var z=["f","r","b","l","u","d"],D=0,F=function(){var e=t.createElement("canvas");e.className="pnlm-face pnlm-"+z[this.side]+"face",f.appendChild(e);var n=e.getContext("2d");e.style.width=this.width+4+"px",e.style.height=this.height+4+"px",e.width=this.width+4,e.height=this.height+4,n.drawImage(this,2,2);var a,i,r=n.getImageData(0,0,e.width,e.height),s=r.data;for(a=2;a<e.width-2;a++)for(i=0;i<4;i++)s[4*(a+e.width)+i]=s[4*(a+2*e.width)+i],s[4*(a+e.width*(e.height-2))+i]=s[4*(a+e.width*(e.height-3))+i];for(a=2;a<e.height-2;a++)for(i=0;i<4;i++)s[4*(a*e.width+1)+i]=s[4*(a*e.width+2)+i],s[4*((a+1)*e.width-2)+i]=s[4*((a+1)*e.width-3)+i];for(i=0;i<4;i++)s[4*(e.width+1)+i]=s[4*(2*e.width+2)+i],s[4*(2*e.width-2)+i]=s[4*(3*e.width-3)+i],s[4*(e.width*(e.height-2)+1)+i]=s[4*(e.width*(e.height-3)+2)+i],s[4*(e.width*(e.height-1)-2)+i]=s[4*(e.width*(e.height-2)-3)+i];for(a=1;a<e.width-1;a++)for(i=0;i<4;i++)s[4*a+i]=s[4*(a+e.width)+i],s[4*(a+e.width*(e.height-1))+i]=s[4*(a+e.width*(e.height-2))+i];for(a=1;a<e.height-1;a++)for(i=0;i<4;i++)s[a*e.width*4+i]=s[4*(a*e.width+1)+i],s[4*((a+1)*e.width-1)+i]=s[4*((a+1)*e.width-2)+i];for(i=0;i<4;i++)s[i]=s[4*(e.width+1)+i],s[4*(e.width-1)+i]=s[4*(2*e.width-2)+i],s[e.width*(e.height-1)*4+i]=s[4*(e.width*(e.height-2)+1)+i],s[4*(e.width*e.height-1)+i]=s[4*(e.width*(e.height-1)-2)+i];n.putImageData(r,0,0),6==++D&&(p=this.width,o.appendChild(f),C())};for(I=0;I<6;I++){var U=new Image;U.crossOrigin="anonymous",U.side=I,U.onload=F,U.src="multires"==b?encodeURI(A.replace("%s",z[I])+"."+g.extension):encodeURI(g[I].src)}}else{if(!d)throw console.log("Error: no WebGL support detected!"),{type:"no webgl"};g.basePath?g.fullpath=g.basePath+g.path:g.fullpath=g.path,g.invTileResolution=1/g.tileResolution;var j,H,B=[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1];for(m=[],I=0;I<6;I++)m[I]=B.slice(12*I,12*I+12),B=[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1];if("equirectangular"==b){if((j=Math.max(g.width,g.height))>(H=d.getParameter(d.MAX_TEXTURE_SIZE)))throw console.log("Error: The image is too big; it's "+j+"px wide, but this device's maximum supported width is "+H+"px."),{type:"webgl size error",width:j,maxWidth:H}}else if("cubemap"==b&&(j=g[0].width)>(H=d.getParameter(d.MAX_CUBE_MAP_TEXTURE_SIZE)))throw console.log("Error: The cube face image is too big; it's "+j+"px wide, but this device's maximum supported width is "+H+"px."),{type:"webgl size error",width:j,maxWidth:H};O===n||O.horizonPitch===n&&O.horizonRoll===n||(v=[O.horizonPitch==n?0:O.horizonPitch,O.horizonRoll==n?0:O.horizonRoll]);var q=d.TEXTURE_2D;d.viewport(0,0,d.drawingBufferWidth,d.drawingBufferHeight),u=d.createShader(d.VERTEX_SHADER);var G=a;"multires"==b&&(G=i),d.shaderSource(u,G),d.compileShader(u),h=d.createShader(d.FRAGMENT_SHADER);var V=l;if("cubemap"==b?(q=d.TEXTURE_CUBE_MAP,V=s):"multires"==b&&(V=c),d.shaderSource(h,V),d.compileShader(h),r=d.createProgram(),d.attachShader(r,u),d.attachShader(r,h),d.linkProgram(r),d.getShaderParameter(u,d.COMPILE_STATUS)||console.log(d.getShaderInfoLog(u)),d.getShaderParameter(h,d.COMPILE_STATUS)||console.log(d.getShaderInfoLog(h)),d.getProgramParameter(r,d.LINK_STATUS)||console.log(d.getProgramInfoLog(r)),d.useProgram(r),r.drawInProgress=!1,r.texCoordLocation=d.getAttribLocation(r,"a_texCoord"),d.enableVertexAttribArray(r.texCoordLocation),"multires"!=b){if(x||(x=d.createBuffer()),d.bindBuffer(d.ARRAY_BUFFER,x),d.bufferData(d.ARRAY_BUFFER,new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),d.STATIC_DRAW),d.vertexAttribPointer(r.texCoordLocation,2,d.FLOAT,!1,0,0),r.aspectRatio=d.getUniformLocation(r,"u_aspectRatio"),d.uniform1f(r.aspectRatio,P.clientWidth/P.clientHeight),r.psi=d.getUniformLocation(r,"u_psi"),r.theta=d.getUniformLocation(r,"u_theta"),r.f=d.getUniformLocation(r,"u_f"),r.h=d.getUniformLocation(r,"u_h"),r.v=d.getUniformLocation(r,"u_v"),r.vo=d.getUniformLocation(r,"u_vo"),r.rot=d.getUniformLocation(r,"u_rot"),d.uniform1f(r.h,T/(2*Math.PI)),d.uniform1f(r.v,L/Math.PI),d.uniform1f(r.vo,R/Math.PI*2),"equirectangular"==b){r.backgroundColor=d.getUniformLocation(r,"u_backgroundColor");var W=O.backgroundColor?O.backgroundColor:[0,0,0];d.uniform4fv(r.backgroundColor,W.concat([1]))}r.texture=d.createTexture(),d.bindTexture(q,r.texture),"cubemap"==b?(d.texImage2D(d.TEXTURE_CUBE_MAP_POSITIVE_X,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,g[1]),d.texImage2D(d.TEXTURE_CUBE_MAP_NEGATIVE_X,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,g[3]),d.texImage2D(d.TEXTURE_CUBE_MAP_POSITIVE_Y,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,g[4]),d.texImage2D(d.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,g[5]),d.texImage2D(d.TEXTURE_CUBE_MAP_POSITIVE_Z,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,g[0]),d.texImage2D(d.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,g[2])):d.texImage2D(q,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,g),d.texParameteri(q,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(q,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(q,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(q,d.TEXTURE_MAG_FILTER,d.LINEAR)}else r.vertPosLocation=d.getAttribLocation(r,"a_vertCoord"),d.enableVertexAttribArray(r.vertPosLocation),w||(w=d.createBuffer()),_||(_=d.createBuffer()),E||(E=d.createBuffer()),d.bindBuffer(d.ARRAY_BUFFER,_),d.bufferData(d.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),d.STATIC_DRAW),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,E),d.bufferData(d.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),d.STATIC_DRAW),r.perspUniform=d.getUniformLocation(r,"u_perspMatrix"),r.cubeUniform=d.getUniformLocation(r,"u_cubeMatrix"),r.level=-1,r.currentNodes=[],r.nodeCache=[],r.nodeCacheTimestamp=0;var Y=d.getError();if(0!==Y)throw console.log("Error: Something went wrong with WebGL!",Y),{type:"webgl error"};C()}},this.destroy=function(){if(o!==n&&(P!==n&&o.contains(P)&&o.removeChild(P),f!==n&&o.contains(f)&&o.removeChild(f)),d){var e=d.getExtension("WEBGL_lose_context");e&&e.loseContext()}},this.resize=function(){var t=e.devicePixelRatio||1;P.width=P.clientWidth*t,P.height=P.clientHeight*t,d&&(1286==d.getError()&&S(),d.viewport(0,0,d.drawingBufferWidth,d.drawingBufferHeight),"multires"!=b&&d.uniform1f(r.aspectRatio,P.clientWidth/P.clientHeight))},this.resize(),this.setPose=function(e,t){v=[e,t]},this.render=function(e,t,o,a){var i,s,l=0;if(a===n&&(a={}),a.roll&&(l=a.roll),v!==n){var c=v[0],u=v[1],h=e,x=t,E=Math.cos(u)*Math.sin(e)*Math.sin(c)+Math.cos(e)*(Math.cos(c)*Math.cos(t)+Math.sin(u)*Math.sin(c)*Math.sin(t)),O=-Math.sin(e)*Math.sin(u)+Math.cos(e)*Math.cos(u)*Math.sin(t),I=Math.cos(u)*Math.cos(c)*Math.sin(e)+Math.cos(e)*(-Math.cos(t)*Math.sin(c)+Math.cos(c)*Math.sin(u)*Math.sin(t));e=Math.asin(Math.max(Math.min(I,1),-1)),t=Math.atan2(O,E);var S=[Math.cos(h)*(Math.sin(u)*Math.sin(c)*Math.cos(x)-Math.cos(c)*Math.sin(x)),Math.cos(h)*Math.cos(u)*Math.cos(x),Math.cos(h)*(Math.cos(c)*Math.sin(u)*Math.cos(x)+Math.sin(x)*Math.sin(c))],A=[-Math.cos(e)*Math.sin(t),Math.cos(e)*Math.cos(t)],z=Math.acos(Math.max(Math.min((S[0]*A[0]+S[1]*A[1])/(Math.sqrt(S[0]*S[0]+S[1]*S[1]+S[2]*S[2])*Math.sqrt(A[0]*A[0]+A[1]*A[1])),1),-1));S[2]<0&&(z=2*Math.PI-z),l+=z}if(d||"multires"!=b&&"cubemap"!=b){if("multires"!=b){var D=2*Math.atan(Math.tan(.5*o)/(P.clientWidth/P.clientHeight));i=1/Math.tan(.5*D),d.uniform1f(r.psi,t),d.uniform1f(r.theta,e),d.uniform1f(r.rot,l),d.uniform1f(r.f,i),!0===y&&"equirectangular"==b&&(d.bindTexture(d.TEXTURE_2D,r.texture),d.texImage2D(d.TEXTURE_2D,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,g)),d.drawArrays(d.TRIANGLES,0,6)}else{var F=(Y=o,X=P.clientWidth/P.clientHeight,$=.1,Z=100,K=2*Math.atan(Math.tan(Y/2)*P.clientHeight/P.clientWidth),[(J=1/Math.tan(K/2))/X,0,0,0,0,J,0,0,0,0,(Z+$)/($-Z),2*Z*$/($-Z),0,0,-1,0]);!function(e){var t=1;for(;t<g.maxLevel&&P.width>g.tileResolution*Math.pow(2,t-1)*Math.tan(e/2)*.707;)t++;r.level=t}(o);var U=[1,0,0,0,1,0,0,0,1];U=R(U=R(U=R(U,-l,"z"),-e,"x"),t,"y"),U=[(W=U)[0],W[1],W[2],0,W[3],W[4],W[5],0,W[6],W[7],W[8],0,0,0,0,1],d.uniformMatrix4fv(r.perspUniform,!1,new Float32Array(C(F))),d.uniformMatrix4fv(r.cubeUniform,!1,new Float32Array(C(U)));var j=[(G=F)[0]*(V=U)[0],G[0]*V[1],G[0]*V[2],0,G[5]*V[4],G[5]*V[5],G[5]*V[6],0,G[10]*V[8],G[10]*V[9],G[10]*V[10],G[11],-V[8],-V[9],-V[10],0];if(r.nodeCache.sort(k),r.nodeCache.length>200&&r.nodeCache.length>r.currentNodes.length+50)for(var H=r.nodeCache.splice(200,r.nodeCache.length-200),B=0;B<H.length;B++)d.deleteTexture(H[B].texture);r.currentNodes=[];var q=["f","b","u","d","l","r"];for(s=0;s<6;s++){L(j,new T(m[s],q[s],1,0,0,g.fullpath),e,t,o)}for(r.currentNodes.sort(M),B=0;B<r.currentNodes.length;B++)if(!r.currentNodes[B].texture){setTimeout(N,0,r.currentNodes[B]);break}!function(){if(!r.drawInProgress){r.drawInProgress=!0;for(var e=0;e<r.currentNodes.length;e++)r.currentNodes[e].textureLoaded&&(d.bindBuffer(d.ARRAY_BUFFER,w),d.bufferData(d.ARRAY_BUFFER,new Float32Array(r.currentNodes[e].vertices),d.STATIC_DRAW),d.vertexAttribPointer(r.vertPosLocation,3,d.FLOAT,!1,0,0),d.bindBuffer(d.ARRAY_BUFFER,_),d.vertexAttribPointer(r.texCoordLocation,2,d.FLOAT,!1,0,0),d.bindTexture(d.TEXTURE_2D,r.currentNodes[e].texture),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0));r.drawInProgress=!1}}()}var G,V,W,Y,X,$,Z,K,J;if(a.returnImage!==n)return P.toDataURL("image/png")}else{var Q={f:"translate3d(-"+((s=p/2)+2)+"px, -"+(s+2)+"px, -"+s+"px)",b:"translate3d("+(s+2)+"px, -"+(s+2)+"px, "+s+"px) rotateX(180deg) rotateZ(180deg)",u:"translate3d(-"+(s+2)+"px, -"+s+"px, "+(s+2)+"px) rotateX(270deg)",d:"translate3d(-"+(s+2)+"px, "+s+"px, -"+(s+2)+"px) rotateX(90deg)",l:"translate3d(-"+s+"px, -"+(s+2)+"px, "+(s+2)+"px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)",r:"translate3d("+s+"px, -"+(s+2)+"px, -"+(s+2)+"px) rotateY(270deg)"},ee=(i=1/Math.tan(o/2))*P.clientWidth/2+"px",te="perspective("+ee+") translateZ("+ee+") rotateX("+e+"rad) rotateY("+t+"rad) ",ne=Object.keys(Q);for(B=0;B<6;B++){var oe=f.querySelector(".pnlm-"+ne[B]+"face").style;oe.webkitTransform=te+Q[ne[B]],oe.transform=te+Q[ne[B]]}}},this.isLoading=function(){if(d&&"multires"==b)for(var e=0;e<r.currentNodes.length;e++)if(!r.currentNodes[e].textureLoaded)return!0;return!1},this.getCanvas=function(){return P};var O=function(){var e=4,t={},n=[];function o(){var o=this;this.texture=this.callback=null,this.image=new Image,this.image.crossOrigin="anonymous",this.image.addEventListener("load",function(){var a,i;a=o.image,i=o.texture,d.bindTexture(d.TEXTURE_2D,i),d.texImage2D(d.TEXTURE_2D,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,a),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.bindTexture(d.TEXTURE_2D,null),o.callback(o.texture),function(o){if(n.length){var a=n.shift();o.loadTexture(a.src,a.texture,a.callback)}else t[e++]=o}(o)})}o.prototype.loadTexture=function(e,t,n){this.texture=t,this.callback=n,this.image.src=e};for(var a=0;a<e;a++)t[a]=new o;return function(o,a){var i=d.createTexture();return e?t[--e].loadTexture(o,i,a):n.push(new function(e,t,n){this.src=e,this.texture=t,this.callback=n}(o,i,a)),i}}();function N(e){e.textureLoad||(e.textureLoad=!0,O(encodeURI(e.path+"."+g.extension),function(t){e.texture=t,e.textureLoaded=!0}))}function I(e,t){var n,o,a=(o=t,[(n=e)[0]*o[0]+n[1]*o[1]+n[2]*o[2],n[4]*o[0]+n[5]*o[1]+n[6]*o[2],n[11]+n[8]*o[0]+n[9]*o[1]+n[10]*o[2],1/(n[12]*o[0]+n[13]*o[1]+n[14]*o[2])]),i=a[0]*a[3],r=a[1]*a[3],s=a[2]*a[3],l=[0,0,0];return i<-1&&(l[0]=-1),i>1&&(l[0]=1),r<-1&&(l[1]=-1),r>1&&(l[1]=1),(s<-1||s>1)&&(l[2]=1),l}function S(){console.log("Reducing canvas size due to error 1286!"),P.width=Math.round(P.width/2),P.height=Math.round(P.height/2)}}var a=["attribute vec2 a_texCoord;","varying vec2 v_texCoord;","void main() {","gl_Position = vec4(a_texCoord, 0.0, 1.0);","v_texCoord = a_texCoord;","}"].join(""),i=["attribute vec3 a_vertCoord;","attribute vec2 a_texCoord;","uniform mat4 u_cubeMatrix;","uniform mat4 u_perspMatrix;","varying mediump vec2 v_texCoord;","void main(void) {","gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);","v_texCoord = a_texCoord;","}"].join(""),r=["precision mediump float;","uniform float u_aspectRatio;","uniform float u_psi;","uniform float u_theta;","uniform float u_f;","uniform float u_h;","uniform float u_v;","uniform float u_vo;","uniform float u_rot;","const float PI = 3.14159265358979323846264;","uniform sampler2D u_image;","uniform samplerCube u_imageCube;","varying vec2 v_texCoord;","uniform vec4 u_backgroundColor;","void main() {","float x = v_texCoord.x * u_aspectRatio;","float y = v_texCoord.y;","float sinrot = sin(u_rot);","float cosrot = cos(u_rot);","float rot_x = x * cosrot - y * sinrot;","float rot_y = x * sinrot + y * cosrot;","float sintheta = sin(u_theta);","float costheta = cos(u_theta);","float a = u_f * costheta - rot_y * sintheta;","float root = sqrt(rot_x * rot_x + a * a);","float lambda = atan(rot_x / root, a / root) + u_psi;","float phi = atan((rot_y * costheta + u_f * sintheta) / root);"].join("\n"),s=r+["float cosphi = cos(phi);","gl_FragColor = textureCube(u_imageCube, vec3(cosphi*sin(lambda), sin(phi), cosphi*cos(lambda)));","}"].join("\n"),l=r+["lambda = mod(lambda + PI, PI * 2.0) - PI;","vec2 coord = vec2(lambda / PI, phi / (PI / 2.0));","if(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)","gl_FragColor = u_backgroundColor;","else","gl_FragColor = texture2D(u_image, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));","}"].join("\n"),c=["varying mediump vec2 v_texCoord;","uniform sampler2D u_sampler;","void main(void) {","gl_FragColor = texture2D(u_sampler, v_texCoord);","}"].join("");return{renderer:function(e,t,n,a){return new o(e,t,n,a)}}}(window,document),window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}),window.pannellum=function(e,t,n){"use strict";function o(o,a){var i,r,s,l,c,d,u,h,p=this,f=!1,m=Date.now(),v=0,g=0,b=-1,y=0,x=0,w=new Array(10),_=!1,E=!1,P=!1,k=!1,M={yaw:0,pitch:0,hfov:0},T=!1,L=!1,R=0,C=0,O={},N={},I=[],S=!1,A=!1,z={hfov:100,minHfov:50,maxHfov:120,pitch:0,minPitch:n,maxPitch:n,yaw:0,minYaw:-180,maxYaw:180,roll:0,haov:360,vaov:180,vOffset:0,autoRotate:!1,autoRotateInactivityDelay:-1,autoRotateStopDelay:n,type:"equirectangular",northOffset:0,showFullscreenCtrl:!0,dynamic:!1,doubleClickZoom:!0,keyboardZoom:!0,mouseZoom:!0,showZoomCtrl:!0,autoLoad:!1,showControls:!0,orientationOnByDefault:!1,hotSpotDebug:!1,backgroundColor:[0,0,0],animationTimingFunction:function(e){return e<.5?2*e*e:(4-2*e)*e-1},draggable:!0};z.strings={loadButtonLabel:"Click to<br>Load<br>Panorama",loadingLabel:"Loading...",bylineLabel:"by %s",noPanoramaError:"No panorama image was specified.",fileAccessError:"The file %s could not be accessed.",malformedURLError:"There is something wrong with the panorama URL.",iOS8WebGLError:"Due to iOS 8's broken WebGL implementation, only progressive encoded JPEGs work for your device (this panorama uses standard encoding).",genericWebGLError:"Your browser does not have the necessary WebGL support to display this panorama.",textureSizeError:"This panorama is too big for your device! It's %spx wide, but your device only supports images up to %spx wide. Try another device. (If you're the author, try scaling down the image.)",unknownError:"Unknown error. Check developer console."};var D=[16,17,27,37,38,39,40,61,65,68,83,87,107,109,173,187,189];(o="string"==typeof o?t.getElementById(o):o).classList.add("pnlm-container"),o.tabIndex=0;var F=t.createElement("div");F.className="pnlm-ui",o.appendChild(F);var U=t.createElement("div");U.className="pnlm-render-container",o.appendChild(U);var j=t.createElement("div");j.className="pnlm-dragfix",F.appendChild(j);var H=t.createElement("span");H.className="pnlm-about-msg",H.innerHTML='<a href="https://pannellum.org/" target="_blank">Pannellum</a> 7617f97',F.appendChild(H),j.addEventListener("contextmenu",function e(t){var n=J(t);H.style.left=n.x+"px";H.style.top=n.y+"px";clearTimeout(e.t1);clearTimeout(e.t2);H.style.display="block";H.style.opacity=1;e.t1=setTimeout(function(){H.style.opacity=0},2e3);e.t2=setTimeout(function(){H.style.display="none"},2500);t.preventDefault()});var B={},q=t.createElement("div");q.className="pnlm-sprite pnlm-hot-spot-debug-indicator",F.appendChild(q),B.container=t.createElement("div"),B.container.className="pnlm-panorama-info",B.title=t.createElement("div"),B.title.className="pnlm-title-box",B.container.appendChild(B.title),B.author=t.createElement("div"),B.author.className="pnlm-author-box",B.container.appendChild(B.author),F.appendChild(B.container),B.load={},B.load.box=t.createElement("div"),B.load.box.className="pnlm-load-box",B.load.box.innerHTML='<p class="pnlm-loading-title"></p>',B.load.lbox=t.createElement("div"),B.load.lbox.className="pnlm-lbox",B.load.lbox.innerHTML='<div class="pnlm-loading"></div>',B.load.box.appendChild(B.load.lbox),B.load.lbar=t.createElement("div"),B.load.lbar.className="pnlm-lbar",B.load.lbarFill=t.createElement("div"),B.load.lbarFill.className="pnlm-lbar-fill",B.load.lbar.appendChild(B.load.lbarFill),B.load.box.appendChild(B.load.lbar),B.load.msg=t.createElement("p"),B.load.msg.className="pnlm-lmsg",B.load.box.appendChild(B.load.msg),F.appendChild(B.load.box),B.errorMsg=t.createElement("div"),B.errorMsg.className="pnlm-error-msg pnlm-info-box",F.appendChild(B.errorMsg);var G={};G.container=t.createElement("div"),G.container.className="pnlm-controls-container",F.appendChild(G.container),G.load=t.createElement("div"),G.load.className="pnlm-load-button",G.load.addEventListener("click",function(){Re(),Ae()}),F.appendChild(G.load),G.zoom=t.createElement("div"),G.zoom.className="pnlm-zoom-controls pnlm-controls",G.zoomIn=t.createElement("div"),G.zoomIn.className="pnlm-zoom-in pnlm-sprite pnlm-control",G.zoomIn.addEventListener("click",function(){E&&(Ie(i.hfov-5),ye())}),G.zoom.appendChild(G.zoomIn),G.zoomOut=t.createElement("div"),G.zoomOut.className="pnlm-zoom-out pnlm-sprite pnlm-control",G.zoomOut.addEventListener("click",function(){E&&(Ie(i.hfov+5),ye())}),G.zoom.appendChild(G.zoomOut),G.container.appendChild(G.zoom),G.fullscreen=t.createElement("div"),G.fullscreen.addEventListener("click",Ce),G.fullscreen.className="pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control",(t.fullscreenEnabled||t.mozFullScreenEnabled||t.webkitFullscreenEnabled||t.msFullscreenEnabled)&&G.container.appendChild(G.fullscreen),G.orientation=t.createElement("div"),G.orientation.addEventListener("click",function(e){L?De():Fe()}),G.orientation.addEventListener("mousedown",function(e){e.stopPropagation()}),G.orientation.addEventListener("touchstart",function(e){e.stopPropagation()}),G.orientation.addEventListener("pointerdown",function(e){e.stopPropagation()}),G.orientation.className="pnlm-orientation-button pnlm-orientation-button-inactive pnlm-sprite pnlm-controls pnlm-control";var V,W=!1;e.DeviceOrientationEvent?e.addEventListener("deviceorientation",function t(n){e.removeEventListener("deviceorientation",t),n&&null!==n.alpha&&null!==n.beta&&null!==n.gamma?(G.container.appendChild(G.orientation),V=!0,W&&Fe()):V=!1}):V=!1;var Y=t.createElement("div");function X(){var o=t.createElement("div");if(o.innerHTML="\x3c!--[if lte IE 9]><i></i><![endif]--\x3e",1!=o.getElementsByTagName("i").length){var a,r;if(u=i.hfov,h=i.pitch,"cubemap"==i.type){for(l=[],a=0;a<6;a++)l.push(new Image),l[a].crossOrigin="anonymous";B.load.lbox.style.display="block",B.load.lbar.style.display="none"}else if("multires"==i.type){var s=JSON.parse(JSON.stringify(i.multiRes));i.basePath&&i.multiRes.basePath&&!/^(?:[a-z]+:)?\/\//i.test(i.multiRes.basePath)?s.basePath=i.basePath+i.multiRes.basePath:i.multiRes.basePath?s.basePath=i.multiRes.basePath:i.basePath&&(s.basePath=i.basePath),l=s}else if(!0===i.dynamic)l=i.panorama;else{if(i.panorama===n)return void K(i.strings.noPanoramaError);l=new Image}if("cubemap"==i.type){var c=6,d=function(){0===--c&&Z()},p=function(e){var n=t.createElement("a");n.href=e.target.src,n.innerHTML=n.href,K(i.strings.fileAccessError.replace("%s",n.outerHTML))};for(a=0;a<l.length;a++)l[a].onload=d,l[a].onerror=p,r=i.cubeMap[a],i.basePath&&!$(r)&&(r=i.basePath+r),l[a].src=encodeURI(r)}else if("multires"==i.type)Z();else if(r="",i.basePath&&(r=i.basePath),!0!==i.dynamic){r=$(i.panorama)?i.panorama:r+i.panorama,l.onload=function(){e.URL.revokeObjectURL(this.src),Z()};var f=new XMLHttpRequest;f.onloadend=function(){if(200!=f.status){var o=t.createElement("a");o.href=encodeURI(r),o.innerHTML=o.href,K(i.strings.fileAccessError.replace("%s",o.outerHTML))}var a,s,c=this.response;a=c,(s=new FileReader).addEventListener("loadend",function(){var t=s.result;if(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)){var o=t.indexOf("");(o<0||o>65536)&&K(i.strings.iOS8WebGLError)}var r=t.indexOf("<x:xmpmeta");if(r>-1&&!0!==i.ignoreGPanoXMP){var c=t.substring(r,t.indexOf("</x:xmpmeta>")+12),d=function(e){var t;return c.indexOf(e+'="')>=0?t=(t=c.substring(c.indexOf(e+'="')+e.length+2)).substring(0,t.indexOf('"')):c.indexOf(e+">")>=0&&(t=(t=c.substring(c.indexOf(e+">")+e.length+1)).substring(0,t.indexOf("<"))),t!==n?Number(t):null},u={fullWidth:d("GPano:FullPanoWidthPixels"),croppedWidth:d("GPano:CroppedAreaImageWidthPixels"),fullHeight:d("GPano:FullPanoHeightPixels"),croppedHeight:d("GPano:CroppedAreaImageHeightPixels"),topPixels:d("GPano:CroppedAreaTopPixels"),heading:d("GPano:PoseHeadingDegrees"),horizonPitch:d("GPano:PosePitchDegrees"),horizonRoll:d("GPano:PoseRollDegrees")};null!==u.fullWidth&&null!==u.croppedWidth&&null!==u.fullHeight&&null!==u.croppedHeight&&null!==u.topPixels&&(I.indexOf("haov")<0&&(i.haov=u.croppedWidth/u.fullWidth*360),I.indexOf("vaov")<0&&(i.vaov=u.croppedHeight/u.fullHeight*180),I.indexOf("vOffset")<0&&(i.vOffset=-180*((u.topPixels+u.croppedHeight/2)/u.fullHeight-.5)),null!==u.heading&&I.indexOf("northOffset")<0&&(i.northOffset=u.heading,!1!==i.compass&&(i.compass=!0)),null!==u.horizonPitch&&null!==u.horizonRoll&&(I.indexOf("horizonPitch")<0&&(i.horizonPitch=u.horizonPitch),I.indexOf("horizonRoll")<0&&(i.horizonRoll=u.horizonRoll)))}l.src=e.URL.createObjectURL(a)}),s.readAsBinaryString!==n?s.readAsBinaryString(a):s.readAsText(a),B.load.msg.innerHTML=""},f.onprogress=function(e){if(e.lengthComputable){var t,n,o,a=e.loaded/e.total*100;B.load.lbarFill.style.width=a+"%",e.total>1e6?(t="MB",n=(e.loaded/1e6).toFixed(2),o=(e.total/1e6).toFixed(2)):e.total>1e3?(t="kB",n=(e.loaded/1e3).toFixed(1),o=(e.total/1e3).toFixed(1)):(t="B",n=e.loaded,o=e.total),B.load.msg.innerHTML=n+" / "+o+" "+t}else B.load.lbox.style.display="block",B.load.lbar.style.display="none"};try{f.open("GET",r,!0)}catch(e){K(i.strings.malformedURLError)}f.responseType="blob",f.setRequestHeader("Accept","image/*,*/*;q=0.9"),f.send()}F.classList.add("pnlm-grab"),F.classList.remove("pnlm-grabbing")}else K()}function $(e){return new RegExp("^(?:[a-z]+:)?//","i").test(e)||"/"==e[0]||"blob:"==e.slice(0,5)}function Z(){r||(r=new libpannellum.renderer(U)),k||(k=!0,j.addEventListener("mousedown",Q,!1),t.addEventListener("mousemove",ne,!1),t.addEventListener("mouseup",oe,!1),i.mouseZoom&&(F.addEventListener("mousewheel",he,!1),F.addEventListener("DOMMouseScroll",he,!1)),i.doubleClickZoom&&j.addEventListener("dblclick",ee,!1),F.addEventListener("mozfullscreenchange",Oe,!1),F.addEventListener("webkitfullscreenchange",Oe,!1),F.addEventListener("msfullscreenchange",Oe,!1),F.addEventListener("fullscreenchange",Oe,!1),e.addEventListener("resize",be,!1),e.addEventListener("orientationchange",be,!1),F.addEventListener("keydown",pe,!1),F.addEventListener("keyup",me,!1),F.addEventListener("blur",fe,!1),t.addEventListener("mouseleave",oe,!1),j.addEventListener("touchstart",ae,!1),j.addEventListener("touchmove",ie,!1),j.addEventListener("touchend",re,!1),j.addEventListener("pointerdown",ce,!1),j.addEventListener("pointermove",de,!1),j.addEventListener("pointerup",ue,!1),j.addEventListener("pointerleave",ue,!1),e.navigator.pointerEnabled&&(o.style.touchAction="none")),function(){try{var e={};i.horizonPitch!==n&&(e.horizonPitch=i.horizonPitch*Math.PI/180),i.horizonRoll!==n&&(e.horizonRoll=i.horizonRoll*Math.PI/180),i.backgroundColor!==n&&(e.backgroundColor=i.backgroundColor),r.init(l,i.type,i.dynamic,i.haov*Math.PI/180,i.vaov*Math.PI/180,i.vOffset*Math.PI/180,Pe,e),!0!==i.dynamic&&(l=n)}catch(e){if("webgl error"==e.type||"no webgl"==e.type)K();else{if("webgl size error"!=e.type)throw K(i.strings.unknownError),e;K(i.strings.textureSizeError.replace("%s",e.width).replace("%s",e.maxWidth))}}}(),setTimeout(function(){!0},500)}function K(e){e===n&&(e=i.strings.genericWebGLError),B.errorMsg.innerHTML="<p>"+e+"</p>",G.load.style.display="none",B.load.box.style.display="none",B.errorMsg.style.display="table",P=!0,U.style.display="none",je("error",e)}function J(e){var t=o.getBoundingClientRect(),n={};return n.x=e.clientX-t.left,n.y=e.clientY-t.top,n}function Q(e){if(e.preventDefault(),o.focus(),E&&i.draggable){var t=J(e);if(i.hotSpotDebug){var n=te(e);console.log("Pitch: "+n[0]+", Yaw: "+n[1]+", Center Pitch: "+i.pitch+", Center Yaw: "+i.yaw+", HFOV: "+i.hfov)}Se(),De(),i.roll=0,M.hfov=0,f=!0,m=Date.now(),v=t.x,g=t.y,y=i.yaw,x=i.pitch,F.classList.add("pnlm-grabbing"),F.classList.remove("pnlm-grab"),je("mousedown",e),ye()}}function ee(e){if(i.minHfov===i.hfov)p.setHfov(u,1e3);else{var t=te(e);p.lookAt(t[0],t[1],i.minHfov,1e3)}}function te(e){var t=J(e),n=r.getCanvas(),o=n.clientWidth,a=n.clientHeight,s=t.x/o*2-1,l=(1-t.y/a*2)*a/o,c=1/Math.tan(i.hfov*Math.PI/360),d=Math.sin(i.pitch*Math.PI/180),u=Math.cos(i.pitch*Math.PI/180),h=c*u-l*d,p=Math.sqrt(s*s+h*h),f=180*Math.atan((l*u+c*d)/p)/Math.PI,m=180*Math.atan2(s/p,h/p)/Math.PI+i.yaw;return m<-180&&(m+=360),m>180&&(m-=360),[f,m]}function ne(e){if(f&&E){m=Date.now();var t=r.getCanvas(),n=t.clientWidth,o=t.clientHeight,a=J(e),s=180*(Math.atan(v/n*2-1)-Math.atan(a.x/n*2-1))/Math.PI*i.hfov/90+y;M.yaw=(s-i.yaw)%360*.2,i.yaw=s;var l=2*Math.atan(Math.tan(i.hfov/360*Math.PI)*o/n)*180/Math.PI,c=180*(Math.atan(a.y/o*2-1)-Math.atan(g/o*2-1))/Math.PI*l/90+x;M.pitch=.2*(c-i.pitch),i.pitch=c}}function oe(e){f&&(f=!1,Date.now()-m>15&&(M.pitch=M.yaw=0),F.classList.add("pnlm-grab"),F.classList.remove("pnlm-grabbing"),m=Date.now(),je("mouseup",e))}function ae(e){if(E&&i.draggable){Se(),De(),i.roll=0,M.hfov=0;var t=J(e.targetTouches[0]);if(v=t.x,g=t.y,2==e.targetTouches.length){var n=J(e.targetTouches[1]);v+=.5*(n.x-t.x),g+=.5*(n.y-t.y),b=Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y))}f=!0,m=Date.now(),y=i.yaw,x=i.pitch,je("touchstart",e),ye()}}function ie(e){if(i.draggable&&(e.preventDefault(),E&&(m=Date.now()),f&&E)){var t=J(e.targetTouches[0]),n=t.x,o=t.y;if(2==e.targetTouches.length&&-1!=b){var a=J(e.targetTouches[1]);n+=.5*(a.x-t.x),o+=.5*(a.y-t.y);var r=Math.sqrt((t.x-a.x)*(t.x-a.x)+(t.y-a.y)*(t.y-a.y));Ie(i.hfov+.1*(b-r)),b=r}var s=i.hfov/360,l=(v-n)*s+y;M.yaw=(l-i.yaw)%360*.2,i.yaw=l;var c=(o-g)*s+x;M.pitch=.2*(c-i.pitch),i.pitch=c}}function re(){f=!1,Date.now()-m>150&&(M.pitch=M.yaw=0),b=-1,m=Date.now(),je("touchend",event)}Y.className="pnlm-compass pnlm-controls pnlm-control",F.appendChild(Y),a.firstScene?Le(a.firstScene):a.default&&a.default.firstScene?Le(a.default.firstScene):Le(null),Re(!0);var se=[],le=[];function ce(e){"touch"==e.pointerType&&(se.push(e.pointerId),le.push({clientX:e.clientX,clientY:e.clientY}),e.targetTouches=le,ae(e),e.preventDefault())}function de(e){if("touch"==e.pointerType)for(var t=0;t<se.length;t++)if(e.pointerId==se[t])return le[t].clientX=e.clientX,le[t].clientY=e.clientY,e.targetTouches=le,void ie(e)}function ue(e){if("touch"==e.pointerType){for(var t=!1,o=0;o<se.length;o++)e.pointerId==se[o]&&(se[o]=n),se[o]&&(t=!0);t||(se=[],le=[],re()),e.preventDefault()}}function he(e){E&&("fullscreenonly"!=i.mouseZoom||_)&&(e.preventDefault(),Se(),m=Date.now(),e.wheelDeltaY?(Ie(i.hfov-.05*e.wheelDeltaY),M.hfov=e.wheelDelta<0?1:-1):e.wheelDelta?(Ie(i.hfov-.05*e.wheelDelta),M.hfov=e.wheelDelta<0?1:-1):e.detail&&(Ie(i.hfov+1.5*e.detail),M.hfov=e.detail>0?1:-1),ye())}function pe(e){Se(),m=Date.now(),De(),i.roll=0;var t=e.which||e.keycode;D.indexOf(t)<0||(e.preventDefault(),27==t?_&&Ce():ve(t,!0))}function fe(){for(var e=0;e<10;e++)w[e]=!1}function me(e){var t=e.which||e.keycode;D.indexOf(t)<0||(e.preventDefault(),ve(t,!1))}function ve(e,t){var n=!1;switch(e){case 109:case 189:case 17:case 173:w[0]!=t&&(n=!0),w[0]=t;break;case 107:case 187:case 16:case 61:w[1]!=t&&(n=!0),w[1]=t;break;case 38:w[2]!=t&&(n=!0),w[2]=t;break;case 87:w[6]!=t&&(n=!0),w[6]=t;break;case 40:w[3]!=t&&(n=!0),w[3]=t;break;case 83:w[7]!=t&&(n=!0),w[7]=t;break;case 37:w[4]!=t&&(n=!0),w[4]=t;break;case 65:w[8]!=t&&(n=!0),w[8]=t;break;case 39:w[5]!=t&&(n=!0),w[5]=t;break;case 68:w[9]!=t&&(n=!0),w[9]=t}n&&t&&(c="undefined"!=typeof performance&&performance.now()?performance.now():Date.now(),ye())}function ge(e){var t=O[e],n=Math.min(1,Math.max((Date.now()-t.startTime)/1e3/(t.duration/1e3),0)),o=t.startPosition+i.animationTimingFunction(n)*(t.endPosition-t.startPosition);if(t.endPosition>t.startPosition&&o>=t.endPosition||t.endPosition<t.startPosition&&o<=t.endPosition||t.endPosition===t.startPosition){o=t.endPosition,M[e]=0;var a=O[e].callback,r=O[e].callbackArgs;delete O[e],"function"==typeof a&&a(r)}i[e]=o}function be(){Oe()}function ye(){T||(T=!0,xe())}function xe(){if(function(){var e;if(E){i.yaw>180?i.yaw-=360:i.yaw<-180&&(i.yaw+=360),e=i.yaw;var t=i.maxYaw-i.minYaw,n=-180,o=180;t<360&&(n=i.minYaw+i.hfov/2,o=i.maxYaw-i.hfov/2,t<i.hfov&&(n=o=(n+o)/2)),i.yaw=Math.max(n,Math.min(o,i.yaw)),!1!==i.autoRotate&&e!=i.yaw&&(i.autoRotate*=-1);var a=r.getCanvas(),s=2*Math.atan(Math.tan(i.hfov/180*Math.PI*.5)/(a.width/a.height))/Math.PI*180,l=i.minPitch+s/2,c=i.maxPitch-s/2,d=i.maxPitch-i.minPitch;d<s&&(l=c=(l+c)/2),isNaN(l)&&(l=-90),isNaN(c)&&(c=90),i.pitch=Math.max(l,Math.min(c,i.pitch)),r.render(i.pitch*Math.PI/180,i.yaw*Math.PI/180,i.hfov*Math.PI/180,{roll:i.roll*Math.PI/180}),Te(),i.compass&&(Y.style.transform="rotate("+(-i.yaw-i.northOffset)+"deg)",Y.style.webkitTransform="rotate("+(-i.yaw-i.northOffset)+"deg)")}}(),d&&clearTimeout(d),f||!0===L)requestAnimationFrame(xe);else if(w[0]||w[1]||w[2]||w[3]||w[4]||w[5]||w[6]||w[7]||w[8]||w[9]||i.autoRotate||O.pitch||O.yaw||O.hfov||Math.abs(M.yaw)>.01||Math.abs(M.pitch)>.01||Math.abs(M.hfov)>.01)!function(){if(E){var e,t=!1,o=i.pitch,a=i.yaw,r=i.hfov;e="undefined"!=typeof performance&&performance.now()?performance.now():Date.now(),c===n&&(c=e);var s=(e-c)*i.hfov/1700;if(s=Math.min(s,1),w[0]&&!0===i.keyboardZoom&&(Ie(i.hfov+(.8*M.hfov+.5)*s),t=!0),w[1]&&!0===i.keyboardZoom&&(Ie(i.hfov+(.8*M.hfov-.2)*s),t=!0),(w[2]||w[6])&&(i.pitch+=(.8*M.pitch+.2)*s,t=!0),(w[3]||w[7])&&(i.pitch+=(.8*M.pitch-.2)*s,t=!0),(w[4]||w[8])&&(i.yaw+=(.8*M.yaw-.2)*s,t=!0),(w[5]||w[9])&&(i.yaw+=(.8*M.yaw+.2)*s,t=!0),t&&(m=Date.now()),Date.now(),i.autoRotate){if(e-c>.001){var l=(e-c)/1e3,d=(M.yaw/l*s-.2*i.autoRotate)*l;d=(-i.autoRotate>0?1:-1)*Math.min(Math.abs(i.autoRotate*l),Math.abs(d)),i.yaw+=d}i.autoRotateStopDelay&&(i.autoRotateStopDelay-=e-c,i.autoRotateStopDelay<=0&&(i.autoRotateStopDelay=!1,C=i.autoRotate,i.autoRotate=0))}if(O.pitch&&(ge("pitch"),o=i.pitch),O.yaw&&(ge("yaw"),a=i.yaw),O.hfov&&(ge("hfov"),r=i.hfov),s>0&&!i.autoRotate&&(w[4]||w[5]||w[8]||w[9]||O.yaw||(i.yaw+=M.yaw*s*.85),w[2]||w[3]||w[6]||w[7]||O.pitch||(i.pitch+=M.pitch*s*.85),w[0]||w[1]||O.hfov||Ie(i.hfov+M.hfov*s*.85)),c=e,s>0){M.yaw=.8*M.yaw+(i.yaw-a)/s*.2,M.pitch=.8*M.pitch+(i.pitch-o)/s*.2,M.hfov=.8*M.hfov+(i.hfov-r)/s*.2;var u=i.autoRotate?Math.abs(i.autoRotate):5;M.yaw=Math.min(u,Math.max(M.yaw,-u)),M.pitch=Math.min(u,Math.max(M.pitch,-u)),M.hfov=Math.min(u,Math.max(M.hfov,-u))}w[0]&&w[0]&&(M.hfov=0),(w[2]||w[6])&&(w[3]||w[7])&&(M.pitch=0),(w[4]||w[8])&&(w[5]||w[9])&&(M.yaw=0)}}(),i.autoRotateInactivityDelay>=0&&C&&Date.now()-m>i.autoRotateInactivityDelay&&!i.autoRotate&&(i.autoRotate=C,p.lookAt(h,n,u,3e3)),requestAnimationFrame(xe);else if(r&&(r.isLoading()||!0===i.dynamic&&S))requestAnimationFrame(xe);else{T=!1,c=n;var e=i.autoRotateInactivityDelay-(Date.now()-m);e>0?d=setTimeout(function(){i.autoRotate=C,p.lookAt(h,n,u,3e3),ye()},e):i.autoRotateInactivityDelay>=0&&C&&(i.autoRotate=C,p.lookAt(h,n,u,3e3),ye())}}function we(e,t,n,o){this.w=e,this.x=t,this.y=n,this.z=o}function _e(t,n,o){var a,i,r,s,l,c,d=(a=t,r=o,s=[(i=n)?i*Math.PI/180/2:0,r?r*Math.PI/180/2:0,a?a*Math.PI/180/2:0],l=[Math.cos(s[0]),Math.cos(s[1]),Math.cos(s[2])],c=[Math.sin(s[0]),Math.sin(s[1]),Math.sin(s[2])],new we(l[0]*l[1]*l[2]-c[0]*c[1]*c[2],c[0]*l[1]*l[2]-l[0]*c[1]*c[2],l[0]*c[1]*l[2]+c[0]*l[1]*c[2],l[0]*l[1]*c[2]+c[0]*c[1]*l[2]));d=d.multiply(new we(Math.sqrt(.5),-Math.sqrt(.5),0,0));var u=e.orientation?-e.orientation*Math.PI/180/2:0;return d.multiply(new we(Math.cos(u),0,-Math.sin(u),0))}function Ee(e){var t=_e(e.alpha,e.beta,e.gamma).toEulerAngles();"number"==typeof L&&L<10?L+=1:10===L?(R=t[2]/Math.PI*180+i.yaw,L=!0,requestAnimationFrame(xe)):(i.pitch=t[0]/Math.PI*180,i.roll=-t[1]/Math.PI*180,i.yaw=-t[2]/Math.PI*180+R)}function Pe(){if(i.sceneFadeDuration&&r.fadeImg!==n){r.fadeImg.style.opacity=0;var e=r.fadeImg;delete r.fadeImg,setTimeout(function(){U.removeChild(e),je("scenechangefadedone")},i.sceneFadeDuration)}i.compass?Y.style.display="inline":Y.style.display="none",function(){if(A)return;i.hotSpots?(i.hotSpots=i.hotSpots.sort(function(e,t){return e.pitch<t.pitch}),i.hotSpots.forEach(ke)):i.hotSpots=[];A=!0,Te()}(),B.load.box.style.display="none",s!==n&&(U.removeChild(s),s=n),E=!0,je("load"),ye()}function ke(e){e.pitch=Number(e.pitch)||0,e.yaw=Number(e.yaw)||0;var n=t.createElement("div");n.className="pnlm-hotspot-base",e.cssClass?n.className+=" "+e.cssClass:n.className+=" pnlm-hotspot pnlm-sprite pnlm-"+Ue(e.type);var o,a=t.createElement("span");if(e.text&&(a.innerHTML=Ue(e.text)),e.video){var r=t.createElement("video"),s=e.video;i.basePath&&!$(s)&&(s=i.basePath+s),r.src=encodeURI(s),r.controls=!0,r.style.width=e.width+"px",U.appendChild(n),a.appendChild(r)}else if(e.image){s=e.image;i.basePath&&!$(s)&&(s=i.basePath+s),(o=t.createElement("a")).href=encodeURI(e.URL?e.URL:s),o.target="_blank",a.appendChild(o);var l=t.createElement("img");l.src=encodeURI(s),l.style.width=e.width+"px",l.style.paddingTop="5px",U.appendChild(n),o.appendChild(l),a.style.maxWidth="initial"}else e.URL?((o=t.createElement("a")).href=encodeURI(e.URL),o.target="_blank",U.appendChild(o),n.style.cursor="pointer",a.style.cursor="pointer",o.appendChild(n)):(e.sceneId&&(n.onclick=n.ontouchend=function(){return n.clicked||(n.clicked=!0,ze(e.sceneId,e.targetPitch,e.targetYaw,e.targetHfov)),!1},n.style.cursor="pointer",a.style.cursor="pointer"),U.appendChild(n));e.createTooltipFunc?e.createTooltipFunc(n,e.createTooltipArgs):(e.text||e.video||e.image)&&(n.classList.add("pnlm-tooltip"),n.appendChild(a),a.style.width=a.scrollWidth-20+"px",a.style.marginLeft=-(a.scrollWidth-n.offsetWidth)/2+"px",a.style.marginTop=-a.scrollHeight-12+"px"),e.clickHandlerFunc&&(n.addEventListener("click",function(t){e.clickHandlerFunc(t,e.clickHandlerArgs)},"false"),n.style.cursor="pointer",a.style.cursor="pointer"),e.div=n}function Me(e){var t=Math.sin(e.pitch*Math.PI/180),n=Math.cos(e.pitch*Math.PI/180),o=Math.sin(i.pitch*Math.PI/180),a=Math.cos(i.pitch*Math.PI/180),s=Math.cos((-e.yaw+i.yaw)*Math.PI/180),l=t*o+n*s*a;if(e.yaw<=90&&e.yaw>-90&&l<=0||(e.yaw>90||e.yaw<=-90)&&l<=0)e.div.style.visibility="hidden";else{var c=Math.sin((-e.yaw+i.yaw)*Math.PI/180),d=Math.tan(i.hfov*Math.PI/360);e.div.style.visibility="visible";var u=r.getCanvas(),h=u.clientWidth,p=u.clientHeight,f=[-h/d*c*n/l/2,-h/d*(t*a-n*s*o)/l/2],m=Math.sin(i.roll*Math.PI/180),v=Math.cos(i.roll*Math.PI/180);(f=[f[0]*v-f[1]*m,f[0]*m+f[1]*v])[0]+=(h-e.div.offsetWidth)/2,f[1]+=(p-e.div.offsetHeight)/2;var g="translate("+f[0]+"px, "+f[1]+"px) translateZ(9999px) rotate("+i.roll+"deg)";e.div.style.webkitTransform=g,e.div.style.MozTransform=g,e.div.style.transform=g}}function Te(){i.hotSpots.forEach(Me)}function Le(e){var t,n;i={};var o=["haov","vaov","vOffset","northOffset","horizonPitch","horizonRoll"];I=[];for(t in z)z.hasOwnProperty(t)&&(i[t]=z[t]);for(t in a.default)if(a.default.hasOwnProperty(t))if("strings"==t)for(n in a.default.strings)a.default.strings.hasOwnProperty(n)&&(i.strings[n]=Ue(a.default.strings[n]));else i[t]=a.default[t],o.indexOf(t)>=0&&I.push(t);if(null!==e&&""!==e&&a.scenes&&a.scenes[e]){var r=a.scenes[e];for(t in r)if(r.hasOwnProperty(t))if("strings"==t)for(n in r.strings)r.strings.hasOwnProperty(n)&&(i.strings[n]=Ue(r.strings[n]));else i[t]=r[t],o.indexOf(t)>=0&&I.push(t);i.scene=e}for(t in a)if(a.hasOwnProperty(t))if("strings"==t)for(n in a.strings)a.strings.hasOwnProperty(n)&&(i.strings[n]=Ue(a.strings[n]));else i[t]=a[t],o.indexOf(t)>=0&&I.push(t)}function Re(e){if((e=e||!1)&&"preview"in i){var o=i.preview;i.basePath&&!$(o)&&(o=i.basePath+o),(s=t.createElement("div")).className="pnlm-preview-img",s.style.backgroundImage="url('"+encodeURI(o)+"')",U.appendChild(s)}var a=i.title,l=i.author;e&&("previewTitle"in i&&(i.title=i.previewTitle),"previewAuthor"in i&&(i.author=i.previewAuthor)),i.hasOwnProperty("title")||(B.title.innerHTML=""),i.hasOwnProperty("author")||(B.author.innerHTML=""),i.hasOwnProperty("title")||i.hasOwnProperty("author")||(B.container.style.display="none"),G.load.innerHTML="<p>"+i.strings.loadButtonLabel+"</p>",B.load.box.querySelector(".pnlm-loading-title").innerHTML=i.strings.loadingLabel;for(var c in i)if(i.hasOwnProperty(c))switch(c){case"title":B.title.innerHTML=Ue(i[c]),B.container.style.display="inline";break;case"author":B.author.innerHTML=i.strings.bylineLabel.replace("%s",Ue(i[c])),B.container.style.display="inline";break;case"fallback":B.errorMsg.innerHTML='<p>Your browser does not support WebGL.<br><a href="'+encodeURI(i[c])+'" target="_blank">Click here to view this panorama in an alternative viewer.</a></p>';break;case"hfov":Ie(Number(i[c]));break;case"autoLoad":!0===i[c]&&r===n&&(B.load.box.style.display="inline",G.load.style.display="none",X());break;case"showZoomCtrl":i[c]&&0!=i.showControls?G.zoom.style.display="block":G.zoom.style.display="none";break;case"showFullscreenCtrl":i[c]&&0!=i.showControls&&("fullscreen"in t||"mozFullScreen"in t||"webkitIsFullScreen"in t||"msFullscreenElement"in t)?G.fullscreen.style.display="block":G.fullscreen.style.display="none";break;case"hotSpotDebug":i[c]?q.style.display="block":q.style.display="none";break;case"showControls":i[c]||(G.orientation.style.display="none",G.zoom.style.display="none",G.fullscreen.style.display="none");break;case"orientationOnByDefault":i[c]&&(V===n?W=!0:!0===V&&Fe())}e&&(a?i.title=a:delete i.title,l?i.author=l:delete i.author)}function Ce(){if(E&&!P)if(_)t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen();else try{o.requestFullscreen?o.requestFullscreen():o.mozRequestFullScreen?o.mozRequestFullScreen():o.msRequestFullscreen?o.msRequestFullscreen():o.webkitRequestFullScreen()}catch(e){}}function Oe(){t.fullscreen||t.mozFullScreen||t.webkitIsFullScreen||t.msFullscreenElement?(G.fullscreen.classList.add("pnlm-fullscreen-toggle-button-active"),_=!0):(G.fullscreen.classList.remove("pnlm-fullscreen-toggle-button-active"),_=!1),r.resize(),Ie(i.hfov),ye()}function Ne(e){var t=i.minHfov;return"multires"==i.type&&r&&(t=Math.min(t,r.getCanvas().width/(i.multiRes.cubeResolution/90*.9))),t>i.maxHfov?(console.log("HFOV bounds do not make sense (minHfov > maxHfov)."),i.hfov):e<t?t:e>i.maxHfov?i.maxHfov:e}function Ie(e){i.hfov=Ne(e)}function Se(){O={},C=i.autoRotate?i.autoRotate:C,i.autoRotate=!1}function Ae(){P&&(B.load.box.style.display="none",B.errorMsg.style.display="none",P=!1,je("errorcleared")),G.load.style.display="none",B.load.box.style.display="inline",X()}function ze(e,t,o,s,l){var c,d,u,h;if(E=!1,O={},i.sceneFadeDuration&&!l){var p=r.render(i.pitch*Math.PI/180,i.yaw*Math.PI/180,i.hfov*Math.PI/180,{returnImage:!0});if(p!==n)return(c=new Image).className="pnlm-fade-img",c.style.transition="opacity "+i.sceneFadeDuration/1e3+"s",c.style.width="100%",c.style.height="100%",c.onload=function(){ze(e,t,o,s,!0)},c.src=p,U.appendChild(c),void(r.fadeImg=c)}d="same"===t?i.pitch:t,u="same"===o?i.yaw:"sameAzimuth"===o?i.yaw+(i.northOffset||0)-(a.scenes[e].northOffset||0):o,h="same"===s?i.hfov:s,function(){var e=i.hotSpots;if(A=!1,delete i.hotSpots,e){for(var t=0;t<e.length;t++){for(var n=e[t].div;n.parentNode!=U;)n=n.parentNode;U.removeChild(n)}e.length=0}}(),Le(e),M.yaw=M.pitch=M.hfov=0,Re(),d!==n&&(i.pitch=d),u!==n&&(i.yaw=u),h!==n&&(i.hfov=h),je("scenechange",e),Ae()}function De(){e.removeEventListener("deviceorientation",Ee),G.orientation.classList.remove("pnlm-orientation-button-active"),L=!1}function Fe(){L=1,e.addEventListener("deviceorientation",Ee),G.orientation.classList.add("pnlm-orientation-button-active")}function Ue(e){return a.escapeHTML?String(e).split(/&/g).join("&amp;").split('"').join("&quot;").split("'").join("&#39;").split("<").join("&lt;").split(">").join("&gt;").split("/").join("&#x2f;").split("\n").join("<br>"):String(e).split("\n").join("<br>")}function je(e){if(e in N)for(var t=N[e].length;t>0;t--)N[e][N[e].length-t].apply(null,[].slice.call(arguments,1))}we.prototype.multiply=function(e){return new we(this.w*e.w-this.x*e.x-this.y*e.y-this.z*e.z,this.x*e.w+this.w*e.x+this.y*e.z-this.z*e.y,this.y*e.w+this.w*e.y+this.z*e.x-this.x*e.z,this.z*e.w+this.w*e.z+this.x*e.y-this.y*e.x)},we.prototype.toEulerAngles=function(){return[Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y)),Math.asin(2*(this.w*this.y-this.z*this.x)),Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z))]},this.isLoaded=function(){return E},this.getPitch=function(){return i.pitch},this.setPitch=function(e,t,o,a){return(t=t==n?1e3:Number(t))?O.pitch={startTime:Date.now(),startPosition:i.pitch,endPosition:e,duration:t,callback:o,callbackArgs:a}:i.pitch=e,ye(),this},this.getPitchBounds=function(){return[i.minPitch,i.maxPitch]},this.setPitchBounds=function(e){return i.minPitch=Math.max(-90,Math.min(e[0],90)),i.maxPitch=Math.max(-90,Math.min(e[1],90)),this},this.getYaw=function(){return i.yaw},this.setYaw=function(e,t,o,a){return e=(e+180)%360-180,(t=t==n?1e3:Number(t))?(i.yaw-e>180?e+=360:e-i.yaw>180&&(e-=360),O.yaw={startTime:Date.now(),startPosition:i.yaw,endPosition:e,duration:t,callback:o,callbackArgs:a}):i.yaw=e,ye(),this},this.getYawBounds=function(){return[i.minYaw,i.maxYaw]},this.setYawBounds=function(e){return i.minYaw=Math.max(-180,Math.min(e[0],180)),i.maxYaw=Math.max(-180,Math.min(e[1],180)),this},this.getHfov=function(){return i.hfov},this.setHfov=function(e,t,o,a){return(t=t==n?1e3:Number(t))?O.hfov={startTime:Date.now(),startPosition:i.hfov,endPosition:Ne(e),duration:t,callback:o,callbackArgs:a}:Ie(e),ye(),this},this.getHfovBounds=function(){return[i.minHfov,i.maxHfov]},this.setHfovBounds=function(e){return i.minHfov=Math.max(0,e[0]),i.maxHfov=Math.max(0,e[1]),this},this.lookAt=function(e,t,o,a,i,r){return a=a==n?1e3:Number(a),e!==n&&(this.setPitch(e,a,i,r),i=n),t!==n&&(this.setYaw(t,a,i,r),i=n),o!==n&&this.setHfov(o,a,i,r),this},this.getNorthOffset=function(){return i.northOffset},this.setNorthOffset=function(e){return i.northOffset=Math.min(360,Math.max(0,e)),ye(),this},this.getHorizonRoll=function(){return i.horizonRoll},this.setHorizonRoll=function(e){return i.horizonRoll=Math.min(90,Math.max(-90,e)),r.setPose(i.horizonPitch*Math.PI/180,i.horizonRoll*Math.PI/180),ye(),this},this.getHorizonPitch=function(){return i.horizonPitch},this.setHorizonPitch=function(e){return i.horizonPitch=Math.min(90,Math.max(-90,e)),r.setPose(i.horizonPitch*Math.PI/180,i.horizonRoll*Math.PI/180),ye(),this},this.startAutoRotate=function(e){return e=e||C||1,i.autoRotate=e,p.lookAt(h,n,u,3e3),ye(),this},this.stopAutoRotate=function(){return C=i.autoRotate?i.autoRotate:C,i.autoRotate=!1,i.autoRotateInactivityDelay=-1,this},this.getRenderer=function(){return r},this.setUpdate=function(e){return S=!0===e,r===n?Z():ye(),this},this.mouseEventToCoords=function(e){return te(e)},this.loadScene=function(e,t,n,o){return E&&ze(e,t,n,o),this},this.getScene=function(){return i.scene},this.addScene=function(e,t){return a.scenes[e]=t,this},this.removeScene=function(e){return!(i.scene===e||!a.scenes.hasOwnProperty(e))&&(delete a.scenes[e],!0)},this.toggleFullscreen=function(){return Ce(),this},this.getConfig=function(){return i},this.addHotSpot=function(e,t){if(t===n&&i.scene===n)i.hotSpots.push(e);else{var o=t!==n?t:i.scene;if(!a.scenes.hasOwnProperty(o))throw"Invalid scene ID!";a.scenes[o].hasOwnProperty("hotSpots")||(a.scenes[o].hotSpots=[],o==i.scene&&(i.hotSpots=a.scenes[o].hotSpots)),a.scenes[o].hotSpots.push(e)}return t!==n&&i.scene!=t||(ke(e),E&&Me(e)),this},this.removeHotSpot=function(e){if(!i.hotSpots)return!1;for(var t=0;t<i.hotSpots.length;t++)if(i.hotSpots[t].hasOwnProperty("id")&&i.hotSpots[t].id===e){for(var n=i.hotSpots[t].div;n.parentNode!=U;)n=n.parentNode;return U.removeChild(n),delete i.hotSpots[t].div,i.hotSpots.splice(t,1),!0}return!1},this.resize=function(){be()},this.isLoaded=function(){return E},this.isOrientationSupported=function(){return V||!1},this.stopOrientation=function(){De()},this.startOrientation=function(){V&&Fe()},this.on=function(e,t){return N[e]=N[e]||[],N[e].push(t),this},this.off=function(e,t){if(!e)return N={},this;if(t){var n=N[e].indexOf(t);n>=0&&N[e].splice(n,1),0==N[e].length&&delete N[e]}else delete N[e];return this},this.destroy=function(){r&&r.destroy(),k&&(j.removeEventListener("mousedown",Q,!1),j.removeEventListener("dblclick",ee,!1),t.removeEventListener("mousemove",ne,!1),t.removeEventListener("mouseup",oe,!1),o.removeEventListener("mousewheel",he,!1),o.removeEventListener("DOMMouseScroll",he,!1),o.removeEventListener("mozfullscreenchange",Oe,!1),o.removeEventListener("webkitfullscreenchange",Oe,!1),o.removeEventListener("msfullscreenchange",Oe,!1),o.removeEventListener("fullscreenchange",Oe,!1),e.removeEventListener("resize",be,!1),e.removeEventListener("orientationchange",be,!1),o.removeEventListener("keydown",pe,!1),o.removeEventListener("keyup",me,!1),o.removeEventListener("blur",fe,!1),t.removeEventListener("mouseleave",oe,!1),j.removeEventListener("touchstart",ae,!1),j.removeEventListener("touchmove",ie,!1),j.removeEventListener("touchend",re,!1),j.removeEventListener("pointerdown",ce,!1),j.removeEventListener("pointermove",de,!1),j.removeEventListener("pointerup",ue,!1),j.removeEventListener("pointerleave",ue,!1)),o.innerHTML="",o.classList.remove("pnlm-container"),F.classList.remove("pnlm-grab"),F.classList.remove("pnlm-grabbing")}}return{viewer:function(e,t){return new o(e,t)}}}(window,document)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateId=(()=>(new Date).valueOf().toString())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){const e=new Promise((e,t)=>{this.resolve=e,this.reject=t});this.promise=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(14),a=n(15),i=n(19),r=n(2),s=i();class l extends r.Component{constructor(e){super(),e.classPrefix=e.classPrefix?`${e.classPrefix}-info-element`:"info-element",this.state={isOpen:!1,title:e.title,description:e.description,_title:e.title,_description:e.description}}render(e,t){const n=e.isEdit&&t.isOpen?t._description:this.addAnyLink(t._description);let a=`${e.classPrefix}-header `+(t.isOpen?"":`${e.classPrefix}-clickable`);a+=t.isOpen&&e.isEdit?`${e.classPrefix}-editable`:"";const i=`${e.classPrefix}-close ${e.classPrefix}-clickable`;let s=`${e.classPrefix}-body `;return s+=t.isOpen&&e.isEdit?`${e.classPrefix}-editable`:"",r.h("div",{ref:e=>{this.dom=e},class:`${e.classPrefix}`,id:e.id},t.isOpen&&r.h("button",{class:i,onClick:this._onClose.bind(this)},"x"),r.h("h4",{contentEditable:e.isEdit,class:a,onInput:o.default(this,"_title","target.textContent"),onClick:e=>{!t.isOpen&&this._toggleView()}},t._title),t.isOpen&&r.h("p",{contentEditable:e.isEdit,class:s,onInput:o.default(this,"_description","target.textContent"),dangerouslySetInnerHTML:!e.isEdit&&{__html:this.sanitize(n)}},e.isEdit&&n),t.isOpen&&e.isEdit&&r.h("div",{class:`${e.classPrefix}-footer `},r.h("button",{onClick:this._updateContent.bind(this)},r.h("i",{class:"fa fa-disk"}),"Save"),"",r.h("button",{onClick:this._onDelete.bind(this)},r.h("i",{class:"fa fa-trash"}),"Delete")))}sanitize(e){return s.sanitize(e,{ALLOWED_ATTR:["href"],ALLOWED_TAGS:["a"]})}addAnyLink(e){return a.default(e)}_updateContent(e){this.setState({title:this.state._title,description:this.state._description}),this._toggleView(!1),this._dispatchEvent(l.EVENTS.UPDATE_INFO_ELEMENT)}_toggleView(e){let t;t="boolean"!=typeof e?!this.state.isOpen:e,this.setState({isOpen:t}),this._dispatchEvent(l.EVENTS.TOGGLE_INFO_ELEMENT)}_onClose(e){this.setState({_description:this.state.description,_title:this.state.title}),this._toggleView(!1)}_onDelete(e){this._dispatchEvent(l.EVENTS.DELETE_INFO_ELEMENT)}_dispatchEvent(e,t=this._getSimpleState()){const n=new CustomEvent(e,{bubbles:!0,detail:t});this.dom.dispatchEvent(n)}_getSimpleState(){return{title:this.state.title,description:this.state.description,id:this.props.id}}}l.EVENTS={UPDATE_INFO_ELEMENT:"UPDATE_INFO_ELEMENT",TOGGLE_INFO_ELEMENT:"TOGGLE_INFO_ELEMENT",DELETE_INFO_ELEMENT:"DELETE_INFO_ELEMENT"},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var o=t.split("."),a=e.__lsc||(e.__lsc={});return a[t+n]||(a[t+n]=function(t){for(var a=t&&t.target||this,i={},r=i,s="string"==typeof n?function(e,t,n,o){for(o=0,t=t.split?t.split("."):t;e&&o<t.length;)e=e[t[o++]];return void 0===e?n:e}(t,n):a.nodeName?a.type.match(/^che|rad/)?a.checked:a.value:t,l=0;l<o.length-1;l++)r=r[o[l]]||(r[o[l]]=!l&&e.state[o[l]]||{});r[o[l]]=s,e.setState(i)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(3),i=n(4),r=n(5),s=n(16),l=n(7),c=function(e,t){return t=o.defaultOptions(t),s.default(e,t)};c.validate={ip:i.default,url:function(e){var t=l.default(e)||"";return e=e.substr(t.length),e=encodeURI(e),r.default(e)},email:a.default},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=n(18),i=n(6);t.default=function(e,t){var n=i.separate(e),r=a.default(n,t);if(t.exclude)for(var s=0;s<r.length;s++){var l=r[s];"object"==typeof l&&t.exclude(l)&&(r[s]=l.raw)}if(t.list){for(var c=[],d=0;d<r.length;d++){var u=r[d];"string"!=typeof u&&c.push(u)}return c}return r=r.map(function(e){return"string"==typeof e?e:(o=t,a=(n=e).protocol+n.encoded,i=n.raw,"number"==typeof o.truncate&&i.length>o.truncate&&(i=i.substring(0,o.truncate)+"..."),"object"==typeof o.truncate&&i.length>o.truncate[0]+o.truncate[1]&&(i=i.substr(0,o.truncate[0])+"..."+i.substr(i.length-o.truncate[1])),void 0===o.attributes&&(o.attributes=[]),'<a href="'+a+'" '+o.attributes.map(function(e){if("function"!=typeof e)return" "+e.name+'="'+e.value+'" ';var t=(e(n)||{}).name,o=(e(n)||{}).value;return t&&!o?" name ":t&&o?" "+t+'="'+o+'" ':void 0}).join("")+">"+i+"</a>");var n,o,a,i}),o.deSeparate(r)}},function(e,t,n){"use strict";function o(e,t,n){return e.forEach(function(a,i){!(a.indexOf(".")>-1)||e[i-1]===t&&e[i+1]===n||e[i+1]!==t&&e[i+1]!==n||(e[i]=e[i]+e[i+1],"string"==typeof e[i+2]&&(e[i]=e[i]+e[i+2]),"string"==typeof e[i+3]&&(e[i]=e[i]+e[i+3]),"string"==typeof e[i+4]&&(e[i]=e[i]+e[i+4]),e.splice(i+1,4),o(e,t,n))}),e}Object.defineProperty(t,"__esModule",{value:!0}),t.fixSeparators=o,t.default=function(e){return e=o(e=o(e=o(e=o(e,"(",")"),"[","]"),'"','"'),"'","'")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(7),i=n(1),r=n(4),s=n(5);t.default=function(e,t){return e.map(function(n,l){var c=encodeURI(n);if(c.indexOf(".")<1&&!a.default(c))return n;var d=null,u=a.default(c)||"";return u&&(c=c.substr(u.length)),t.files&&"file:///"===u&&c.split(/\/|\\/).length-1&&(d={reason:"file",protocol:u,raw:n,encoded:c}),!d&&t.urls&&s.default(c)&&(d={reason:"url",protocol:u||("function"==typeof t.defaultProtocol?t.defaultProtocol(n):t.defaultProtocol),raw:n,encoded:c}),!d&&t.emails&&o.default(c)&&(d={reason:"email",protocol:"mailto:",raw:n,encoded:c}),!d&&t.ips&&r.default(c)&&(d={reason:"ip",protocol:u||("function"==typeof t.defaultProtocol?t.defaultProtocol(n):t.defaultProtocol),raw:n,encoded:c}),d&&("'"!==e[l-1]&&'"'!==e[l-1]||!~i.htmlAttrs.indexOf(e[l-2]))?d:n})}},function(e,t,n){var o;o=function(){"use strict";var e=["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],t=["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"],n=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence"],o=["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"],a=["#text"],i=["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"],r=["accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"],s=["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"],l=["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"];function c(e,t){for(var n=t.length;n--;)"string"==typeof t[n]&&(t[n]=t[n].toLowerCase()),e[t[n]]=!0;return e}function d(e){var t={},n=void 0;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var u=/\{\{[\s\S]*|[\s\S]*\}\}/gm,h=/<%[\s\S]*|[\s\S]*%>/gm,p=/^data-[\-\w.\u00B7-\uFFFF]/,f=/^aria-[\-\w]+$/,m=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,v=/^(?:\w+script|data):/i,g=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var x=function(){return"undefined"==typeof window?null:window};return function w(){var _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x(),E=function(e){return w(e)};if(E.version="1.0.3",E.removed=[],!_||!_.document||9!==_.document.nodeType)return E.isSupported=!1,E;var P=_.document,k=!1,M=!1,T=_.document,L=_.DocumentFragment,R=_.HTMLTemplateElement,C=_.Node,O=_.NodeFilter,N=_.NamedNodeMap,I=void 0===N?_.NamedNodeMap||_.MozNamedAttrMap:N,S=_.Text,A=_.Comment,z=_.DOMParser,D=_.XMLHttpRequest,F=void 0===D?_.XMLHttpRequest:D,U=_.encodeURI,j=void 0===U?_.encodeURI:U;if("function"==typeof R){var H=T.createElement("template");H.content&&H.content.ownerDocument&&(T=H.content.ownerDocument)}var B=T,q=B.implementation,G=B.createNodeIterator,V=B.getElementsByTagName,W=B.createDocumentFragment,Y=P.importNode,X={};E.isSupported=q&&void 0!==q.createHTMLDocument&&9!==T.documentMode;var $=u,Z=h,K=p,J=f,Q=v,ee=g,te=m,ne=null,oe=c({},[].concat(y(e),y(t),y(n),y(o),y(a))),ae=null,ie=c({},[].concat(y(i),y(r),y(s),y(l))),re=null,se=null,le=!0,ce=!0,de=!1,ue=!1,he=!1,pe=!1,fe=!1,me=!1,ve=!1,ge=!1,be=!1,ye=!0,xe=!0,we={},_e=c({},["audio","head","math","script","style","template","svg","video"]),Ee=c({},["audio","video","img","source","image"]),Pe=c({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),ke=null,Me=T.createElement("form"),Te=function(u){"object"!==(void 0===u?"undefined":b(u))&&(u={}),ne="ALLOWED_TAGS"in u?c({},u.ALLOWED_TAGS):oe,ae="ALLOWED_ATTR"in u?c({},u.ALLOWED_ATTR):ie,re="FORBID_TAGS"in u?c({},u.FORBID_TAGS):{},se="FORBID_ATTR"in u?c({},u.FORBID_ATTR):{},we="USE_PROFILES"in u&&u.USE_PROFILES,le=!1!==u.ALLOW_ARIA_ATTR,ce=!1!==u.ALLOW_DATA_ATTR,de=u.ALLOW_UNKNOWN_PROTOCOLS||!1,ue=u.SAFE_FOR_JQUERY||!1,he=u.SAFE_FOR_TEMPLATES||!1,pe=u.WHOLE_DOCUMENT||!1,ve=u.RETURN_DOM||!1,ge=u.RETURN_DOM_FRAGMENT||!1,be=u.RETURN_DOM_IMPORT||!1,me=u.FORCE_BODY||!1,ye=!1!==u.SANITIZE_DOM,xe=!1!==u.KEEP_CONTENT,te=u.ALLOWED_URI_REGEXP||te,he&&(ce=!1),ge&&(ve=!0),we&&(ne=c({},[].concat(y(a))),ae=[],!0===we.html&&(c(ne,e),c(ae,i)),!0===we.svg&&(c(ne,t),c(ae,r),c(ae,l)),!0===we.svgFilters&&(c(ne,n),c(ae,r),c(ae,l)),!0===we.mathMl&&(c(ne,o),c(ae,s),c(ae,l))),u.ADD_TAGS&&(ne===oe&&(ne=d(ne)),c(ne,u.ADD_TAGS)),u.ADD_ATTR&&(ae===ie&&(ae=d(ae)),c(ae,u.ADD_ATTR)),u.ADD_URI_SAFE_ATTR&&c(Pe,u.ADD_URI_SAFE_ATTR),xe&&(ne["#text"]=!0),Object&&"freeze"in Object&&Object.freeze(u),ke=u},Le=function(e){E.removed.push({element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=""}},Re=function(e,t){E.removed.push({attribute:t.getAttributeNode(e),from:t}),t.removeAttribute(e)},Ce=function(e){var t=void 0,n=void 0;if(me&&(e="<remove></remove>"+e),M){try{e=j(e)}catch(e){}var o=new F;o.responseType="document",o.open("GET","data:text/html;charset=utf-8,"+e,!1),o.send(null),t=o.response}if(k)try{t=(new z).parseFromString(e,"text/html")}catch(e){}return t&&t.documentElement||((n=(t=q.createHTMLDocument("")).body).parentNode.removeChild(n.parentNode.firstElementChild),n.outerHTML=e),V.call(t,pe?"html":"body")[0]};E.isSupported&&function(){var e=Ce('<svg><g onload="this.parentNode.remove()"></g></svg>');e.querySelector("svg")||(M=!0);try{(e=Ce('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">')).querySelector("svg img")&&(k=!0)}catch(e){}}();var Oe=function(e){return G.call(e.ownerDocument||e,e,O.SHOW_ELEMENT|O.SHOW_COMMENT|O.SHOW_TEXT,function(){return O.FILTER_ACCEPT},!1)},Ne=function(e){return"object"===(void 0===C?"undefined":b(C))?e instanceof C:e&&"object"===(void 0===e?"undefined":b(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ie=function(e,t,n){X[e]&&X[e].forEach(function(e){e.call(E,t,n,ke)})},Se=function(e){var t,n=void 0;if(Ie("beforeSanitizeElements",e,null),!((t=e)instanceof S||t instanceof A||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof I&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute))return Le(e),!0;var o=e.nodeName.toLowerCase();if(Ie("uponSanitizeElement",e,{tagName:o,allowedTags:ne}),!ne[o]||re[o]){if(xe&&!_e[o]&&"function"==typeof e.insertAdjacentHTML)try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(e){}return Le(e),!0}return!ue||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(E.removed.push({element:e.cloneNode()}),e.innerHTML=e.textContent.replace(/</g,"&lt;")),he&&3===e.nodeType&&(n=(n=(n=e.textContent).replace($," ")).replace(Z," "),e.textContent!==n&&(E.removed.push({element:e.cloneNode()}),e.textContent=n)),Ie("afterSanitizeElements",e,null),!1},Ae=function(e){var t=void 0,n=void 0,o=void 0,a=void 0,i=void 0,r=void 0,s=void 0;if(Ie("beforeSanitizeAttributes",e,null),r=e.attributes){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ae};for(s=r.length;s--;){if(n=(t=r[s]).name,o=t.value.trim(),a=n.toLowerCase(),l.attrName=a,l.attrValue=o,l.keepAttr=!0,Ie("uponSanitizeAttribute",e,l),o=l.attrValue,"name"===a&&"IMG"===e.nodeName&&r.id)i=r.id,r=Array.prototype.slice.apply(r),Re("id",e),Re(n,e),r.indexOf(i)>s&&e.setAttribute("id",i.value);else{if("INPUT"===e.nodeName&&"type"===a&&"file"===o&&(ae[a]||!se[a]))continue;"id"===n&&e.setAttribute(n,""),Re(n,e)}if(l.keepAttr&&(!ye||"id"!==a&&"name"!==a||!(o in T||o in Me))){if(he&&(o=(o=o.replace($," ")).replace(Z," ")),ce&&K.test(a));else if(le&&J.test(a));else{if(!ae[a]||se[a])continue;if(Pe[a]);else if(te.test(o.replace(ee,"")));else if("src"!==a&&"xlink:href"!==a||0!==o.indexOf("data:")||!Ee[e.nodeName.toLowerCase()])if(de&&!Q.test(o.replace(ee,"")));else if(o)continue}try{e.setAttribute(n,o),E.removed.pop()}catch(e){}}}Ie("afterSanitizeAttributes",e,null)}},ze=function e(t){var n=void 0,o=Oe(t);for(Ie("beforeSanitizeShadowDOM",t,null);n=o.nextNode();)Ie("uponSanitizeShadowNode",n,null),Se(n)||(n.content instanceof L&&e(n.content),Ae(n));Ie("afterSanitizeShadowDOM",t,null)};return E.sanitize=function(e,t){var n=void 0,o=void 0,a=void 0,i=void 0,r=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Ne(e)){if("function"!=typeof e.toString)throw new TypeError("toString is not a function");if("string"!=typeof(e=e.toString()))throw new TypeError("dirty is not a string, aborting")}if(!E.isSupported){if("object"===b(_.toStaticHTML)||"function"==typeof _.toStaticHTML){if("string"==typeof e)return _.toStaticHTML(e);if(Ne(e))return _.toStaticHTML(e.outerHTML)}return e}if(fe||Te(t),E.removed=[],e instanceof C)1===(o=(n=Ce("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===o.nodeName?n=o:n.appendChild(o);else{if(!ve&&!pe&&-1===e.indexOf("<"))return e;if(!(n=Ce(e)))return ve?null:""}me&&Le(n.firstChild);for(var s=Oe(n);a=s.nextNode();)3===a.nodeType&&a===i||Se(a)||(a.content instanceof L&&ze(a.content),Ae(a),i=a);if(ve){if(ge)for(r=W.call(n.ownerDocument);n.firstChild;)r.appendChild(n.firstChild);else r=n;return be&&(r=Y.call(P,r,!0)),r}return pe?n.outerHTML:n.innerHTML},E.setConfig=function(e){Te(e),fe=!0},E.clearConfig=function(){ke=null,fe=!1},E.addHook=function(e,t){"function"==typeof t&&(X[e]=X[e]||[],X[e].push(t))},E.removeHook=function(e){X[e]&&X[e].pop()},E.removeHooks=function(e){X[e]&&(X[e]=[])},E.removeAllHooks=function(){X={}},E}()},e.exports=o()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e=[],t="id"){this._prop=t,this._array=e,this.table=this._arrayToDict(this._array)}add(e){return this._array.push(e),this.table[e[this._prop]]=e,this}delete(e){return"string"!=typeof e&&"number"!=typeof e||(e=this.get(e)),!!e&&(this._array.forEach((t,n)=>{t[this._prop]===e[this._prop]&&this._array.splice(n,1)}),delete this.table[e[this._prop]])}get(e=0){return e?this.table[e]:this._array[e]}get length(){return this._array.length}get array(){return this._array}_arrayToDict(e){return e.reduce((e,t)=>(e[t[this._prop]]=t,e),{})}}}]);